import{R as j,j as e,n as C,r as n,b as v,c as w,S as N}from"./index-CKgC-fQJ.js";import{B as g,C as b,a as E}from"./ResponsiveCarrousel-KBCrjkOJ.js";import{b as R,c as M}from"./endPoints-D6Ym8Q8U.js";import{f as I}from"./fetchData-DCFA1qTy.js";import{u as L}from"./useQuery-V_xR0IjW.js";import{C as S}from"./CarouselBoostrap-Bn6u7jf2.js";import"./NavBar-B3SP4niS.js";import"./useMergedRefs-DC6eVmGR.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./Transition-DI79B0YY.js";function B(r,s){return e.jsxs(e.Fragment,{children:[e.jsx("img",{src:`${R}${r.profile_path}`,alt:r.name,className:"main-imageCM"}),e.jsxs("div",{className:"detailsCM flex flex-col",children:[e.jsx("p",{className:"nombre-caster",children:r.name}),e.jsx("p",{className:"papel",children:e.jsx("span",{children:s?r.job:r.character})})]})]})}const d=j.memo(({castMember:r,isCrew:s})=>e.jsx("div",{className:"contenedor-posterCM",children:e.jsx("div",{className:"cardContainerImageCM posterCM",children:B(r,s)})}));function P(){var l,c;const r=C(),{movie:s}=r.state,{data:i}=L(`movieInfo-${s==null?void 0:s.id}`,()=>I(M(s==null?void 0:s.id).movieDetails)),[m,p]=n.useState(window.innerWidth);n.useEffect(()=>{const a=()=>p(window.innerWidth);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const{setSearchTerm:u}=v(),{setOpenMenu:f}=w();n.useEffect(()=>{window.scroll({top:0,left:0,behavior:"instant"}),f(!1),u("")},[]);const h=a=>a.credits.cast.map(t=>t.profile_path?e.jsx(d,{castMember:t},t.id):null),x=a=>a.credits.crew.map(t=>t.profile_path?e.jsx(d,{castMember:t,isCrew:!0},t.id):null),o=({renderCredits:a,title:t})=>e.jsxs("div",{className:"detallesReparto",children:[e.jsx("h2",{children:t}),e.jsx(b,{swipeable:!0,draggable:!0,showDots:!1,responsive:E,ssr:!0,infinite:!0,keyBoardControl:!1,className:`carousel-cast ${m<630?"cast-visible":""}`,children:a})]});return i?i&&e.jsxs("div",{className:"contenedorPrincipalMovie",children:[e.jsx(g,{movie:s,logoBuscar:!0,isDetail:!0}),e.jsxs("div",{className:"infoMovieContainer",children:[e.jsxs("div",{className:"detallesInfo",children:[((l=i.credits.cast)==null?void 0:l.length)>0&&e.jsx(o,{renderCredits:h(i),title:"CAST"}),((c=i.credits.crew)==null?void 0:c.length)>0&&e.jsx(o,{renderCredits:x(i),title:"CREW"})]}),e.jsx("div",{className:"contenedor-imagenes",children:e.jsx("div",{className:"flex flex-col backdropss",children:e.jsx(S,{movie:i})})})]})]}):e.jsx(N,{})}export{P as default};
