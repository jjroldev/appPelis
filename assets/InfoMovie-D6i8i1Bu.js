import{R as C,j as e,m as v,b as g,r as N}from"./index-BuxvlJJ-.js";import{B as w}from"./Banner-zQD0fqoe.js";/* empty css               */import{C as I,r as R}from"./ResponsiveCarrousel-B01GfDLc.js";import{U as b,a as B}from"./endPoints-CFqYS5zJ.js";import{f as E}from"./fetchData-DCFA1qTy.js";import{u as M}from"./useQuery-C6bK_1JL.js";import{C as D}from"./CarouselBoostrap-Ty7U5o0i.js";import"./NavBar-BXWHd56j.js";import"./useMergedRefs-YEegLI7f.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./Transition-BXtiDDtH.js";function L(r,s){return e.jsxs(e.Fragment,{children:[e.jsx("img",{src:`${b}${r.profile_path}`,alt:r.name,className:"main-imageCM"}),e.jsxs("div",{className:"detailsCM flex flex-col",children:[e.jsx("p",{className:"nombre-caster",children:r.name}),e.jsx("p",{className:"papel",children:e.jsx("span",{children:s?r.job:r.character})})]})]})}const f=C.memo(({castMember:r,isCrew:s})=>e.jsx("div",{className:"contenedor-posterCM",children:e.jsx("div",{className:"cardContainerImageCM posterCM",children:L(r,s)})}));function Q(){var o,l,c,d,m,p;const r=v(),{movie:s}=r.state,{data:t,isLoading:x}=M(`movieInfo-${s==null?void 0:s.id}`,()=>E(B(s==null?void 0:s.id).movieDetails)),{setSearchTerm:h}=g(),u=i=>i.credits.cast.map(a=>a.profile_path?e.jsx(f,{castMember:a},a.id):null),j=i=>i.credits.crew.map(a=>a.profile_path?e.jsx(f,{castMember:a,isCrew:!0},a.id):null),n=({renderCredits:i,title:a})=>e.jsxs("div",{className:"detallesReparto",children:[e.jsx("h2",{children:a}),e.jsx(I,{swipeable:!1,draggable:!1,showDots:!1,responsive:R,ssr:!0,infinite:!0,keyBoardControl:!1,className:"carousel-cast",children:i})]});return N.useEffect(()=>{window.scroll({top:0,left:0,behavior:"instant"}),h("")},[]),!t||x?e.jsx("div",{className:"w-screen h-screen cargandoInfo flex items-center justify-center",children:e.jsx("div",{className:"spinner"})}):e.jsxs("div",{className:"contenedorPrincipalMovie",children:[e.jsx(w,{movie:s,logoBuscar:!0,isDetail:!0}),(((l=(o=t.credits)==null?void 0:o.cast)==null?void 0:l.length)>0||((d=(c=t.credits)==null?void 0:c.crew)==null?void 0:d.length)>0)&&e.jsxs("div",{className:"infoMovieContainer",children:[e.jsxs("div",{className:"detallesInfo",children:[((m=t.credits.cast)==null?void 0:m.length)>0&&e.jsx(e.Fragment,{children:e.jsx(n,{renderCredits:u(t),title:"CAST"})}),((p=t.credits.crew)==null?void 0:p.length)>0&&e.jsx(e.Fragment,{children:e.jsx(n,{renderCredits:j(t),title:"CREW"})})]}),e.jsx("div",{className:"contenedor-imagenes",children:e.jsxs("div",{className:"flex flex-col backdropss",children:[e.jsx("h2",{children:"Backdrops"}),e.jsx(D,{movie:t})]})})]})]})}export{Q as default};
