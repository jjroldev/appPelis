import{e as I,u as p,r as o,b as y}from"./index-R-ACXzHi.js";import{g as L,a as M,f}from"./fetchData-BBqYyPh8.js";function R(m,g,l){const{language:e}=I(),{currentPerfil:n}=p(),d=o.useMemo(()=>L(e),[e]),h=o.useMemo(()=>M(e,1),[e]),{data:a,isLoading:u}=y([g,e],()=>l==="movie"?f(d.nowPlaying):f(h.mysterySeries)),[S,c]=o.useState(null),r=o.useMemo(()=>{var t;return((t=a==null?void 0:a.results)==null?void 0:t.filter(s=>s.backdrop_path&&s.overview))||[]},[a]);return o.useEffect(()=>{if(!u&&r.length>0&&n){const t=`${m}-${n.id}`,s=sessionStorage.getItem(t);if(s)c(JSON.parse(s));else{const i=r[Math.floor(Math.random()*r.length)];c(i),sessionStorage.setItem(t,JSON.stringify(i))}}},[r,u,n]),S}export{R as u};
