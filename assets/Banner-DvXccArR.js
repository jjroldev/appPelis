const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DetalleBaner-DglS32XE.js","assets/index-3gWpyPpj.js","assets/index-CxXBlUI9.css","assets/DetalleBaner-ChtRw7G9.css"])))=>i.map(i=>d[i]);
import{j as a,r as u,_ as U,d as M,f as O,c as y,m as A}from"./index-3gWpyPpj.js";import{f as c}from"./fetchData-DCFA1qTy.js";import{C as D,u as P,m,B as L,U as S,f as F,c as G,e as I,h as T,i as V}from"./BarMenu-D89j1Pj6.js";import{u as W}from"./useFavorites-D_pO7-_H.js";const b=(s,o="US")=>{var n,t,r,i,l;return s&&"content_ratings"in s?(n=s.content_ratings.results.filter(e=>e.iso_3166_1===o||"US").filter(e=>(e==null?void 0:e.rating)!="")[0])==null?void 0:n.rating:s&&"release_dates"in s?(l=(i=(r=((t=s==null?void 0:s.release_dates)==null?void 0:t.results.filter(e=>e.iso_3166_1===o))[0])==null?void 0:r.release_dates)==null?void 0:i.filter(e=>e.certification!="")[0])==null?void 0:l.certification:null};function K(s){var o,n;return(n=(o=s==null?void 0:s.results)==null?void 0:o.filter(t=>(t==null?void 0:t.key)!=null)[0])==null?void 0:n.key}function $(s){var n,t,r;const o=((t=(n=s==null?void 0:s.videos)==null?void 0:n.results)==null?void 0:t.find(i=>i.name==="Official Trailer"))||((r=s==null?void 0:s.videos)==null?void 0:r.results[0]);return o==null?void 0:o.key}const X=s=>{if(!s)return null;if(s<60)return`${s} min`;const o=Math.floor(s/60),n=s%60;return n>0?`${o} h ${n} min`:`${o} h`},Y=(s,o,n,t)=>s.map(r=>a.jsx(D,{item:r,isLarge:n>1e3?o:!1,onAddFavorite:t},r.id)),z=u.lazy(()=>U(()=>import("./DetalleBaner-DglS32XE.js"),__vite__mapDeps([0,1,2,3])));function Z({itemId:s,isDetail:o=!1,type:n}){var p,v,j,_,N;const t=M(),{handleAddFavorite:r}=W(),{language:i}=O(),l=P(),[f,d]=u.useState(!1),{data:e,isLoading:R}=y(`movie-${s}`,()=>n==="movie"?c(G(s).movieDetails):c(I(s)),{enabled:!!s}),{data:g}=y(`logo-item-${n}-${s}`,()=>n==="movie"?c(T(s)):c(V(s)),{enabled:!!s,staleTime:1e3*60*5}),x=((j=(v=(p=e==null?void 0:e.images)==null?void 0:p.logos)==null?void 0:v.find(h=>h.iso_639_1===i))==null?void 0:j.file_path)||((N=(_=g==null?void 0:g.logos)==null?void 0:_[0])==null?void 0:N.file_path)||null,k=u.useCallback(()=>{t(`/${n}/${e==null?void 0:e.id}`)},[t,e==null?void 0:e.id]),w=()=>e!=null&&e.overview?a.jsxs("p",{className:"overview",children:[l>600?e.overview.slice(0,350):e.overview.slice(0,150),"..."]}):null,C=()=>x?a.jsx("img",{className:"logo-banner",src:`${F}${x}`,alt:"Logo",onLoad:()=>d(!0),style:{opacity:f?1:0,transition:"opacity 0.6s ease-in-out"}}):null,E=()=>{$(e)?t(`/watch/${$(e)}`):A.error("No existe un trailer para la serie/pelicula seleccionada")};function B(){return a.jsxs("div",{className:"botones",children:[a.jsxs("button",{className:"play",onClick:E,children:[a.jsx("i",{className:"fa-solid fa-play"})," Play"]}),location.hash!=="#/info"&&a.jsxs("button",{onClick:k,className:"boton-info-banner",children:[a.jsx("i",{className:"fa-solid fa-circle-info"})," More Information"]}),a.jsx("button",{onClick:()=>r(e),className:"botonMeGustaBanner",children:a.jsx("i",{className:"fa-solid fa-heart"})})]})}return!s||!e||R?a.jsxs(m.div,{className:"header",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeOut"},children:[a.jsx(L,{}),a.jsx("div",{className:"fondoCardItem h-full w-full absolute inset-0 opacity-100 transition-opacity duration-400"})]}):a.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeOut"},className:"header",children:[a.jsx("img",{src:`${S}${e==null?void 0:e.backdrop_path}`,className:"fondo",onLoad:h=>h.currentTarget.style.opacity="1",style:{opacity:0,transition:"opacity 0.2s ease-in-out"}}),a.jsx(L,{}),a.jsx("div",{className:"cuerpoBanner",children:a.jsxs("div",{className:`contenedorLogo ${o?"contenedorDetailN":""}`,children:[a.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[a.jsx(C,{}),b(e)&&l<=600&&a.jsxs("span",{className:"edadParaPublico inline-block max-h-fit",children:[b(e),"+"]})]}),o&&a.jsx(u.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(z,{item:e})}),a.jsx(B,{}),w()]})})]})}export{Z as B,K as a,X as f,b as g,Y as r};
