import{e as h,r as o}from"./index-GES2pQCq.js";import{u as l}from"./useQuery-BYkF4J__.js";import{f as i}from"./fetchData-DCFA1qTy.js";import{g as S,b as M}from"./BarMenu-DtgXWDGu.js";function F(n,c,f){const{language:e}=h(),m=o.useMemo(()=>S(e),[e]),g=o.useMemo(()=>M(e),[e]),{data:r,isLoading:u}=l([c,e],()=>f=="movie"?i(m.topRatedMovies):i(g.topRatedSeries)),[d,p]=o.useState(null),a=o.useMemo(()=>{var t;return((t=r==null?void 0:r.results)==null?void 0:t.filter(s=>s.backdrop_path&&s.overview))||[]},[r]);return o.useEffect(()=>{if(!u&&a.length>0){const t=sessionStorage.getItem(n),s=t?JSON.parse(t):a[Math.floor(Math.random()*a.length)];p(s),sessionStorage.setItem(n,JSON.stringify(s))}},[a,u]),d}export{F as u};
