const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Backdrop-CgyMwdLY.js","assets/index-DDzo3EOS.js","assets/index-TkxzABbH.css","assets/CardItem-DTGCo5zq.js","assets/CardItem-BzbbERU_.css","assets/Backdrop-C5hZIQAT.css"])))=>i.map(i=>d[i]);
import{k as Ke,H,R as P,r as i,j as f,_ as Ye,f as ze,c as Ze}from"./index-DDzo3EOS.js";import{b as re,d as G,o as Qe,l as Re,e as qe,g as Je,h as et,j as tt,i as Ee,A as xe}from"./useMergedRefs-DLiO4ND1.js";import{_ as nt}from"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import{T as Te}from"./TransitionGroupContext-CLDyjztJ.js";import{f as rt}from"./fetchData-DCFA1qTy.js";import{c as st,e as at,m as it}from"./CardItem-DTGCo5zq.js";const Ce={disabled:!1};var ot=function(r){return r.scrollTop},V="unmounted",I="exited",w="entering",$="entered",te="exiting",T=function(e){Ke(r,e);function r(s,n){var t;t=e.call(this,s,n)||this;var u=n,l=u&&!u.isMounting?s.enter:s.appear,d;return t.appearStatus=null,s.in?l?(d=I,t.appearStatus=w):d=$:s.unmountOnExit||s.mountOnEnter?d=V:d=I,t.state={status:d},t.nextCallback=null,t}r.getDerivedStateFromProps=function(n,t){var u=n.in;return u&&t.status===V?{status:I}:null};var a=r.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(n){var t=null;if(n!==this.props){var u=this.state.status;this.props.in?u!==w&&u!==$&&(t=w):(u===w||u===$)&&(t=te)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var n=this.props.timeout,t,u,l;return t=u=l=n,n!=null&&typeof n!="number"&&(t=n.exit,u=n.enter,l=n.appear!==void 0?n.appear:u),{exit:t,enter:u,appear:l}},a.updateStatus=function(n,t){if(n===void 0&&(n=!1),t!==null)if(this.cancelNextCallback(),t===w){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:H.findDOMNode(this);u&&ot(u)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===I&&this.setState({status:V})},a.performEnter=function(n){var t=this,u=this.props.enter,l=this.context?this.context.isMounting:n,d=this.props.nodeRef?[l]:[H.findDOMNode(this),l],E=d[0],p=d[1],h=this.getTimeouts(),N=l?h.appear:h.enter;if(!n&&!u||Ce.disabled){this.safeSetState({status:$},function(){t.props.onEntered(E)});return}this.props.onEnter(E,p),this.safeSetState({status:w},function(){t.props.onEntering(E,p),t.onTransitionEnd(N,function(){t.safeSetState({status:$},function(){t.props.onEntered(E,p)})})})},a.performExit=function(){var n=this,t=this.props.exit,u=this.getTimeouts(),l=this.props.nodeRef?void 0:H.findDOMNode(this);if(!t||Ce.disabled){this.safeSetState({status:I},function(){n.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:te},function(){n.props.onExiting(l),n.onTransitionEnd(u.exit,function(){n.safeSetState({status:I},function(){n.props.onExited(l)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(n,t){t=this.setNextCallback(t),this.setState(n,t)},a.setNextCallback=function(n){var t=this,u=!0;return this.nextCallback=function(l){u&&(u=!1,t.nextCallback=null,n(l))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},a.onTransitionEnd=function(n,t){this.setNextCallback(t);var u=this.props.nodeRef?this.props.nodeRef.current:H.findDOMNode(this),l=n==null&&!this.props.addEndListener;if(!u||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],E=d[0],p=d[1];this.props.addEndListener(E,p)}n!=null&&setTimeout(this.nextCallback,n)},a.render=function(){var n=this.state.status;if(n===V)return null;var t=this.props,u=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var l=nt(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return P.createElement(Te.Provider,{value:null},typeof u=="function"?u(n,l):P.cloneElement(P.Children.only(u),l))},r}(P.Component);T.contextType=Te;T.propTypes={};function U(){}T.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:U,onEntering:U,onEntered:U,onExit:U,onExiting:U,onExited:U};T.UNMOUNTED=V;T.EXITED=I;T.ENTERING=w;T.ENTERED=$;T.EXITING=te;function ut(e,r){const a=i.useRef(!0);i.useEffect(()=>{if(a.current){a.current=!1;return}return e()},r)}function lt(){const e=i.useRef(!0),r=i.useRef(()=>e.current);return i.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),r.current}function ct(e){const r=i.useRef(e);return r.current=e,r}function ft(e){const r=ct(e);i.useEffect(()=>()=>r.current(),[])}const ne=2**31-1;function Se(e,r,a){const s=a-Date.now();e.current=s<=ne?setTimeout(r,s):setTimeout(()=>Se(e,r,a),ne)}function dt(){const e=lt(),r=i.useRef();return ft(()=>clearTimeout(r.current)),i.useMemo(()=>{const a=()=>clearTimeout(r.current);function s(n,t=0){e()&&(a(),t<=ne?r.current=setTimeout(n,t):Se(r,n,Date.now()+t))}return{set:s,clear:a,handleRef:r}},[])}const De=i.forwardRef(({className:e,bsPrefix:r,as:a="div",...s},n)=>(r=re(r,"carousel-caption"),f.jsx(a,{ref:n,className:G(e,r),...s})));De.displayName="CarouselCaption";const ke=i.forwardRef(({as:e="div",bsPrefix:r,className:a,...s},n)=>{const t=G(a,re(r,"carousel-item"));return f.jsx(e,{ref:n,...s,className:t})});ke.displayName="CarouselItem";function be(e,r){let a=0;return i.Children.map(e,s=>i.isValidElement(s)?r(s,a++):s)}function pt(e,r){let a=0;i.Children.forEach(e,s=>{i.isValidElement(s)&&r(s,a++)})}function ht(e){var r=Qe(e);return r&&r.defaultView||window}function mt(e,r){return ht(e).getComputedStyle(e,r)}var vt=/([A-Z])/g;function Et(e){return e.replace(vt,"-$1").toLowerCase()}var xt=/^ms-/;function Z(e){return Et(e).replace(xt,"-ms-")}var Ct=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function bt(e){return!!(e&&Ct.test(e))}function ye(e,r){var a="",s="";if(typeof r=="string")return e.style.getPropertyValue(Z(r))||mt(e).getPropertyValue(Z(r));Object.keys(r).forEach(function(n){var t=r[n];!t&&t!==0?e.style.removeProperty(Z(n)):bt(n)?s+=n+"("+t+") ":a+=Z(n)+": "+t+";"}),s&&(a+="transform: "+s+";"),e.style.cssText+=";"+a}function Nt(e,r,a,s){if(s===void 0&&(s=!0),e){var n=document.createEvent("HTMLEvents");n.initEvent(r,a,s),e.dispatchEvent(n)}}function gt(e){var r=ye(e,"transitionDuration")||"",a=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*a}function Rt(e,r,a){a===void 0&&(a=5);var s=!1,n=setTimeout(function(){s||Nt(e,"transitionend",!0)},r+a),t=Re(e,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(n),t()}}function Tt(e,r,a,s){a==null&&(a=gt(e)||0);var n=Rt(e,a,s),t=Re(e,"transitionend",r);return function(){n(),t()}}function Ne(e,r){const a=ye(e,r)||"",s=a.indexOf("ms")===-1?1e3:1;return parseFloat(a)*s}function St(e,r){const a=Ne(e,"transitionDuration"),s=Ne(e,"transitionDelay"),n=Tt(e,t=>{t.target===e&&(n(),r(t))},a+s)}function Dt(e){e.offsetHeight}function kt(e){return e&&"setState"in e?H.findDOMNode(e):e??null}const yt=P.forwardRef(({onEnter:e,onEntering:r,onEntered:a,onExit:s,onExiting:n,onExited:t,addEndListener:u,children:l,childRef:d,...E},p)=>{const h=i.useRef(null),N=qe(h,d),S=x=>{N(kt(x))},v=x=>y=>{x&&h.current&&x(h.current,y)},B=i.useCallback(v(e),[e]),A=i.useCallback(v(r),[r]),D=i.useCallback(v(a),[a]),X=i.useCallback(v(s),[s]),F=i.useCallback(v(n),[n]),k=i.useCallback(v(t),[t]),K=i.useCallback(v(u),[u]);return f.jsx(T,{ref:p,...E,onEnter:B,onEntered:D,onEntering:A,onExit:X,onExited:k,onExiting:F,addEndListener:K,nodeRef:h,children:typeof l=="function"?(x,y)=>l(x,{...y,ref:S}):P.cloneElement(l,{ref:S})})}),Mt=40;function Ot(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;const r=getComputedStyle(e);return r.display!=="none"&&r.visibility!=="hidden"&&getComputedStyle(e.parentNode).display!=="none"}const Me=i.forwardRef(({defaultActiveIndex:e=0,...r},a)=>{const{as:s="div",bsPrefix:n,slide:t=!0,fade:u=!1,controls:l=!0,indicators:d=!0,indicatorLabels:E=[],activeIndex:p,onSelect:h,onSlide:N,onSlid:S,interval:v=5e3,keyboard:B=!0,onKeyDown:A,pause:D="hover",onMouseOver:X,onMouseOut:F,wrap:k=!0,touch:K=!0,onTouchStart:x,onTouchMove:y,onTouchEnd:Q,prevIcon:Oe=f.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:se="Previous",nextIcon:Ie=f.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:ae="Next",variant:ie,className:we,children:q,...je}=Je({defaultActiveIndex:e,...r},{activeIndex:"onSelect"}),g=re(n,"carousel"),j=et(),L=i.useRef(null),[oe,ue]=i.useState("next"),[Le,Y]=i.useState(!1),[_,le]=i.useState(!1),[m,_e]=i.useState(p||0);i.useEffect(()=>{!_&&p!==m&&(L.current?ue(L.current):ue((p||0)>m?"next":"prev"),t&&le(!0),_e(p||0))},[p,_,m,t]),i.useEffect(()=>{L.current&&(L.current=null)});let M=0,ce;pt(q,(o,c)=>{++M,c===p&&(ce=o.props.interval)});const fe=tt(ce),C=i.useCallback(o=>{if(_)return;let c=m-1;if(c<0){if(!k)return;c=M-1}L.current="prev",h==null||h(c,o)},[_,m,h,k,M]),b=Ee(o=>{if(_)return;let c=m+1;if(c>=M){if(!k)return;c=0}L.current="next",h==null||h(c,o)}),J=i.useRef();i.useImperativeHandle(a,()=>({element:J.current,prev:C,next:b}));const de=Ee(()=>{!document.hidden&&Ot(J.current)&&(j?C():b())}),O=oe==="next"?"start":"end";ut(()=>{t||(N==null||N(m,O),S==null||S(m,O))},[m]);const Ue=`${g}-item-${oe}`,$e=`${g}-item-${O}`,Pe=i.useCallback(o=>{Dt(o),N==null||N(m,O)},[N,m,O]),Ae=i.useCallback(()=>{le(!1),S==null||S(m,O)},[S,m,O]),Xe=i.useCallback(o=>{if(B&&!/input|textarea/i.test(o.target.tagName))switch(o.key){case"ArrowLeft":o.preventDefault(),j?b(o):C(o);return;case"ArrowRight":o.preventDefault(),j?C(o):b(o);return}A==null||A(o)},[B,A,C,b,j]),Fe=i.useCallback(o=>{D==="hover"&&Y(!0),X==null||X(o)},[D,X]),We=i.useCallback(o=>{Y(!1),F==null||F(o)},[F]),pe=i.useRef(0),z=i.useRef(0),he=dt(),He=i.useCallback(o=>{pe.current=o.touches[0].clientX,z.current=0,D==="hover"&&Y(!0),x==null||x(o)},[D,x]),Ve=i.useCallback(o=>{o.touches&&o.touches.length>1?z.current=0:z.current=o.touches[0].clientX-pe.current,y==null||y(o)},[y]),Ge=i.useCallback(o=>{if(K){const c=z.current;Math.abs(c)>Mt&&(c>0?C(o):b(o))}D==="hover"&&he.set(()=>{Y(!1)},v||void 0),Q==null||Q(o)},[K,D,C,b,he,v,Q]),me=v!=null&&!Le&&!_,ee=i.useRef();i.useEffect(()=>{var o,c;if(!me)return;const R=j?C:b;return ee.current=window.setInterval(document.visibilityState?de:R,(o=(c=fe.current)!=null?c:v)!=null?o:void 0),()=>{ee.current!==null&&clearInterval(ee.current)}},[me,C,b,fe,v,de,j]);const ve=i.useMemo(()=>d&&Array.from({length:M},(o,c)=>R=>{h==null||h(c,R)}),[d,M,h]);return f.jsxs(s,{ref:J,...je,onKeyDown:Xe,onMouseOver:Fe,onMouseOut:We,onTouchStart:He,onTouchMove:Ve,onTouchEnd:Ge,className:G(we,g,t&&"slide",u&&`${g}-fade`,ie&&`${g}-${ie}`),children:[d&&f.jsx("div",{className:`${g}-indicators`,children:be(q,(o,c)=>f.jsx("button",{type:"button","data-bs-target":"","aria-label":E!=null&&E.length?E[c]:`Slide ${c+1}`,className:c===m?"active":void 0,onClick:ve?ve[c]:void 0,"aria-current":c===m},c))}),f.jsx("div",{className:`${g}-inner`,children:be(q,(o,c)=>{const R=c===m;return t?f.jsx(yt,{in:R,onEnter:R?Pe:void 0,onEntered:R?Ae:void 0,addEndListener:St,children:(W,Be)=>i.cloneElement(o,{...Be,className:G(o.props.className,R&&W!=="entered"&&Ue,(W==="entered"||W==="exiting")&&"active",(W==="entering"||W==="exiting")&&$e)})}):i.cloneElement(o,{className:G(o.props.className,R&&"active")})})}),l&&f.jsxs(f.Fragment,{children:[(k||p!==0)&&f.jsxs(xe,{className:`${g}-control-prev`,onClick:C,children:[Oe,se&&f.jsx("span",{className:"visually-hidden",children:se})]}),(k||p!==M-1)&&f.jsxs(xe,{className:`${g}-control-next`,onClick:b,children:[Ie,ae&&f.jsx("span",{className:"visually-hidden",children:ae})]})]})]})});Me.displayName="Carousel";const ge=Object.assign(Me,{Caption:De,Item:ke}),It=i.lazy(()=>Ye(()=>import("./Backdrop-CgyMwdLY.js"),__vite__mapDeps([0,1,2,3,4,5]))),Pt=i.memo(({item:e})=>{const{language:r}=ze(),s=e&&"title"in e?st(e==null?void 0:e.id,r).movieDetails:at(e==null?void 0:e.id,r),{data:n}=Ze(["mediaDetails",e==null?void 0:e.id],()=>rt(s),{refetchOnWindowFocus:!1});console.log(n);const t=i.useMemo(()=>{var u;return!n||!("images"in n)?[]:((u=n.images)==null?void 0:u.backdrops)||[]},[n]);return f.jsx(it.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,ease:"easeOut"},children:f.jsx("div",{className:"carousel-bootstrap cb-backdrop",children:f.jsx(ge,{fade:!0,interval:3e3,pause:"hover",children:t.map((u,l)=>f.jsx(ge.Item,{children:f.jsx(It,{backdrop_path:u.file_path})},l))})})})});export{Pt as default};
