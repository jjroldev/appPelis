import{f as S,u as I,r as o,c as M}from"./index-3gWpyPpj.js";import{f}from"./fetchData-DCFA1qTy.js";import{g as v,b as L}from"./BarMenu-D89j1Pj6.js";function y(m,d,g){const{language:e}=S(),{currentPerfil:n}=I(),l=o.useMemo(()=>v(e),[e]),h=o.useMemo(()=>L(e),[e]),{data:r,isLoading:u}=M([d,e],()=>g==="movie"?f(l.topRatedMovies):f(h.topRatedSeries)),[p,c]=o.useState(null),a=o.useMemo(()=>{var t;return((t=r==null?void 0:r.results)==null?void 0:t.filter(s=>s.backdrop_path&&s.overview))||[]},[r]);return o.useEffect(()=>{if(!u&&a.length>0&&n){const t=`${m}-${n.id}`,s=sessionStorage.getItem(t);if(s)c(JSON.parse(s));else{const i=a[Math.floor(Math.random()*a.length)];c(i),sessionStorage.setItem(t,JSON.stringify(i))}}},[a,u,n]),p}export{y as u};
