const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DetalleBaner-YVaUXylH.js","assets/index-ZhOadw6B.js","assets/index-DXPAHY2_.css","assets/DetalleBaner-C2MKkyFj.css"])))=>i.map(i=>d[i]);
import{r as n,_ as O,d as D,e as S,u as G,b as h,g as I,j as a,l as T}from"./index-ZhOadw6B.js";import{m as f,k as P,l as V,f as r,h as z,j as W,n as Q,o as U}from"./fetchData-D8ToqI1N.js";import{g as q,a as j,b as N}from"./CardItem-Ct6m1Y4G.js";import{u as H}from"./useFavorites-BfnalO9e.js";import{u as J}from"./useWindowWidth-BAPt7hjq.js";import b from"./BarMenu-BD1lJ4Ee.js";const L=n.lazy(()=>O(()=>import("./DetalleBaner-YVaUXylH.js"),__vite__mapDeps([0,1,2,3])));function ea({itemId:e,isDetail:d=!1,type:l}){const g=D(),{handleAddFavorite:y,handleRemoveFavorite:$}=H(),{language:m}=S(),c=J(),[_,R]=n.useState(!1),{currentPerfil:o,currentUser:i}=G(),{data:s,isLoading:x}=h(`movie-${e}`,()=>l==="movie"?r(z(e,m).movieDetails):r(W(e,m)),{enabled:!!e}),{data:k,isLoading:w}=h(`logo-item-${l}-${e}`,()=>l==="movie"?r(Q(e)):r(U(e)),{enabled:!!e,staleTime:1e3*60*5}),v=q(s,k,m),{data:u}=h(`favorites-${i==null?void 0:i.id}-${o==null?void 0:o.id}`,()=>I(i==null?void 0:i.id,o==null?void 0:o.id),{enabled:!!(i!=null&&i.id)&&!!(o!=null&&o.id)}),p=u==null?void 0:u.some(t=>t.id===(s==null?void 0:s.id)),B=()=>{s&&(p?$(s):y(s))},M=n.useCallback(()=>{g(`/${l}/${s==null?void 0:s.id}`)},[g,s==null?void 0:s.id]),E=()=>s!=null&&s.overview?a.jsxs("p",{className:"overview",children:[c>600?s.overview.slice(0,350):s.overview.slice(0,250),"..."]}):null,F=({item:t})=>v&&!x?a.jsx("img",{className:"logo-banner",src:`${V}${v}`,alt:"Logo",onLoad:()=>R(!0),style:{opacity:_?1:0,transition:"opacity 0.6s ease-in-out"}}):a.jsx("h2",{className:"titleItemNoLogo",children:t?"title"in t?t.title:t.name:"No Title"}),A=()=>{N(s)?g(`/watch/${N(s)}`):T.error("No existe un trailer para la serie/pelicula seleccionada")};function C(){return a.jsxs("div",{className:"botones",children:[a.jsxs("button",{className:"play",onClick:A,children:[a.jsx("i",{className:"fa-solid fa-play"})," Play"]}),location.hash!=="#/info"&&a.jsxs("button",{onClick:M,className:"boton-info-banner",children:[a.jsx("span",{className:"material-symbols-outlined",children:"info"})," More Information"]}),a.jsx("button",{onClick:B,className:"botonMeGustaBanner",children:a.jsx("i",{className:`fa-solid ${p?"fa-check":"fa-plus"}`})})]})}return!e||!s||x||w?a.jsxs(f.div,{className:"header",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeOut"},children:[a.jsx(b,{}),a.jsx("div",{className:"fondoCardItem h-full w-full absolute inset-0 opacity-100 transition-opacity duration-400"})]}):a.jsxs(f.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeOut"},className:"header",children:[a.jsx("img",{src:`${P}${s==null?void 0:s.backdrop_path}`,className:`fondo ${c<=650?"fondoMobile":""}`,onLoad:t=>t.currentTarget.style.opacity="1",style:{opacity:0,transition:"opacity 0.2s ease-in-out"}}),j(s)&&a.jsxs("span",{className:"edadParaPublicoBanner absolute top-30 right-0 z-10",children:[j(s),"+"]}),a.jsx(b,{}),a.jsx("div",{className:"cuerpoBanner",children:a.jsxs("div",{className:`contenedorLogo ${d?"contenedorDetailN":""}`,children:[a.jsx("div",{className:"flex flex-row items-center",children:a.jsx(F,{item:s})}),d&&c>=650&&a.jsx(n.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(L,{item:s})}),a.jsx(C,{}),E(),d&&c<650&&a.jsx(n.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(L,{item:s})})]})})]})}export{ea as B};
