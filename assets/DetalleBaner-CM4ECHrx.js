import{r as c,j as r}from"./index-nLxA1X93.js";import{C as h}from"./CarouselBoostrap-Cjp7i3Fh.js";import{C as j,b as N}from"./ResponsiveCarrousel-DwANebFd.js";import{c as g,d as w}from"./endPoints-D6Ym8Q8U.js";import{u as _}from"./useQuery--5MvWUps.js";import{f as D}from"./fetchData-DCFA1qTy.js";import"./useMergedRefs-cLb7Wx4x.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./Transition-BlqVJSux.js";import"./NavBar-CxuLc1AR.js";function y({movie:s}){const{data:a}=_(`providers-${s==null?void 0:s.id}`,()=>D(g(s==null?void 0:s.id).providers)),[p,f]=c.useState([]),u=(n=[])=>n.map(e=>r.jsx("li",{children:r.jsx("span",{children:e.name})},e.id));c.useEffect(()=>{if(a!=null&&a.results){const n=[],e=new Set;for(const o in a.results){const l=a.results[o];["flatrate","buy","rent"].forEach(d=>{l[d]&&l[d].forEach(t=>{e.has(t.provider_name)||(e.add(t.provider_name),n.push(t))})})}f(n)}},[a]);const x=n=>n?r.jsx(j,{swipeable:!1,draggable:!1,showDots:!1,responsive:N,ssr:!0,infinite:!0,keyBoardControl:!0,className:"carouselProviders",children:n.map(e=>r.jsx("img",{className:"provedorLogo",src:w+e.logo_path,alt:e.provider_name},e.provider_id))}):null,i=()=>r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"movieDetailsBanner flex flex-col",children:[(s==null?void 0:s.overview)&&r.jsx("p",{className:"overview",children:s==null?void 0:s.overview.slice(0,(s==null?void 0:s.overview.indexOf("."))+1)}),r.jsxs("div",{className:"bannerDetails flex flex-row",children:[r.jsxs("span",{children:["TMDB ",s==null?void 0:s.vote_average.toFixed(1)]}),r.jsx("span",{children:s==null?void 0:s.release_date.split("-")[0]}),r.jsx("span",{children:s!=null&&s.runtime?`${Math.floor((s==null?void 0:s.runtime)/60)}h ${(s==null?void 0:s.runtime)%60}min`:"Runtime no disponible"})]}),r.jsx("div",{children:r.jsx("ul",{className:"generosBanner flex flex-row",children:u(s==null?void 0:s.genres)})})]}),r.jsxs("div",{className:"provedores-container posters-continer-banner",children:[r.jsx("div",{className:"postersInfo",children:r.jsx(h,{movie:s,isPoster:!0})}),x(p)]})]});return r.jsx(i,{})}export{y as default};
