const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DetalleBaner-BdwxjI6n.js","assets/index-CPu5Wh8r.js","assets/index-nTndg0aU.css","assets/fetchData-DCFA1qTy.js","assets/BarMenu-CL3COuFv.js","assets/BarMenu-BzbbERU_.css","assets/useFavorites-DEh54i7_.js","assets/createSimplePaletteValueFilter-DiBWUW7V.js","assets/DetalleBaner-BGHIQN3x.css"])))=>i.map(i=>d[i]);
import{j as o,r as f,_ as H,d as J,f as Q,c as B,m as q}from"./index-CPu5Wh8r.js";import{f as j}from"./fetchData-DCFA1qTy.js";import{C as Y,u as Z,m as M,B as P,U as tt,f as et,c as at,e as st,h as nt,i as ot}from"./BarMenu-CL3COuFv.js";import{u as rt}from"./useFavorites-DEh54i7_.js";import{i as it,j as lt,a as W,g as D,s as F,d as w,m as V,u as I,c as G,b as X,f as ct,k as z,n as K,e as pt}from"./createSimplePaletteValueFilter-DiBWUW7V.js";const L=(t,a="US")=>{var e,s,r,i,l;return t&&"content_ratings"in t?(e=t.content_ratings.results.filter(n=>n.iso_3166_1===a||"ES").filter(n=>(n==null?void 0:n.rating)!="")[0])==null?void 0:e.rating:t&&"release_dates"in t?(l=(i=(r=((s=t==null?void 0:t.release_dates)==null?void 0:s.results.filter(n=>n.iso_3166_1===a))[0])==null?void 0:r.release_dates)==null?void 0:i.filter(n=>n.certification!="")[0])==null?void 0:l.certification:null};function Mt(t){var a,e;return(e=(a=t==null?void 0:t.results)==null?void 0:a.filter(s=>(s==null?void 0:s.key)!=null)[0])==null?void 0:e.key}function T(t){var e,s,r;const a=((s=(e=t==null?void 0:t.videos)==null?void 0:e.results)==null?void 0:s.find(i=>i.name==="Official Trailer"))||((r=t==null?void 0:t.videos)==null?void 0:r.results[0]);return a==null?void 0:a.key}const Pt=t=>{if(!t)return null;if(t<60)return`${t} min`;const a=Math.floor(t/60),e=t%60;return e>0?`${a} h ${e} min`:`${a} h`},Lt=(t,a,e,s)=>t.map(r=>o.jsx(Y,{item:r,isLarge:e>1e3?a:!1,onAddFavorite:s},r.id)),ut=t=>{var s;const a={systemProps:{},otherProps:{}},e=((s=t==null?void 0:t.theme)==null?void 0:s.unstable_sxConfig)??it;return Object.keys(t).forEach(r=>{e[r]?a.systemProps[r]=t[r]:a.otherProps[r]=t[r]}),a};function ht(t){const{sx:a,...e}=t,{systemProps:s,otherProps:r}=ut(e);let i;return Array.isArray(a)?i=[s,...a]:typeof a=="function"?i=(...l)=>{const c=a(...l);return lt(c)?{...s,...c}:s}:i={...s,...a},{...r,sx:i}}function dt(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function gt(t){return parseFloat(t)}function ft(){return ht}function yt(t){return W("MuiTypography",t)}D("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const mt={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},xt=ft(),vt=t=>{const{align:a,gutterBottom:e,noWrap:s,paragraph:r,variant:i,classes:l}=t,c={root:["root",i,t.align!=="inherit"&&`align${w(a)}`,e&&"gutterBottom",s&&"noWrap",r&&"paragraph"]};return X(c,yt,l)},bt=F("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:e}=t;return[a.root,e.variant&&a[e.variant],e.align!=="inherit"&&a[`align${w(e.align)}`],e.noWrap&&a.noWrap,e.gutterBottom&&a.gutterBottom,e.paragraph&&a.paragraph]}})(V(({theme:t})=>{var a;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,s])=>e!=="inherit"&&s&&typeof s=="object").map(([e,s])=>({props:{variant:e},style:s})),...Object.entries(t.palette).filter(ct()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(((a=t.palette)==null?void 0:a.text)||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${w(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}})),U={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},A=f.forwardRef(function(a,e){const{color:s,...r}=I({props:a,name:"MuiTypography"}),i=!mt[s],l=xt({...r,...i&&{color:s}}),{align:c="inherit",className:p,component:n,gutterBottom:y=!1,noWrap:u=!1,paragraph:h=!1,variant:g="body1",variantMapping:m=U,...x}=l,v={...l,align:c,color:s,className:p,component:n,gutterBottom:y,noWrap:u,paragraph:h,variant:g,variantMapping:m},C=n||(h?"p":m[g]||U[g])||"span",b=vt(v);return o.jsx(bt,{as:C,ref:e,className:G(b.root,p),...x,ownerState:v,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...x.style}})});function jt(t){return W("MuiSkeleton",t)}D("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Ct=t=>{const{classes:a,variant:e,animation:s,hasChildren:r,width:i,height:l}=t;return X({root:["root",e,s,r&&"withChildren",r&&!i&&"fitContent",r&&!l&&"heightAuto"]},jt,a)},k=z`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,N=z`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,wt=typeof k!="string"?K`
        animation: ${k} 2s ease-in-out 0.5s infinite;
      `:null,kt=typeof N!="string"?K`
        &::after {
          animation: ${N} 2s linear 0.5s infinite;
        }
      `:null,Nt=F("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:e}=t;return[a.root,a[e.variant],e.animation!==!1&&a[e.animation],e.hasChildren&&a.withChildren,e.hasChildren&&!e.width&&a.fitContent,e.hasChildren&&!e.height&&a.heightAuto]}})(V(({theme:t})=>{const a=dt(t.shape.borderRadius)||"px",e=gt(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:pt(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${e}${a}/${Math.round(e/.6*10)/10}${a}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:({ownerState:s})=>s.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:s})=>s.hasChildren&&!s.width,style:{maxWidth:"fit-content"}},{props:({ownerState:s})=>s.hasChildren&&!s.height,style:{height:"auto"}},{props:{animation:"pulse"},style:wt||{animation:`${k} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(t.vars||t).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:kt||{"&::after":{animation:`${N} 2s linear 0.5s infinite`}}}]}})),O=f.forwardRef(function(a,e){const s=I({props:a,name:"MuiSkeleton"}),{animation:r="pulse",className:i,component:l="span",height:c,style:p,variant:n="text",width:y,...u}=s,h={...s,animation:r,component:l,variant:n,hasChildren:!!u.children},g=Ct(h);return o.jsx(Nt,{as:l,ref:e,className:G(g.root,i),ownerState:h,...u,style:{width:y,height:c,...p}})}),E=f.lazy(()=>H(()=>import("./DetalleBaner-BdwxjI6n.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])));function Tt({itemId:t,isDetail:a=!1,type:e}){var b,S,$,R,_;const s=J(),{handleAddFavorite:r}=rt(),{language:i}=Q(),l=Z(),[c,p]=f.useState(!1),{data:n,isLoading:y}=B(`movie-${t}`,()=>e==="movie"?j(at(t).movieDetails):j(st(t)),{enabled:!!t}),{data:u}=B(`logo-item-${e}-${t}`,()=>e==="movie"?j(nt(t)):j(ot(t)),{enabled:!!t,staleTime:1e3*60*5}),h=(($=(S=(b=n==null?void 0:n.images)==null?void 0:b.logos)==null?void 0:S.find(d=>d.iso_639_1===i))==null?void 0:$.file_path)||((_=(R=u==null?void 0:u.logos)==null?void 0:R[0])==null?void 0:_.file_path)||null,g=f.useCallback(()=>{s(`/${e}/${n==null?void 0:n.id}`)},[s,n==null?void 0:n.id]),m=()=>n!=null&&n.overview?o.jsxs("p",{className:"overview",children:[l>600?n.overview.slice(0,350):n.overview.slice(0,150),"..."]}):null,x=({item:d})=>h&&!y?o.jsx("img",{className:"logo-banner",src:`${et}${h}`,alt:"Logo",onLoad:()=>p(!0),style:{opacity:c?1:0,transition:"opacity 0.6s ease-in-out"}}):o.jsx("h2",{className:"titleItemNoLogo",children:d?"title"in d?d.title:d.name:"No Title"}),v=()=>{T(n)?s(`/watch/${T(n)}`):q.error("No existe un trailer para la serie/pelicula seleccionada")};function C(){return o.jsxs("div",{className:"botones",children:[o.jsxs("button",{className:"play",onClick:v,children:[o.jsx("i",{className:"fa-solid fa-play"})," Play"]}),location.hash!=="#/info"&&o.jsxs("button",{onClick:g,className:"boton-info-banner",children:[o.jsx("i",{className:"fa-solid fa-circle-info"})," More Information"]}),o.jsx("button",{onClick:()=>r(n),className:"botonMeGustaBanner",children:o.jsx("i",{className:"fa-solid fa-heart"})})]})}return!t||!n||y?o.jsxs(M.div,{className:"header",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeOut"},children:[o.jsx(P,{}),o.jsx("div",{className:"fondoCardItem h-full w-full absolute inset-0 opacity-100 transition-opacity duration-400"})]}):o.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeOut"},className:"header",children:[o.jsx("img",{src:`${tt}${n==null?void 0:n.backdrop_path}`,className:`fondo ${l<=650?"fondoMobile":""}`,onLoad:d=>d.currentTarget.style.opacity="1",style:{opacity:0,transition:"opacity 0.2s ease-in-out"}}),L(n)&&o.jsxs("span",{className:"edadParaPublicoBanner absolute top-30 right-0 z-10",children:[L(n),"+"]}),o.jsx(P,{}),o.jsx("div",{className:"cuerpoBanner",children:o.jsxs("div",{className:`contenedorLogo ${a?"contenedorDetailN":""}`,children:[o.jsx("div",{className:"flex flex-row items-center",children:o.jsx(x,{item:n})}),a&&l>=650&&o.jsx(f.Suspense,{fallback:o.jsx(o.Fragment,{}),children:o.jsx(E,{item:n})}),o.jsx(C,{}),m(),a&&l<650&&o.jsx(f.Suspense,{fallback:o.jsxs(o.Fragment,{children:[o.jsx(A,{component:"div",variant:"body1",maxWidth:"40%",children:o.jsx(O,{sx:{bgcolor:"grey.600"}})}),o.jsx(A,{component:"div",variant:"caption",maxWidth:"40%",children:o.jsx(O,{sx:{bgcolor:"grey.600"}})})]}),children:o.jsx(E,{item:n})})]})})]})}export{Tt as B,O as S,A as T,Pt as f,Mt as g,Lt as r};
