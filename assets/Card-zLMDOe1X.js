import{R as u,d as m,r as t,j as s}from"./index-BYTVesdh.js";import{m as o,t as p}from"./fetchData-CK19FL73.js";function f(e,i){const[r,a]=t.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx(o.img,{src:`${p}${e.profile_path}`,alt:e.name,className:"main-imageCM bg-gray-800",initial:{opacity:0},animate:{opacity:r?1:0},transition:{duration:.3,ease:"easeOut"},onLoad:()=>a(!0)}),s.jsxs("div",{className:"detailsCM flex flex-col",children:[s.jsx("p",{className:"nombre-caster",children:e.name}),"credit_id"in e&&s.jsx("p",{className:"papel",children:s.jsx("span",{children:i?e.job:e.character})})]})]})}const j=u.memo(({castMember:e,isCrew:i})=>{const r=m(),a=t.useRef(null),[c,l]=t.useState(!1);return t.useEffect(()=>{const n=new IntersectionObserver(([d])=>{d.isIntersecting&&l(!0)},{threshold:.05});return a.current&&n.observe(a.current),()=>{a.current&&n.unobserve(a.current)}},[]),s.jsx(o.div,{ref:a,className:"contenedor-posterCM",onClick:()=>r(`/actor/${e.id}`),initial:{opacity:0},animate:{opacity:c?1:0},transition:{duration:.3,ease:"easeOut"},children:s.jsx("div",{className:"cardContainerImageCM posterCM",children:f(e,i)})})});export{j as C};
