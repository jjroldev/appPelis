import{R as h,j as e,m as j,a as C,b as v,r as N,S as g}from"./index-BXjvL9KZ.js";import{B as b,M as w,C as M,r as R}from"./MovieSwiper-BwTMy9Zy.js";import{U as I,a as c}from"./CardMovie-CJSspden.js";import{f as S}from"./fetchData-DCFA1qTy.js";import{u as E}from"./useQuery-CYu0c58r.js";import{C as B}from"./CarouselBoostrap-Bf1xCfdY.js";import{u as D}from"./NavBar-DJ8xDldC.js";import"./useFavorites-CMVY7Xwo.js";import"./useMergedRefs-z4p769Ws.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./Transition-Cmte2XV_.js";function L(r,s){return e.jsxs(e.Fragment,{children:[e.jsx("img",{src:`${I}${r.profile_path}`,alt:r.name,className:"main-imageCM"}),e.jsxs("div",{className:"detailsCM flex flex-col",children:[e.jsx("p",{className:"nombre-caster",children:r.name}),e.jsx("p",{className:"papel",children:e.jsx("span",{children:s?r.job:r.character})})]})]})}const d=h.memo(({castMember:r,isCrew:s})=>e.jsx("div",{className:"contenedor-posterCM",children:e.jsx("div",{className:"cardContainerImageCM posterCM",children:L(r,s)})}));function G(){var n,l;const r=j(),{movie:s}=r.state,{data:a}=E(`movieInfo-${s==null?void 0:s.id}`,()=>S(c(s==null?void 0:s.id).movieDetails),{refetchOnWindowFocus:!1}),m=D(),{setSearchTerm:p}=C(),{setOpenMenu:u}=v();N.useEffect(()=>{window.scroll({top:0,left:0,behavior:"instant"}),u(!1),p("")},[]);const f=t=>t.credits.cast.map(i=>i.profile_path?e.jsx(d,{castMember:i},i.id):null),x=t=>t.credits.crew.map(i=>i.profile_path?e.jsx(d,{castMember:i,isCrew:!0},i.id):null),o=({renderCredits:t,title:i})=>e.jsxs("div",{className:"detallesReparto",children:[e.jsx("h2",{children:i}),e.jsx(M,{swipeable:!0,draggable:!0,showDots:!1,responsive:R,ssr:!0,infinite:!0,keyBoardControl:!1,className:`carousel-cast ${m<630?"cast-visible":""}`,partialVisbile:!0,children:t})]});return a?e.jsxs("div",{className:"contenedorPrincipalMovie",children:[e.jsx(b,{movie:s,logoBuscar:!0,isDetail:!0}),e.jsxs("div",{className:"infoMovieContainer",children:[e.jsxs("div",{className:"detallesInfo",children:[e.jsx("div",{className:"contenedorSimilares",children:e.jsx(w,{URL:c(a.id,"es").similar,title:"TambiÃ©n te puede interesar"})}),a&&((n=a.credits.cast)==null?void 0:n.length)>0&&e.jsx(o,{renderCredits:f(a),title:"CAST"}),a&&((l=a.credits.crew)==null?void 0:l.length)>0&&e.jsx(o,{renderCredits:x(a),title:"CREW"})]}),e.jsx("div",{className:"contenedor-imagenes",children:e.jsx("div",{className:"flex flex-col backdropss",children:e.jsx(B,{movie:a})})})]})]}):e.jsx(g,{})}export{G as default};
