import{$ as c,r as i,d as I,j as a}from"./index-BXawpmsk.js";import{U as $,a as z}from"./fetchData-DAcbjTQz.js";import M from"./ModalVideo-l3kQDwrD.js";var O={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},v=c.createContext&&c.createContext(O),V=["attr","size","title"];function R(e,t){if(e==null)return{};var r=k(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(n){B(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B(e,t,r){return t=D(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){var t=A(e,"string");return typeof t=="symbol"?t:t+""}function A(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y(e){return e&&e.map((t,r)=>c.createElement(t.tag,p({key:r},t.attr),y(t.child)))}function x(e){return t=>c.createElement(G,d({attr:p({},e.attr)},t),y(e.child))}function G(e){var t=r=>{var{attr:n,size:s,title:o}=e,m=R(e,V),f=s||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),c.createElement("svg",d({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,m,{className:l,style:p(p({color:e.color||r.color},r.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),o&&c.createElement("title",null,o),e.children)};return v!==void 0?c.createElement(v.Consumer,null,r=>t(r)):t(O)}function L(e){return x({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393"},child:[]}]})(e)}function T(e){return x({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"},child:[]}]})(e)}const K=c.memo(({movie:e,isLarge:t,doDelete:r=!1,onRemoveFavorite:n,onAddFavorite:s})=>{const o=()=>{n&&n(e)},m=()=>{s&&s(e)},[f,l]=i.useState(!1),[P,w]=i.useState(!1),[h,C]=i.useState(!1),u=i.useRef(null),b=I(),N=i.useCallback(()=>l(!0),[]),E=i.useCallback(()=>l(!1),[]),_=i.useCallback(()=>{b("/info",{state:{movie:e}})},[b,e]);return i.useEffect(()=>{const g=new IntersectionObserver(([S])=>{S.isIntersecting&&w(!0)},{threshold:.01});return u.current&&g.observe(u.current),()=>{u.current&&g.unobserve(u.current)}},[]),a.jsx("div",{ref:u,className:`contenedor-poster ${t?"large":""}`,children:a.jsxs("div",{className:`cardContainerImage ${t?"backdrop":"poster"}`,children:[a.jsx("div",{className:`fondoCardMovie h-full w-full absolute inset-0 ${h?"opacity-0":"opacity-100"} transition-opacity duration-500`}),P&&a.jsx("img",{src:`${t?`${$}${e.backdrop_path}`:`${z}${e.poster_path}`}`,alt:e.title,onLoad:()=>C(!0),className:`main-image ${h?"visible":"hidden"}`}),h&&a.jsxs("div",{className:"hover-details",children:[a.jsx("h2",{className:"titulo-cardMovie",children:t&&(e.title.includes(":")?e.title.split(":")[0]:e.title)}),a.jsxs("div",{className:"play-button",children:[a.jsx("button",{onClick:N,children:a.jsx(L,{size:23})}),a.jsx(i.Suspense,{fallback:a.jsx("div",{}),children:a.jsx(M,{open:f,onClose:E,movie:e})}),a.jsx("button",{onClick:_,children:a.jsx(T,{size:16})}),a.jsx("button",{onClick:m,className:r?"heartVisible corazon":"corazon",children:a.jsx("i",{className:"fa-solid fa-heart"})}),r&&a.jsx("button",{onClick:o,children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})})});export{K as C};
