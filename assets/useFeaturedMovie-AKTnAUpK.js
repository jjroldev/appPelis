import{e as p,u as I,r as o,c as M}from"./index-Deu4rx9d.js";import{g as v,a as L,f}from"./CardItem-Ljusztfa.js";function U(m,d,g){const{language:e}=p(),{currentPerfil:n}=I(),l=o.useMemo(()=>v(e),[e]),h=o.useMemo(()=>L(e,3),[e]),{data:a,isLoading:u}=M([d,e],()=>g==="movie"?f(l.topRatedMovies):f(h.topRatedSeries)),[S,c]=o.useState(null),r=o.useMemo(()=>{var t;return((t=a==null?void 0:a.results)==null?void 0:t.filter(s=>s.backdrop_path&&s.overview))||[]},[a]);return o.useEffect(()=>{if(!u&&r.length>0&&n){const t=`${m}-${n.id}`,s=sessionStorage.getItem(t);if(s)c(JSON.parse(s));else{const i=r[Math.floor(Math.random()*r.length)];c(i),sessionStorage.setItem(t,JSON.stringify(i))}}},[r,u,n]),S}export{U as u};
