import{R as j,r,e as N,j as s}from"./index-CyazyFac.js";import{U as g,a as C}from"./endPoints-D6Ym8Q8U.js";const I=j.memo(({movie:e,isLarge:i,doDelete:o=!1,onRemoveFavorite:c,onAddFavorite:l})=>{const u=a=>{a.stopPropagation(),c&&c(e)},p=a=>{a.stopPropagation(),l&&l(e)},[f,h]=r.useState(!1),[n,b]=r.useState(!1),t=r.useRef(null),d=N(),m=r.useCallback(()=>{d("/info",{state:{movie:e}})},[d,e]);return r.useEffect(()=>{const a=new IntersectionObserver(([x])=>{x.isIntersecting&&h(!0)},{threshold:.01});return t.current&&a.observe(t.current),()=>{t.current&&a.unobserve(t.current)}},[]),s.jsx("div",{ref:t,className:`contenedor-poster ${i?"large":""}`,onClick:m,children:s.jsxs("div",{className:`cardContainerImage ${i?"backdrop":"poster"}`,children:[s.jsx("div",{className:`fondoCardMovie h-full w-full absolute inset-0 ${n?"opacity-0":"opacity-100"} transition-opacity duration-500`}),f&&s.jsx("img",{src:`${i?`${g}${e.backdrop_path}`:`${C}${e.poster_path}`}`,alt:e.title,onLoad:()=>b(!0),className:`main-image ${n?"visible":"hidden"}`}),n&&s.jsxs("div",{className:"details-cardMovie",children:[s.jsx("h2",{className:"titulo-cardMovie",children:i&&(e.title.includes(":")?e.title.split(":")[0]:e.title)}),s.jsxs("div",{className:"play-button",children:[s.jsx("button",{onClick:p,className:o?"heartVisible corazon":"corazon",children:s.jsx("i",{className:"fa-solid fa-heart"})}),o&&s.jsx("button",{onClick:u,children:s.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})})});export{I as C};
