import{u as c,a as h,b as u,c as x,g as j,r as d,j as a,d as p}from"./index-DUhg7NHS.js";import{C as f}from"./CardMovie-lHQTxGuU.js";import{N as n}from"./NavBar-_VLgT5Ou.js";import{u as N}from"./useQuery-Mpo7FXLo.js";import"./endPoints-D6Ym8Q8U.js";function L(){const{currentUser:s,currentPerfil:i}=c(),l=h(),{setSearchTerm:r}=u(),{setOpenMenu:v}=x(),{data:e,isLoading:o}=N(`favorites-${s==null?void 0:s.id}-${i==null?void 0:i.id}`,()=>j(s==null?void 0:s.id,i==null?void 0:i.id),{enabled:!!(s!=null&&s.id)&&!!(i!=null&&i.id)});d.useEffect(()=>{window.scroll({top:0,left:0,behavior:"instant"}),r("")},[]),d.useEffect(()=>{v(!1)},[]);const m=async t=>{await p(s==null?void 0:s.id,i==null?void 0:i.id,t),await l.invalidateQueries(`favorites-${s==null?void 0:s.id}-${i==null?void 0:i.id}`)};return o?a.jsxs(a.Fragment,{children:[a.jsx(n,{logoBuscar:!0,menu:!0,perfil:!0}),a.jsx("div",{className:"favorites",children:a.jsxs("div",{className:"contenedorFavoritas",children:[a.jsx("h2",{className:"tituloFavoritas",children:"Mi Lista"}),a.jsx("div",{className:"favoritasContainerSpinner"})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx(n,{logoBuscar:!0,menu:!0,perfil:!0}),a.jsxs("div",{className:"favorites",children:[a.jsx("h2",{className:"tituloFavoritas",children:"Mi Lista"}),a.jsx("div",{className:"contenedorFavoritas",children:a.jsxs("div",{className:`favoritasContainer ${(e==null?void 0:e.length)===0?"empty":""}`,children:[!o&&(e==null?void 0:e.map(t=>a.jsx(f,{movie:t,isLarge:!0,doDelete:!0,onRemoveFavorite:m},t.id))),(e==null?void 0:e.length)==0&&a.jsx("div",{className:"noFavorites",children:"No hay pel√≠culas favoritas"})]})})]})]})}export{L as default};
