const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DetalleBaner-BRHx4YH9.js","assets/index-QAjMqKPm.js","assets/index-DXPAHY2_.css","assets/Skeleton-DDK8nUD2.js","assets/DefaultPropsProvider-DH7sEoxG.js","assets/fetchData-Bt9MfJo0.js","assets/CardItem-CXE1g8NP.js","assets/CardItem-o4Lne0Km.css","assets/useFavorites-De8fDdav.js","assets/useWindowWidth-ChvQFTyp.js","assets/BarMenu-CVcfINgW.js","assets/DetalleBaner-QLfaUZ3j.css"])))=>i.map(i=>d[i]);
import{r as u,j as e,_ as O,d as F,e as A,u as D,b as y,g as I,l as G}from"./index-QAjMqKPm.js";import{m as L,k as V,l as z,f,h as U,j as W,n as q,o as H}from"./fetchData-Bt9MfJo0.js";import{g as Q,a as B,b as C}from"./CardItem-CXE1g8NP.js";import{u as J}from"./useFavorites-De8fDdav.js";import{u as K}from"./useWindowWidth-ChvQFTyp.js";import $ from"./BarMenu-CVcfINgW.js";import{T as X,h as Y,i as Z,j as ee,n as se,o as ae,c as oe,g as te,p as ne,q as ie,C as le}from"./DefaultPropsProvider-DH7sEoxG.js";import{S as N}from"./Skeleton-DDK8nUD2.js";function re(a){return Object.keys(a).length===0}function ce(a=null){const o=u.useContext(X);return!o||re(o)?a:o}const de=Y();function me(a=de){return ce(a)}const ue=a=>{var t;const o={systemProps:{},otherProps:{}},c=((t=a==null?void 0:a.theme)==null?void 0:t.unstable_sxConfig)??Z;return Object.keys(a).forEach(i=>{c[i]?o.systemProps[i]=a[i]:o.otherProps[i]=a[i]}),o};function xe(a){const{sx:o,...c}=a,{systemProps:t,otherProps:i}=ue(c);let d;return Array.isArray(o)?d=[t,...o]:typeof o=="function"?d=(...x)=>{const l=o(...x);return ee(l)?{...t,...l}:t}:d={...t,...o},{...i,sx:d}}function he(a={}){const{themeId:o,defaultTheme:c,defaultClassName:t="MuiBox-root",generateClassName:i}=a,d=se("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(ae);return u.forwardRef(function(g,j){const n=me(c),{className:r,component:s="div",...h}=xe(g);return e.jsx(d,{as:s,ref:j,className:oe(r,i?i(t):t),theme:o&&n[o]||n,...h})})}const fe=te("MuiBox",["root"]),ge=ne(),je=he({themeId:ie,defaultTheme:ge,defaultClassName:fe.root,generateClassName:le.generate}),T=u.lazy(()=>O(()=>import("./DetalleBaner-BRHx4YH9.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])));function $e({itemId:a,isDetail:o=!1,type:c}){const t=F(),{handleAddFavorite:i,handleRemoveFavorite:d}=J(),{language:x}=A(),l=K(),[g,j]=u.useState(!1),{currentPerfil:n,currentUser:r}=D(),{data:s,isLoading:h}=y(`movie-${a}`,()=>c==="movie"?f(U(a,x).movieDetails):f(W(a,x)),{enabled:!!a}),{data:_,isLoading:w}=y(`logo-item-${c}-${a}`,()=>c==="movie"?f(q(a)):f(H(a)),{enabled:!!a,staleTime:1e3*60*5}),b=Q(s,_,x),{data:v}=y(`favorites-${r==null?void 0:r.id}-${n==null?void 0:n.id}`,()=>I(r==null?void 0:r.id,n==null?void 0:n.id),{enabled:!!(r!=null&&r.id)&&!!(n!=null&&n.id)}),p=v==null?void 0:v.some(m=>m.id===(s==null?void 0:s.id)),k=()=>{s&&(p?d(s):i(s))},P=u.useCallback(()=>{t(`/${c}/${s==null?void 0:s.id}`)},[t,s==null?void 0:s.id]),R=()=>s!=null&&s.overview?e.jsxs("p",{className:"overview",children:[l>600?s.overview.slice(0,350):s.overview.slice(0,250),"..."]}):null,S=({item:m})=>b&&!h?e.jsx("img",{className:"logo-banner",src:`${z}${b}`,alt:"Logo",onLoad:()=>j(!0),style:{opacity:g?1:0,transition:"opacity 0.6s ease-in-out"}}):e.jsx("h2",{className:"titleItemNoLogo",children:m?"title"in m?m.title:m.name:"No Title"}),E=()=>{C(s)?t(`/watch/${C(s)}`):G.error("No existe un trailer para la serie/pelicula seleccionada")};function M(){return e.jsxs("div",{className:"botones",children:[e.jsxs("button",{className:"play",onClick:E,children:[e.jsx("i",{className:"fa-solid fa-play"})," Play"]}),location.hash!=="#/info"&&e.jsxs("button",{onClick:P,className:"boton-info-banner",children:[e.jsx("span",{className:"material-symbols-outlined",children:"info"})," More Information"]}),e.jsx("button",{onClick:k,className:"botonMeGustaBanner",children:e.jsx("i",{className:`fa-solid ${p?"fa-check":"fa-plus"}`})})]})}return!a||!s||h||w?e.jsxs(L.div,{className:"header",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeOut"},children:[e.jsx($,{}),e.jsx("div",{className:"fondoCardItem h-full w-full absolute inset-0 opacity-100 transition-opacity duration-400"})]}):e.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeOut"},className:"header",children:[e.jsx("img",{src:`${V}${s==null?void 0:s.backdrop_path}`,className:`fondo ${l<=650?"fondoMobile":""}`,onLoad:m=>m.currentTarget.style.opacity="1",style:{opacity:0,transition:"opacity 0.2s ease-in-out"}}),B(s)&&e.jsxs("span",{className:"edadParaPublicoBanner absolute top-30 right-0 z-10",children:[B(s),"+"]}),e.jsx($,{}),e.jsx("div",{className:"cuerpoBanner",children:e.jsxs("div",{className:`contenedorLogo ${o?"contenedorDetailN":""}`,children:[e.jsx("div",{className:"flex flex-row items-center",children:e.jsx(S,{item:s})}),o&&l>=650&&e.jsx(u.Suspense,{fallback:e.jsx(e.Fragment,{children:e.jsxs(je,{sx:{width:300},children:[e.jsx(N,{sx:{bgcolor:"grey.700"}}),e.jsx(N,{animation:"wave",sx:{bgcolor:"grey.700"}}),e.jsx(N,{animation:!1,sx:{bgcolor:"grey.700"}})]})}),children:e.jsx(T,{item:s})}),e.jsx(M,{}),R(),o&&l<650&&e.jsx(u.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(T,{item:s})})]})})]})}export{$e as B,je as a};
