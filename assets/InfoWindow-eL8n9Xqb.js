import{R as g,j as e,m as N,e as b,a as I,b as R,r as w}from"./index-BPSd4uE0.js";import{B as L,a as D,C as S,b as U}from"./CarouselURL-gipXS7Jb.js";import{U as E,b as m,c as B,d as M}from"./CardItem-BpziOWWH.js";import{f as u}from"./fetchData-DCFA1qTy.js";import{u as W}from"./useQuery-CLpCv9xd.js";import{C as _}from"./CarouselBoostrap-BreZD2dC.js";import{u as T}from"./NavBar-BjEkIwix.js";import"./useFavorites-ByvjNKbg.js";import"./Transition-CQsCMZnL.js";function $(a,t){return e.jsxs(e.Fragment,{children:[e.jsx("img",{src:`${E}${a.profile_path}`,alt:a.name,className:"main-imageCM"}),e.jsxs("div",{className:"detailsCM flex flex-col",children:[e.jsx("p",{className:"nombre-caster",children:a.name}),e.jsx("p",{className:"papel",children:e.jsx("span",{children:t?a.job:a.character})})]})]})}const p=g.memo(({castMember:a,isCrew:t})=>e.jsx("div",{className:"contenedor-posterCM",children:e.jsx("div",{className:"cardContainerImageCM posterCM",children:$(a,t)})}));function z({type:a}){var c,d;const{movieId:t,seriesId:f}=N(),i=a==="movie"?t:f,{language:o}=b(),{data:s}=W(`itemInfo-${i}`,()=>a=="movie"?u(m(i).movieDetails):u(M(i)),{refetchOnWindowFocus:!1,enabled:!!i}),h=T(),{setSearchTerm:x}=I(),{setOpenMenu:j}=R();w.useEffect(()=>{window.scroll({top:0,left:0,behavior:"instant"}),j(!1),x("")},[i]);const C=n=>n.credits.cast.map(r=>r.profile_path?e.jsx(p,{castMember:r},r.id):null),v=n=>n.credits.crew.map(r=>r.profile_path?e.jsx(p,{castMember:r,isCrew:!0},r.id):null),l=({renderCredits:n,title:r})=>e.jsxs("div",{className:"detallesReparto",children:[e.jsx("h2",{children:r}),e.jsx(S,{swipeable:!0,draggable:!0,showDots:!1,responsive:U,ssr:!0,infinite:!0,keyBoardControl:!1,className:`carousel-cast ${h<630?"cast-visible":""}`,partialVisible:!0,minimumTouchDrag:0,children:n})]});return e.jsxs("div",{className:"contenedorPrincipalItem",children:[e.jsx(L,{itemId:i,logoBuscar:!0,isDetail:!0,type:a}),e.jsxs("div",{className:"infoItemContainer",children:[e.jsxs("div",{className:"detallesInfo",children:[e.jsx("div",{className:"contenedorSimilares",children:e.jsx(D,{URL:a=="movie"?m(s==null?void 0:s.id,o).similar:B(s==null?void 0:s.id,o),title:"TambiÃ©n te puede interesar"})}),s&&((c=s.credits.cast)==null?void 0:c.length)>0&&e.jsx(l,{renderCredits:C(s),title:"CAST"}),s&&((d=s.credits.crew)==null?void 0:d.length)>0&&e.jsx(l,{renderCredits:v(s),title:"CREW"})]}),e.jsx("div",{className:"contenedor-imagenes",children:e.jsx("div",{className:"flex flex-col backdropss",children:e.jsx(_,{item:s})})})]})]})}export{z as default};
