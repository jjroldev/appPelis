import{q as j,r as u,j as r}from"./index-D2sbGu3I.js";import{u as g,n as w,j as p}from"./BarMenu-CXGq4Vqt.js";import{u as N}from"./useQuery-DaHBGjQS.js";import{f as E}from"./fetchData-DCFA1qTy.js";function y({episode:e,serie_backdrop:t}){var m,h;const{seriesId:i}=j(),[l,v]=u.useState(null),a=g(),{data:s,isLoading:x}=N(`images-${i}`,()=>E(p(i)),{enabled:!!i&&e.still_path==null,staleTime:1e3*60*30,cacheTime:1e3*60*30});if(u.useEffect(()=>{var n;(n=s==null?void 0:s.backdrops)!=null&&n.length&&l===null&&v(Math.floor(Math.random()*s.backdrops.length))},[s,l]),x)return null;const c=n=>{if(!n)return null;if(n<60)return`${n} min`;const d=Math.floor(n/60),f=n%60;return f>0?`${d} h ${f} min`:`${d} h`},o=e.still_path?e.still_path:(m=s==null?void 0:s.backdrops)!=null&&m.length&&l!==null?(h=s==null?void 0:s.backdrops[l])==null?void 0:h.file_path:t;return r.jsxs("div",{className:"flex flex-col containerEpisode",children:[r.jsxs("div",{className:"container-episode",children:[r.jsx("div",{className:"wrapper-img-episode",children:o&&r.jsx("img",{src:w+o||t,alt:e.name})}),r.jsxs("div",{className:"info-episode",children:[r.jsxs("h4",{children:[e.episode_number,".  ",e.name]}),r.jsxs("div",{className:"flex flex-row detailsDate",children:[new Date(e.air_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),a>990&&r.jsx("p",{children:c(e.runtime)})]}),a<=990&&r.jsx("p",{children:c(e.runtime)}),a>990&&e.overview&&r.jsx("p",{children:e.overview.length>=(a>600?300:150)?e.overview.slice(0,(a>600?300:150)+1)+"...":e.overview})]}),a>580&&r.jsx("div",{className:"containerPlay",children:r.jsx("i",{className:"fa-solid fa-play"})})]}),a<=990&&e.overview&&r.jsx("div",{className:"overViewEpisodeC",children:r.jsx("p",{className:"overViewEpisode",children:e.overview.length>=(a>600?300:150)?e.overview.slice(0,(a>600?300:150)+1)+"...":e.overview})})]})}export{y as default};
