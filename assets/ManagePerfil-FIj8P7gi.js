import{u,d as x,a as P,r as t,f as g,b as j,h as N,j as e,S as p}from"./index-QAjMqKPm.js";function b(){const{currentUser:s,setCurrentPerfil:d}=u(),n=x(),{setOpenMenu:c}=P(),[a,o]=t.useState(!1);t.useEffect(()=>{c(!1)},[]);const r=g(),{data:l=[],isLoading:f}=j(`perfiles-${s==null?void 0:s.id}`,()=>N(s==null?void 0:s.id),{enabled:!!(s!=null&&s.id)});t.useEffect(()=>{r.invalidateQueries(`perfiles-${s==null?void 0:s.id}`)},[]);const m=i=>{d(i),n(a?`/editProfile/${i.id}`:"/home")},h=()=>{o(!a)};return f?e.jsx(p,{}):e.jsx("div",{className:"containerPerfiles",children:e.jsxs("div",{className:"PerfilesExistentesContainer",children:[e.jsx("h2",{className:"tituloPerfiles",children:"Who's watching?"}),e.jsxs("div",{className:"perfiles",children:[l.map(i=>e.jsxs("div",{className:"containerP",onClick:()=>m(i),children:[e.jsxs("div",{className:"contenedorPerfil",children:[e.jsx("img",{className:"perfil-img",src:`/appPelis/${i.imagen}`,alt:""}),a&&e.jsx("i",{className:"fa-solid fa-pencil"})]}),e.jsx("h4",{className:"nombrePerfil",children:i.name})]},i.id)),l.length<5&&e.jsxs("div",{className:"containerP",onClick:()=>n("/createProfile"),children:[e.jsx("div",{className:"contenedorPerfil",children:e.jsx("div",{className:"crearPerfilDiv bg-gray-800 w-full h-full",children:e.jsx("i",{className:"fa-solid fa-plus"})})}),e.jsx("h4",{className:"nombrePerfil",children:"Add new"})]})]}),e.jsx("div",{className:"container-button-crearProfile p-2",children:e.jsx("button",{className:`buttonPerfiles bg-gray-800 ${l.length?"":"disabled-button-MP"}`,onClick:h,disabled:!l.length,children:a?"Done":"Edit profile"})})]})})}export{b as default};
