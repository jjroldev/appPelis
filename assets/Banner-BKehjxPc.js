const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CarouselBoostrap-tC17HHmh.js","assets/index-D4TGrLJa.js","assets/index-DKDhD-sU.css","assets/NavBar-CygCKqXE.js","assets/NavBar-NSOGrTuV.css","assets/Transition-rjkDl2u_.js","assets/CarouselBoostrap-B1CN3x4M.css","assets/ModalVideo-DaI7bKrY.js"])))=>i.map(i=>d[i]);
import{r as E,B as ee,A as te,u as Me,b as k,g as Ae,_ as Ee,R as je,c as De,j as b,d as se,e as ke}from"./index-D4TGrLJa.js";import{g as Re,o as We,N as ae,S as Ne}from"./NavBar-CygCKqXE.js";const Be="MoviesDB-details",Y="movie-details",Ve=(n,m)=>{const[u,h]=E.useState(null),[l,f]=E.useState(!0),[d,o]=E.useState(null);return E.useEffect(()=>{(async()=>{if(!n){h(null),f(!1);return}f(!0);const S=await Re(Be,Y),y=`${n}_details_${m}`,s=await S.get(Y,y);if(s){h(s.data),f(!1);return}try{const i=await fetch(`${ee}/movie/${n}?api_key=${te}${m?`&language=${m}`:""}&append_to_response=credits,images`);if(!i.ok)throw new Error(`Error fetching details for movie ID: ${n}`);const t=await i.json();h(t),await S.put(Y,{key:y,data:t})}catch(i){console.error("Error fetching movie details:",i),o(i.message)}finally{f(!1)}})()},[n,m]),{movie:u,isLoading:l,error:d}},$e="MoviesDBLogos",K="movie-logos",qe=n=>{const[m,u]=E.useState(null),[h,l]=E.useState(!1),{language:f}=Me();return E.useEffect(()=>{(async()=>{if(n<=0){u(null),l(!1);return}l(!0);const o=await Re($e,K),c=`${n}_logo_${f}`,S=await o.get(K,c);if(S){u(S.path),l(!1);return}try{const s=await(await fetch(`${ee}/movie/${n}/images?api_key=${te}`)).json(),i=s.logos.find(t=>t.iso_639_1===f)||s.logos.find(t=>t.iso_639_1==="en")||s.logos[0];i!=null&&i.file_path?(u(i.file_path),await o.put(K,{key:c,path:i.file_path})):u(null)}catch(y){console.error("Error fetching movie logo:",y),u(null)}finally{l(!1)}})()},[n,f]),{logoPath:m,isLoading:h}},Fe={desktop:{breakpoint:{max:3e3,min:1281},items:7,slidesToSlide:6},tablet:{breakpoint:{max:1280,min:769},items:6,slidesToSlide:5},mobileLarge:{breakpoint:{max:768,min:481},items:4,slidesToSlide:3},mobileSmall:{breakpoint:{max:480,min:0},items:2,slidesToSlide:1}},ct={desktop:{breakpoint:{max:3e3,min:1281},items:8,slidesToSlide:6},tablet:{breakpoint:{max:1280,min:769},items:6,slidesToSlide:5},mobileLarge:{breakpoint:{max:768,min:481},items:4,slidesToSlide:3},mobileSmall:{breakpoint:{max:480,min:0},items:2,slidesToSlide:1}},ft=n=>({desktop:{breakpoint:{max:3e3,min:1281},items:n?5:8,slidesToSlide:n?4:7},tablet:{breakpoint:{max:1280,min:769},items:n?4:6,slidesToSlide:n?3:5},mobileLarge:{breakpoint:{max:768,min:481},items:n?3:4,slidesToSlide:n?2:3},mobileSmall:{breakpoint:{max:480,min:0},items:2,slidesToSlide:1}});var V={},W={},_={},J={},le;function ie(){return le||(le=1,function(n){function m(d,o,c){var S=o.slidesToShow,y=o.currentSlide;return c.length>2*S?d+2*S:y>=c.length?c.length+d:d}function u(d,o){if(o.length>2*d){for(var c={},S=o.length-2*d,y=o.length-S,s=S,i=0;i<y;i++)c[i]=s,s++;var t=o.length+y,e=t+o.slice(0,2*d).length,r=0;for(i=t;i<=e;i++)c[i]=r,r++;var a=t,p=0;for(i=y;i<a;i++)c[i]=p,p++;return c}c={};var v=3*o.length,g=0;for(i=0;i<v;i++)c[i]=g,++g===o.length&&(g=0);return c}function h(d,o){return o.length<d?o:o.length>2*d?o.slice(o.length-2*d,o.length).concat(o,o.slice(0,2*d)):o.concat(o,o)}function l(d,o){return o.length>2*d?2*d:o.length}function f(d,o,c){var S,y=d.currentSlide,s=d.slidesToShow,i=d.itemWidth,t=d.totalItems,e=0,r=0,a=y===0,p=o.length-(o.length-2*s);return o.length<s?(r=e=0,a=S=!1):o.length>2*s?((S=y>=p+o.length)&&(r=-i*(e=y-o.length)),a&&(r=-i*(e=p+(o.length-2*s)))):((S=y>=2*o.length)&&(r=-i*(e=y-o.length)),a&&(r=c.showDots?-i*(e=o.length):-i*(e=t/3))),{isReachingTheEnd:S,isReachingTheStart:a,nextSlide:e,nextPosition:r}}Object.defineProperty(n,"__esModule",{value:!0}),n.getOriginalCounterPart=m,n.getOriginalIndexLookupTableByClones=u,n.getClones=h,n.getInitialSlideInInfiniteMode=l,n.checkClonesPosition=f}(J)),J}var j={},ue;function Ie(){if(ue)return j;ue=1,Object.defineProperty(j,"__esModule",{value:!0});function n(h,l,f,d){var o=0,c=d||f;return l&&c&&(o=h[c].partialVisibilityGutter||h[c].paritialVisibilityGutter),o}function m(h,l){var f;return l[h]&&(f=(100/l[h].items).toFixed(1)),f}function u(h,l,f){return Math.round(f/(l+(h.centerMode?1:0)))}return j.getPartialVisibilityGutter=n,j.getWidthFromDeviceType=m,j.getItemClientSideWidth=u,j}var I={},de;function L(){if(de)return I;de=1,Object.defineProperty(I,"__esModule",{value:!0});var n=Ie();function m(s){var i=s.slidesToShow;return s.totalItems<i}function u(s,i){var t,e=s.domLoaded,r=s.slidesToShow,a=s.containerWidth,p=s.itemWidth,v=i.deviceType,g=i.responsive,T=i.ssr,w=i.partialVisbile,C=i.partialVisible,R=!!(e&&r&&a&&p);T&&v&&!R&&(t=n.getWidthFromDeviceType(v,g));var M=!!(T&&v&&!R&&t);return{shouldRenderOnSSR:M,flexBisis:t,domFullyLoaded:R,partialVisibilityGutter:n.getPartialVisibilityGutter(g,w||C,v,s.deviceType),shouldRenderAtAll:M||R}}function h(s,i){var t=i.currentSlide,e=i.slidesToShow;return t<=s&&s<t+e}function l(s,i,t){var e=t||s.transform;return!i.infinite&&s.currentSlide===0||m(s)?e:e+s.itemWidth/2}function f(s){return!(0<s.currentSlide)}function d(s){var i=s.currentSlide,t=s.totalItems;return!(i+s.slidesToShow<t)}function o(s,i,t,e){i===void 0&&(i=0);var r=s.currentSlide,a=s.slidesToShow,p=d(s),v=!t.infinite&&p,g=e||s.transform;if(m(s))return g;var T=g+r*i;return v?T+(s.containerWidth-(s.itemWidth-i)*a):T}function c(s,i){return s.rtl?-1*i:i}function S(s,i,t){var e=i.partialVisbile,r=i.partialVisible,a=i.responsive,p=i.deviceType,v=i.centerMode,g=t||s.transform,T=n.getPartialVisibilityGutter(a,e||r,p,s.deviceType);return c(i,r||e?o(s,T,i,t):v?l(s,i,t):g)}function y(s,i){var t=s.domLoaded,e=s.slidesToShow,r=s.containerWidth,a=s.itemWidth,p=i.deviceType,v=i.responsive,g=i.slidesToSlide||1,T=!!(t&&e&&r&&a);return i.ssr&&i.deviceType&&!T&&Object.keys(v).forEach(function(w){var C=v[w].slidesToSlide;p===w&&C&&(g=C)}),T&&Object.keys(v).forEach(function(w){var C=v[w],R=C.breakpoint,M=C.slidesToSlide,P=R.max,x=R.min;M&&window.innerWidth>=x&&window.innerWidth<=P&&(g=M)}),g}return I.notEnoughChildren=m,I.getInitialState=u,I.getIfSlideIsVisbile=h,I.getTransformForCenterMode=l,I.isInLeftEnd=f,I.isInRightEnd=d,I.getTransformForPartialVsibile=o,I.parsePosition=c,I.getTransform=S,I.getSlidesToSlide=y,I}var $={},he;function Ge(){if(he)return $;he=1,Object.defineProperty($,"__esModule",{value:!0});var n=function(m,u,h){var l;return function(){var f=arguments;l||(m.apply(this,f),l=!0,typeof h=="function"&&h(!0),setTimeout(function(){l=!1,typeof h=="function"&&h(!1)},u))}};return $.default=n,$}var Q={},ce;function Ue(){return ce||(ce=1,function(n){function m(u,h){var l=h.partialVisbile,f=h.partialVisible,d=h.centerMode,o=h.ssr,c=h.responsive;if((l||f)&&d)throw new Error("center mode can not be used at the same time with partialVisible");if(!c)throw o?new Error("ssr mode need to be used in conjunction with responsive prop"):new Error("Responsive prop is needed for deciding the amount of items to show on the screen");if(c&&typeof c!="object")throw new Error("responsive prop must be an object")}Object.defineProperty(n,"__esModule",{value:!0}),n.default=m}(Q)),Q}var q={},fe;function ze(){if(fe)return q;fe=1,Object.defineProperty(q,"__esModule",{value:!0});var n=L();function m(u,h,l){l===void 0&&(l=0);var f,d,o=u.slidesToShow,c=u.currentSlide,S=u.itemWidth,y=u.totalItems,s=n.getSlidesToSlide(u,h),i=c+1+l+o+(0<l?0:s);return d=i<=y?-S*(f=c+l+(0<l?0:s)):y<i&&c!==y-o?-S*(f=y-o):f=void 0,{nextSlides:f,nextPosition:d}}return q.populateNextSlides=m,q}var F={},pe;function Xe(){if(pe)return F;pe=1,Object.defineProperty(F,"__esModule",{value:!0});var n=k(),m=L(),u=L();function h(l,f,d){d===void 0&&(d=0);var o,c,S=l.currentSlide,y=l.itemWidth,s=l.slidesToShow,i=f.children,t=f.showDots,e=f.infinite,r=m.getSlidesToSlide(l,f),a=S-d-(0<d?0:r),p=(n.Children.toArray(i).length-s)%r;return c=0<=a?(o=a,t&&!e&&0<p&&u.isInRightEnd(l)&&(o=S-p),-y*o):o=a<0&&S!==0?0:void 0,{nextSlides:o,nextPosition:c}}return F.populatePreviousSlides=h,F}var Z={},me;function Ye(){return me||(me=1,function(n){function m(u,h,l,f,d,o){var c,S,y=u.itemWidth,s=u.slidesToShow,i=u.totalItems,t=u.currentSlide,e=h.infinite,r=!1,a=Math.round((l-f)/y),p=Math.round((f-l)/y),v=l<d;if(d<l&&a<=s){c="right";var g=Math.abs(-y*(i-s)),T=o-(f-d),w=t===i-s;(Math.abs(T)<=g||w&&e)&&(S=T,r=!0)}return v&&p<=s&&(c="left",((T=o+(d-f))<=0||t===0&&e)&&(r=!0,S=T)),{direction:c,nextPosition:S,canContinue:r}}Object.defineProperty(n,"__esModule",{value:!0}),n.populateSlidesOnMouseTouchMove=m}(Z)),Z}var ve;function xe(){if(ve)return _;ve=1,Object.defineProperty(_,"__esModule",{value:!0});var n=ie();_.getOriginalCounterPart=n.getOriginalCounterPart,_.getClones=n.getClones,_.checkClonesPosition=n.checkClonesPosition,_.getInitialSlideInInfiniteMode=n.getInitialSlideInInfiniteMode;var m=Ie();_.getWidthFromDeviceType=m.getWidthFromDeviceType,_.getPartialVisibilityGutter=m.getPartialVisibilityGutter,_.getItemClientSideWidth=m.getItemClientSideWidth;var u=L();_.getInitialState=u.getInitialState,_.getIfSlideIsVisbile=u.getIfSlideIsVisbile,_.getTransformForCenterMode=u.getTransformForCenterMode,_.getTransformForPartialVsibile=u.getTransformForPartialVsibile,_.isInLeftEnd=u.isInLeftEnd,_.isInRightEnd=u.isInRightEnd,_.notEnoughChildren=u.notEnoughChildren,_.getSlidesToSlide=u.getSlidesToSlide;var h=Ge();_.throttle=h.default;var l=Ue();_.throwError=l.default;var f=ze();_.populateNextSlides=f.populateNextSlides;var d=Xe();_.populatePreviousSlides=d.populatePreviousSlides;var o=Ye();return _.populateSlidesOnMouseTouchMove=o.populateSlidesOnMouseTouchMove,_}var D={},ge;function Ke(){if(ge)return D;ge=1;var n=D.__extends||function(){var l=function(f,d){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var S in c)c.hasOwnProperty(S)&&(o[S]=c[S])})(f,d)};return function(f,d){function o(){this.constructor=f}l(f,d),f.prototype=d===null?Object.create(d):(o.prototype=d.prototype,new o)}}();Object.defineProperty(D,"__esModule",{value:!0});var m=k();function u(l){return"clientY"in l}D.isMouseMoveEvent=u;var h=function(l){function f(){return l!==null&&l.apply(this,arguments)||this}return n(f,l),f}(m.Component);return D.default=h,D}var G={},U={},Se;function Je(){if(Se)return U;Se=1,Object.defineProperty(U,"__esModule",{value:!0});var n=ie(),m=L();function u(h,l,f,d){var o={},c=m.getSlidesToSlide(l,f);return Array(h).fill(0).forEach(function(S,y){var s=n.getOriginalCounterPart(y,l,d);if(y===0)o[0]=s;else{var i=o[y-1]+c;o[y]=i}}),o}return U.getLookupTableForNextSlides=u,U}var ye;function Qe(){if(ye)return G;ye=1,Object.defineProperty(G,"__esModule",{value:!0});var n=k(),m=ie(),u=Je(),h=L(),l=function(f){var d=f.props,o=f.state,c=f.goToSlide,S=f.getState,y=d.showDots,s=d.customDot,i=d.dotListClass,t=d.infinite,e=d.children;if(!y||h.notEnoughChildren(o))return null;var r,a=o.currentSlide,p=o.slidesToShow,v=h.getSlidesToSlide(o,d),g=n.Children.toArray(e);r=t?Math.ceil(g.length/v):Math.ceil((g.length-p)/v)+1;var T=u.getLookupTableForNextSlides(r,o,d,g),w=m.getOriginalIndexLookupTableByClones(p,g),C=w[a];return n.createElement("ul",{className:"react-multi-carousel-dot-list "+i},Array(r).fill(0).map(function(R,M){var P,x;if(t){x=T[M];var A=w[x];P=C===A||A<=C&&C<A+v}else{var B=g.length-p,O=M*v;P=(x=B<O?B:O)===a||x<a&&a<x+v&&a<g.length-p}return s?n.cloneElement(s,{index:M,active:P,key:M,onClick:function(){return c(x)},carouselState:S()}):n.createElement("li",{"data-index":M,key:M,className:"react-multi-carousel-dot "+(P?"react-multi-carousel-dot--active":"")},n.createElement("button",{"aria-label":"Go to slide "+(M+1),onClick:function(){return c(x)}}))}))};return G.default=l,G}var N={},Te;function Ze(){if(Te)return N;Te=1,Object.defineProperty(N,"__esModule",{value:!0});var n=k(),m=function(h){var l=h.customLeftArrow,f=h.getState,d=h.previous,o=h.disabled,c=h.rtl;if(l)return n.cloneElement(l,{onClick:function(){return d()},carouselState:f(),disabled:o,rtl:c});var S=c?"rtl":"";return n.createElement("button",{"aria-label":"Go to previous slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--left "+S,onClick:function(){return d()},type:"button",disabled:o})};N.LeftArrow=m;var u=function(h){var l=h.customRightArrow,f=h.getState,d=h.next,o=h.disabled,c=h.rtl;if(l)return n.cloneElement(l,{onClick:function(){return d()},carouselState:f(),disabled:o,rtl:c});var S=c?"rtl":"";return n.createElement("button",{"aria-label":"Go to next slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--right "+S,onClick:function(){return d()},type:"button",disabled:o})};return N.RightArrow=u,N}var z={},we;function He(){if(we)return z;we=1,Object.defineProperty(z,"__esModule",{value:!0});var n=k(),m=xe(),u=function(h){var l=h.props,f=h.state,d=h.goToSlide,o=h.clones,c=h.notEnoughChildren,S=f.itemWidth,y=l.children,s=l.infinite,i=l.itemClass,t=l.itemAriaLabel,e=l.partialVisbile,r=l.partialVisible,a=m.getInitialState(f,l),p=a.flexBisis,v=a.shouldRenderOnSSR,g=a.domFullyLoaded,T=a.partialVisibilityGutter;return a.shouldRenderAtAll?(e&&console.warn('WARNING: Please correct props name: "partialVisible" as old typo will be removed in future versions!'),n.createElement(n.Fragment,null,(s?o:n.Children.toArray(y)).map(function(w,C){return n.createElement("li",{key:C,"data-index":C,onClick:function(){l.focusOnSelect&&d(C)},"aria-hidden":m.getIfSlideIsVisbile(C,f)?"false":"true","aria-label":t||(w.props.ariaLabel?w.props.ariaLabel:null),style:{flex:v?"1 0 "+p+"%":"auto",position:"relative",width:g?((e||r)&&T&&!c?S-T:S)+"px":"auto"},className:"react-multi-carousel-item "+(m.getIfSlideIsVisbile(C,f)?"react-multi-carousel-item--active":"")+" "+i},w)}))):null};return z.default=u,z}var be;function et(){if(be)return W;be=1;var n=W.__extends||function(){var s=function(i,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])})(i,t)};return function(i,t){function e(){this.constructor=i}s(i,t),i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(W,"__esModule",{value:!0});var m=k(),u=xe(),h=Ke(),l=Qe(),f=Ze(),d=He(),o=L(),c=400,S="transform 400ms ease-in-out",y=function(s){function i(t){var e=s.call(this,t)||this;return e.containerRef=m.createRef(),e.listRef=m.createRef(),e.state={itemWidth:0,slidesToShow:0,currentSlide:0,totalItems:m.Children.count(t.children),deviceType:"",domLoaded:!1,transform:0,containerWidth:0},e.onResize=e.onResize.bind(e),e.handleDown=e.handleDown.bind(e),e.handleMove=e.handleMove.bind(e),e.handleOut=e.handleOut.bind(e),e.onKeyUp=e.onKeyUp.bind(e),e.handleEnter=e.handleEnter.bind(e),e.setIsInThrottle=e.setIsInThrottle.bind(e),e.next=u.throttle(e.next.bind(e),t.transitionDuration||c,e.setIsInThrottle),e.previous=u.throttle(e.previous.bind(e),t.transitionDuration||c,e.setIsInThrottle),e.goToSlide=u.throttle(e.goToSlide.bind(e),t.transitionDuration||c,e.setIsInThrottle),e.onMove=!1,e.initialX=0,e.lastX=0,e.isAnimationAllowed=!1,e.direction="",e.initialY=0,e.isInThrottle=!1,e.transformPlaceHolder=0,e}return n(i,s),i.prototype.resetTotalItems=function(){var t=this,e=m.Children.count(this.props.children),r=u.notEnoughChildren(this.state)?0:Math.max(0,Math.min(this.state.currentSlide,e));this.setState({totalItems:e,currentSlide:r},function(){t.setContainerAndItemWidth(t.state.slidesToShow,!0)})},i.prototype.setIsInThrottle=function(t){t===void 0&&(t=!1),this.isInThrottle=t},i.prototype.setTransformDirectly=function(t,e){var r=this.props.additionalTransfrom;this.transformPlaceHolder=t;var a=o.getTransform(this.state,this.props,this.transformPlaceHolder);this.listRef&&this.listRef.current&&(this.setAnimationDirectly(e),this.listRef.current.style.transform="translate3d("+(a+r)+"px,0,0)")},i.prototype.setAnimationDirectly=function(t){this.listRef&&this.listRef.current&&(this.listRef.current.style.transition=t?this.props.customTransition||S:"none")},i.prototype.componentDidMount=function(){this.setState({domLoaded:!0}),this.setItemsToShow(),window.addEventListener("resize",this.onResize),this.onResize(!0),this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),this.props.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},i.prototype.setClones=function(t,e,r,a){var p=this;a===void 0&&(a=!1),this.isAnimationAllowed=!1;var v=m.Children.toArray(this.props.children),g=u.getInitialSlideInInfiniteMode(t||this.state.slidesToShow,v),T=u.getClones(this.state.slidesToShow,v),w=v.length<this.state.slidesToShow?0:this.state.currentSlide;this.setState({totalItems:T.length,currentSlide:r&&!a?w:g},function(){p.correctItemsPosition(e||p.state.itemWidth)})},i.prototype.setItemsToShow=function(t,e){var r=this,a=this.props.responsive;Object.keys(a).forEach(function(p){var v=a[p],g=v.breakpoint,T=v.items,w=g.max,C=g.min,R=[window.innerWidth];window.screen&&window.screen.width&&R.push(window.screen.width);var M=Math.min.apply(Math,R);C<=M&&M<=w&&(r.setState({slidesToShow:T,deviceType:p}),r.setContainerAndItemWidth(T,t,e))})},i.prototype.setContainerAndItemWidth=function(t,e,r){var a=this;if(this.containerRef&&this.containerRef.current){var p=this.containerRef.current.offsetWidth,v=u.getItemClientSideWidth(this.props,t,p);this.setState({containerWidth:p,itemWidth:v},function(){a.props.infinite&&a.setClones(t,v,e,r)}),e&&this.correctItemsPosition(v)}},i.prototype.correctItemsPosition=function(t,e,r){e&&(this.isAnimationAllowed=!0),!e&&this.isAnimationAllowed&&(this.isAnimationAllowed=!1);var a=this.state.totalItems<this.state.slidesToShow?0:-t*this.state.currentSlide;r&&this.setTransformDirectly(a,!0),this.setState({transform:a})},i.prototype.onResize=function(t){var e;e=!!this.props.infinite&&(typeof t!="boolean"||!t),this.setItemsToShow(e)},i.prototype.componentDidUpdate=function(t,e){var r=this,a=t.keyBoardControl,p=t.autoPlay,v=t.children,g=e.containerWidth,T=e.domLoaded,w=e.currentSlide;if(this.containerRef&&this.containerRef.current&&this.containerRef.current.offsetWidth!==g&&(this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),this.itemsToShowTimeout=setTimeout(function(){r.setItemsToShow(!0)},this.props.transitionDuration||c)),a&&!this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),!a&&this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),p&&!this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),p||!this.props.autoPlay||this.autoPlay||(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed)),v.length!==this.props.children.length?i.clonesTimeout=setTimeout(function(){r.props.infinite?r.setClones(r.state.slidesToShow,r.state.itemWidth,!0,!0):r.resetTotalItems()},this.props.transitionDuration||c):this.props.infinite&&this.state.currentSlide!==w&&this.correctClonesPosition({domLoaded:T}),this.transformPlaceHolder!==this.state.transform&&(this.transformPlaceHolder=this.state.transform),this.props.autoPlay&&this.props.rewind&&!this.props.infinite&&u.isInRightEnd(this.state)){var C=this.props.transitionDuration||c;i.isInThrottleTimeout=setTimeout(function(){r.setIsInThrottle(!1),r.resetAutoplayInterval(),r.goToSlide(0,void 0,!!r.props.rewindWithAnimation)},C+this.props.autoPlaySpeed)}},i.prototype.correctClonesPosition=function(t){var e=this,r=t.domLoaded,a=m.Children.toArray(this.props.children),p=u.checkClonesPosition(this.state,a,this.props),v=p.isReachingTheEnd,g=p.isReachingTheStart,T=p.nextSlide,w=p.nextPosition;this.state.domLoaded&&r&&(v||g)&&(this.isAnimationAllowed=!1,i.transformTimeout=setTimeout(function(){e.setState({transform:w,currentSlide:T})},this.props.transitionDuration||c))},i.prototype.next=function(t){var e=this;t===void 0&&(t=0);var r=this.props,a=r.afterChange,p=r.beforeChange;if(!u.notEnoughChildren(this.state)){var v=u.populateNextSlides(this.state,this.props,t),g=v.nextSlides,T=v.nextPosition,w=this.state.currentSlide;g!==void 0&&T!==void 0&&(typeof p=="function"&&p(g,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:T,currentSlide:g},function(){typeof a=="function"&&(i.afterChangeTimeout=setTimeout(function(){a(w,e.getState())},e.props.transitionDuration||c))}))}},i.prototype.previous=function(t){var e=this;t===void 0&&(t=0);var r=this.props,a=r.afterChange,p=r.beforeChange;if(!u.notEnoughChildren(this.state)){var v=u.populatePreviousSlides(this.state,this.props,t),g=v.nextSlides,T=v.nextPosition;if(g!==void 0&&T!==void 0){var w=this.state.currentSlide;typeof p=="function"&&p(g,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:T,currentSlide:g},function(){typeof a=="function"&&(i.afterChangeTimeout2=setTimeout(function(){a(w,e.getState())},e.props.transitionDuration||c))})}}},i.prototype.resetAutoplayInterval=function(){this.props.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},i.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize),this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),i.clonesTimeout&&clearTimeout(i.clonesTimeout),i.isInThrottleTimeout&&clearTimeout(i.isInThrottleTimeout),i.transformTimeout&&clearTimeout(i.transformTimeout),i.afterChangeTimeout&&clearTimeout(i.afterChangeTimeout),i.afterChangeTimeout2&&clearTimeout(i.afterChangeTimeout2),i.afterChangeTimeout3&&clearTimeout(i.afterChangeTimeout3)},i.prototype.resetMoveStatus=function(){this.onMove=!1,this.initialX=0,this.lastX=0,this.direction="",this.initialY=0},i.prototype.getCords=function(t){var e=t.clientX,r=t.clientY;return{clientX:o.parsePosition(this.props,e),clientY:o.parsePosition(this.props,r)}},i.prototype.handleDown=function(t){if(!(!h.isMouseMoveEvent(t)&&!this.props.swipeable||h.isMouseMoveEvent(t)&&!this.props.draggable||this.isInThrottle)){var e=this.getCords(h.isMouseMoveEvent(t)?t:t.touches[0]),r=e.clientX,a=e.clientY;this.onMove=!0,this.initialX=r,this.initialY=a,this.lastX=r,this.isAnimationAllowed=!1}},i.prototype.handleMove=function(t){if(!(!h.isMouseMoveEvent(t)&&!this.props.swipeable||h.isMouseMoveEvent(t)&&!this.props.draggable||u.notEnoughChildren(this.state))){var e=this.getCords(h.isMouseMoveEvent(t)?t:t.touches[0]),r=e.clientX,a=e.clientY,p=this.initialX-r,v=this.initialY-a;if(this.onMove){if(!(Math.abs(p)>Math.abs(v)))return;var g=u.populateSlidesOnMouseTouchMove(this.state,this.props,this.initialX,this.lastX,r,this.transformPlaceHolder),T=g.direction,w=g.nextPosition,C=g.canContinue;T&&(this.direction=T,C&&w!==void 0&&this.setTransformDirectly(w)),this.lastX=r}}},i.prototype.handleOut=function(t){this.props.autoPlay&&!this.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed));var e=t.type==="touchend"&&!this.props.swipeable,r=(t.type==="mouseleave"||t.type==="mouseup")&&!this.props.draggable;if(!e&&!r&&this.onMove){if(this.setAnimationDirectly(!0),this.direction==="right")if(this.initialX-this.lastX>=this.props.minimumTouchDrag){var a=Math.round((this.initialX-this.lastX)/this.state.itemWidth);this.next(a)}else this.correctItemsPosition(this.state.itemWidth,!0,!0);this.direction==="left"&&(this.lastX-this.initialX>this.props.minimumTouchDrag?(a=Math.round((this.lastX-this.initialX)/this.state.itemWidth),this.previous(a)):this.correctItemsPosition(this.state.itemWidth,!0,!0)),this.resetMoveStatus()}},i.prototype.isInViewport=function(t){var e=t.getBoundingClientRect(),r=e.top,a=r===void 0?0:r,p=e.left,v=p===void 0?0:p,g=e.bottom,T=g===void 0?0:g,w=e.right,C=w===void 0?0:w;return 0<=a&&0<=v&&T<=(window.innerHeight||document.documentElement.clientHeight)&&C<=(window.innerWidth||document.documentElement.clientWidth)},i.prototype.isChildOfCarousel=function(t){return!!(t instanceof Element&&this.listRef&&this.listRef.current)&&this.listRef.current.contains(t)},i.prototype.onKeyUp=function(t){var e=t.target;switch(t.keyCode){case 37:if(this.isChildOfCarousel(e))return this.previous();break;case 39:if(this.isChildOfCarousel(e))return this.next();break;case 9:if(this.isChildOfCarousel(e)&&e instanceof HTMLInputElement&&this.isInViewport(e))return this.next()}},i.prototype.handleEnter=function(t){h.isMouseMoveEvent(t)&&this.autoPlay&&this.props.autoPlay&&this.props.pauseOnHover&&(clearInterval(this.autoPlay),this.autoPlay=void 0)},i.prototype.goToSlide=function(t,e,r){var a=this;if(r===void 0&&(r=!0),!this.isInThrottle){var p=this.state.itemWidth,v=this.props,g=v.afterChange,T=v.beforeChange,w=this.state.currentSlide;typeof T!="function"||e&&(typeof e!="object"||e.skipBeforeChange)||T(t,this.getState()),this.isAnimationAllowed=r,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({currentSlide:t,transform:-p*t},function(){a.props.infinite&&a.correctClonesPosition({domLoaded:!0}),typeof g!="function"||e&&(typeof e!="object"||e.skipAfterChange)||(i.afterChangeTimeout3=setTimeout(function(){g(w,a.getState())},a.props.transitionDuration||c))})}},i.prototype.getState=function(){return this.state},i.prototype.renderLeftArrow=function(t){var e=this,r=this.props,a=r.customLeftArrow,p=r.rtl;return m.createElement(f.LeftArrow,{customLeftArrow:a,getState:function(){return e.getState()},previous:this.previous,disabled:t,rtl:p})},i.prototype.renderRightArrow=function(t){var e=this,r=this.props,a=r.customRightArrow,p=r.rtl;return m.createElement(f.RightArrow,{customRightArrow:a,getState:function(){return e.getState()},next:this.next,disabled:t,rtl:p})},i.prototype.renderButtonGroups=function(){var t=this,e=this.props.customButtonGroup;return e?m.cloneElement(e,{previous:function(){return t.previous()},next:function(){return t.next()},goToSlide:function(r,a){return t.goToSlide(r,a)},carouselState:this.getState()}):null},i.prototype.renderDotsList=function(){var t=this;return m.createElement(l.default,{state:this.state,props:this.props,goToSlide:this.goToSlide,getState:function(){return t.getState()}})},i.prototype.renderCarouselItems=function(){var t=[];if(this.props.infinite){var e=m.Children.toArray(this.props.children);t=u.getClones(this.state.slidesToShow,e)}return m.createElement(d.default,{clones:t,goToSlide:this.goToSlide,state:this.state,notEnoughChildren:u.notEnoughChildren(this.state),props:this.props})},i.prototype.render=function(){var t=this.props,e=t.deviceType,r=t.arrows,a=t.renderArrowsWhenDisabled,p=t.removeArrowOnDeviceType,v=t.infinite,g=t.containerClass,T=t.sliderClass,w=t.customTransition,C=t.additionalTransfrom,R=t.renderDotsOutside,M=t.renderButtonGroupOutside,P=t.className,x=t.rtl,A=u.getInitialState(this.state,this.props),B=A.shouldRenderOnSSR,O=A.shouldRenderAtAll,Pe=u.isInLeftEnd(this.state),Oe=u.isInRightEnd(this.state),oe=r&&!(p&&(e&&-1<p.indexOf(e)||this.state.deviceType&&-1<p.indexOf(this.state.deviceType)))&&!u.notEnoughChildren(this.state)&&O,re=!v&&Pe,ne=!v&&Oe,Le=o.getTransform(this.state,this.props);return m.createElement(m.Fragment,null,m.createElement("div",{className:"react-multi-carousel-list "+g+" "+P,dir:x?"rtl":"ltr",ref:this.containerRef},m.createElement("ul",{ref:this.listRef,className:"react-multi-carousel-track "+T,style:{transition:this.isAnimationAllowed?w||S:"none",overflow:B?"hidden":"unset",transform:"translate3d("+(Le+C)+"px,0,0)"},onMouseMove:this.handleMove,onMouseDown:this.handleDown,onMouseUp:this.handleOut,onMouseEnter:this.handleEnter,onMouseLeave:this.handleOut,onTouchStart:this.handleDown,onTouchMove:this.handleMove,onTouchEnd:this.handleOut},this.renderCarouselItems()),oe&&(!re||a)&&this.renderLeftArrow(re),oe&&(!ne||a)&&this.renderRightArrow(ne),O&&!M&&this.renderButtonGroups(),O&&!R&&this.renderDotsList()),O&&R&&this.renderDotsList(),O&&M&&this.renderButtonGroups())},i.defaultProps={slidesToSlide:1,infinite:!1,draggable:!0,swipeable:!0,arrows:!0,renderArrowsWhenDisabled:!1,containerClass:"",sliderClass:"",itemClass:"",keyBoardControl:!0,autoPlaySpeed:3e3,showDots:!1,renderDotsOutside:!1,renderButtonGroupOutside:!1,minimumTouchDrag:80,className:"",dotListClass:"",focusOnSelect:!1,centerMode:!1,additionalTransfrom:0,pauseOnHover:!0,shouldResetAutoplay:!0,rewind:!1,rtl:!1,rewindWithAnimation:!1},i}(m.Component);return W.default=y,W}var Ce;function tt(){if(Ce)return V;Ce=1,Object.defineProperty(V,"__esModule",{value:!0});var n=et();return V.default=n.default,V}var H,_e;function it(){return _e||(_e=1,H=tt()),H}var ot=it();const rt=Ae(ot),nt="movieProvidersDB",st=1,X="providers",at=n=>{const[m,u]=E.useState(),[h,l]=E.useState(!0),[f,d]=E.useState(null),o=async()=>await We(nt,st,{upgrade(s){s.objectStoreNames.contains(X)||s.createObjectStore(X,{keyPath:"movieId"})}}),c=async(y,s)=>await y.get(X,s),S=async(y,s,i)=>{await y.put(X,{movieId:s,providers:i,timestamp:Date.now()})};return E.useEffect(()=>{(async()=>{if(!n){u(null),l(!1);return}l(!0);try{const s=await o(),i=await c(s,n),t=24*60*60*1e3;if(i&&Date.now()-i.timestamp<t){u(i.providers),l(!1);return}const e=await fetch(`${ee}/movie/${n}/watch/providers?api_key=${te}`);if(!e.ok)throw new Error(`Error fetching details for movie ID: ${n}`);const r=await e.json();if(r!=null&&r.results){const a=[],p=new Set;for(const v in r.results){const g=r.results[v];["flatrate","buy","rent"].forEach(T=>{g[T]&&g[T].forEach(w=>{p.has(w.provider_name)||(p.add(w.provider_name),a.push(w))})})}u(a),S(s,n,a)}}catch(s){console.error("Error fetching movie details:",s),d(s.message)}finally{l(!1)}})()},[n]),{movieProviders:m,isLoading:h,error:f}},lt=E.lazy(()=>Ee(()=>import("./CarouselBoostrap-tC17HHmh.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),ut=E.lazy(()=>Ee(()=>import("./ModalVideo-DaI7bKrY.js"),__vite__mapDeps([7,1,2,3,4,5])));function pt({movie:n,logoBuscar:m,isShort:u,isDetail:h}){const{language:l}=Me(),[f,d]=je.useState(!1),{movie:o,isLoading:c}=Ve(n==null?void 0:n.id,l),{logoPath:S}=qe(n==null?void 0:n.id),y=De(),{movieProviders:s}=at(n.id),i=E.useCallback(()=>d(!0),[]),t=E.useCallback(()=>d(!1),[]),e=E.useCallback(()=>{y("/info",{state:{movie:n}})},[y,n]);if(!n||c)return b.jsxs("div",{className:`header ${u?"header-short":""}`,children:[b.jsx(ae,{logoBuscar:!0}),b.jsx(Ne,{width:"100%",height:"100%",variant:"rectangular",sx:{bgcolor:"grey.900"},animation:"wave"})]});const r=(w=[])=>w.map(C=>b.jsx("li",{children:b.jsx("span",{children:C.name})},C.id)),a=w=>w?b.jsx(rt,{swipeable:!1,draggable:!1,showDots:!1,responsive:Fe,ssr:!0,infinite:!0,keyBoardControl:!0,className:"carouselProviders",children:w.map(C=>b.jsx("img",{className:"provedorLogo",src:se+C.logo_path,alt:C.provider_name},C.provider_id))}):null,p=()=>!u&&n.overview?b.jsx("p",{className:"overview",children:n.overview.slice(0,n.overview.indexOf(".")+1)}):u?b.jsx("h2",{className:"titulo-banner",children:n.original_title}):null,v=()=>S?b.jsxs(b.Fragment,{children:[b.jsx("img",{className:`${u?"logo-banner-reducido":"logo-banner"}`,src:`${ke}${S}`,alt:n.title}),!u&&(h?b.jsx(g,{}):p())]}):u?null:p(),g=()=>b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"movieDetailsBanner flex flex-col",children:[(o==null?void 0:o.overview)&&b.jsx("p",{className:"overview",children:o==null?void 0:o.overview.slice(0,(o==null?void 0:o.overview.indexOf("."))+1)}),b.jsxs("div",{className:"bannerDetails flex flex-row",children:[b.jsxs("span",{children:["TMDB ",o==null?void 0:o.vote_average.toFixed(1)]}),b.jsx("span",{children:o==null?void 0:o.release_date.split("-")[0]}),b.jsx("span",{children:o!=null&&o.runtime?`${Math.floor((o==null?void 0:o.runtime)/60)}h ${(o==null?void 0:o.runtime)%60}min`:"Runtime no disponible"})]}),b.jsx("div",{children:b.jsx("ul",{className:"generosBanner flex flex-row",children:r(o==null?void 0:o.genres)})})]}),b.jsxs("div",{className:"provedores-container posters-continer-banner",children:[b.jsx("div",{className:"postersInfo",children:b.jsx(E.Suspense,{fallback:b.jsx("div",{style:{textAlign:"center",padding:"2rem",fontSize:"1.2rem"},children:"Cargando..."}),children:b.jsx(lt,{movie:n,isPoster:!0})})}),a(s)]})]}),T=()=>b.jsxs("div",{className:"botones",children:[b.jsxs("button",{onClick:i,children:[b.jsx("i",{className:"fa-solid fa-play"})," ",l==="es"?"Reproducir":"Play"]}),b.jsx(E.Suspense,{fallback:b.jsx("div",{}),children:b.jsx(ut,{language:l,movie:n,open:f,onClose:t})}),b.jsxs("button",{onClick:e,className:"boton-info-banner",children:[b.jsx("i",{className:"fa-solid fa-circle-info"})," ",l==="es"?"Más Información":"More Information"]})]});return n?b.jsxs("div",{className:`header ${u?"header-short":""}`,children:[b.jsx("img",{className:"fondo",src:`${se}${n.backdrop_path}`,alt:n.title}),b.jsx(ae,{logoBuscar:m}),b.jsx("div",{className:"cuerpoBanner",children:b.jsxs("div",{className:`${u?"contenedorLogo1":`contenedorLogo ${h?"contenedorDetailN":""}`} `,children:[v(),!u&&T()]})})]}):null}export{pt as B,rt as C,ft as a,ct as r,Ve as u};
