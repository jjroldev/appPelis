import{u as E,r as a,a as b,z as N,d as w,j as e,A as S,B as C,C as F,D as L,E as y}from"./index-B9kwUEm6.js";function P(){const{loginAuth:l}=E(),[c,u]=a.useState(""),[d,m]=a.useState(""),[h,t]=a.useState(!1),{setOpenMenu:x}=b(),{emailExists:p,setEmailExists:n}=N(),i=w();a.useEffect(()=>{x(!1)},[]);const g=async s=>{s.preventDefault();try{if(!await S(c,d)){t(!0);return}const r=C.currentUser;if(!r){t(!0);return}const f=F(L,"users",r.uid),o=await y(f);if(o.exists()){const v=o.data();l(v),i("/manageProfiles")}else t(!0)}catch{t(!0)}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"formContainer",children:e.jsxs("form",{className:"formulario",onSubmit:g,children:[e.jsx("div",{className:"headerForm",children:e.jsx("h2",{children:"Login"})}),e.jsxs("div",{className:`${h?"contentEmailExists":"notVisible"}`,children:[e.jsx("h2",{children:"The email or password is incorrect"}),e.jsx("p",{children:"Please log in to continue"})]}),e.jsxs("div",{className:`${p?"contentEmailExists":"notVisible"}`,children:[e.jsx("h2",{children:"Email already exists"}),e.jsx("p",{children:"Please log in to continue"})]}),e.jsx("div",{className:"contenedorInput",children:e.jsx("input",{onFocus:()=>n(!1),onChange:s=>u(s.target.value),type:"email",placeholder:"email@example.com",minLength:5})}),e.jsx("div",{className:"contenedorInput",children:e.jsx("input",{onFocus:()=>n(!1),onChange:s=>m(s.target.value),type:"password",placeholder:"ContraseÃ±a",minLength:6,maxLength:20})}),e.jsx("div",{children:e.jsx("button",{className:"button-enviar",children:"Login"})}),e.jsx("div",{className:"suscripbirse",children:e.jsxs("p",{children:["First time on JustFlix? ",e.jsx("span",{onClick:()=>{i("/register")},children:"Subscribe now"})]})})]})})})}export{P as default};
