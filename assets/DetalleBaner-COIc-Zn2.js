import{r as a,j as r}from"./index-CY5tKcRL.js";import{C as w}from"./CarouselBoostrap-BahbCimA.js";import{C as E,b as N}from"./ResponsiveCarrousel-D9Ly7tpT.js";import{c as g,d as _}from"./endPoints-D6Ym8Q8U.js";import{u as D}from"./useQuery-D-Cck4BY.js";import{f as b}from"./fetchData-DCFA1qTy.js";import"./useMergedRefs-D3Zlt7hL.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./Transition-Cn2V2DiV.js";import"./NavBar-JcPRDVbz.js";function $({movie:s}){const{data:t}=D(`providers-${s==null?void 0:s.id}`,()=>b(g(s==null?void 0:s.id).providers)),[o,c]=a.useState([]),[p,u]=a.useState(window.innerWidth);a.useEffect(()=>{const e=()=>u(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),a.useEffect(()=>{if(t!=null&&t.results){const e=[],n=new Set;for(const j in t.results){const i=t.results[j];["flatrate","buy","rent"].forEach(l=>{i[l]&&i[l].forEach(d=>{n.has(d.provider_name)||(n.add(d.provider_name),e.push(d))})})}c(e)}},[t]);const f=(e=[])=>e.map(n=>r.jsx("li",{children:r.jsx("span",{children:n.name})},n.id)),h=e=>e?r.jsx(E,{swipeable:!0,draggable:!0,showDots:!1,responsive:N,ssr:!0,infinite:!0,keyBoardControl:!0,className:"carouselProviders",children:e.map(n=>r.jsx("img",{className:"provedorLogo",src:_+n.logo_path,alt:n.provider_name},n.provider_id))}):null,x=()=>r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"movieDetailsBanner flex flex-col",children:[(s==null?void 0:s.overview)&&r.jsx("p",{className:"overview",children:s.overview.slice(0,s.overview.indexOf(","))+"."}),r.jsxs("div",{className:"bannerDetails flex flex-row",children:[r.jsxs("span",{children:["TMDB ",s==null?void 0:s.vote_average.toFixed(1)]}),r.jsx("span",{children:s==null?void 0:s.release_date.split("-")[0]}),r.jsx("span",{children:s!=null&&s.runtime?`${Math.floor(s.runtime/60)}h ${s.runtime%60}min`:"Runtime no disponible"})]}),r.jsx("div",{children:r.jsx("ul",{className:"generosBanner",children:f(s==null?void 0:s.genres)})})]}),p>=900&&r.jsxs("div",{className:"provedores-container posters-continer-banner",children:[r.jsx("div",{className:"postersInfo",children:r.jsx(w,{movie:s,isPoster:!0})}),h(o)]})]});return r.jsx(x,{})}export{$ as default};
