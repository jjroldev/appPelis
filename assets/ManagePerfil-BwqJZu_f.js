import{u as h,d as x,b as P,r as u,e as j,c as g,i as N,j as e,S as p,k as v,l as r}from"./index-B1tU7ms9.js";function E(){const{currentUser:s,setCurrentPerfil:t}=h(),l=x(),{setOpenMenu:c}=P();u.useEffect(()=>{c(!1)},[]);const d=j(),{data:a=[],isLoading:o}=g(`perfiles-${s==null?void 0:s.id}`,()=>N(s==null?void 0:s.id),{enabled:!!(s!=null&&s.id)}),f=async(i,n)=>{n.stopPropagation(),await v(s==null?void 0:s.id,i)?(r.success("Perfil eliminado exitosamente"),d.invalidateQueries(`perfiles-${s==null?void 0:s.id}`)):r.error("Error al eliminar el perfil")},m=i=>{t(i),l("/home")};return o?e.jsx(p,{}):(!o&&a.length===0&&l("/createProfile"),e.jsx("div",{className:"containerPerfiles",children:a.length!=0&&e.jsxs("div",{className:"PerfilesExistentesContainer",children:[e.jsx("h2",{className:"tituloPerfiles",children:"Who's watching?"}),e.jsxs("div",{className:"perfiles",children:[a.map(i=>e.jsxs("div",{className:"containerP",onClick:()=>m(i),children:[e.jsxs("div",{className:"contenedorPerfil",children:[e.jsx("img",{className:"perfil-img",src:`/appPelis/${i.imagen}`,alt:""}),e.jsx("i",{className:"fa-solid fa-x iconoX",onClick:n=>f(i.id,n)})]}),e.jsx("h4",{className:"nombrePerfil",children:i.name})]},i.id)),a.length<5&&e.jsxs("div",{className:"containerP",onClick:()=>l("/createProfile"),children:[e.jsx("div",{className:"contenedorPerfil",children:e.jsx("div",{className:"crearPerfilDiv bg-gray-800 w-full h-full",children:e.jsx("i",{className:"fa-solid fa-plus"})})}),e.jsx("h4",{className:"nombrePerfil",children:"Add new"})]})]}),e.jsx("div",{className:"container-button-crearProfile",children:e.jsx("button",{className:"buttonPerfiles bg-gray-800",onClick:()=>{},children:"Edit profile"})})]})}))}export{E as default};
