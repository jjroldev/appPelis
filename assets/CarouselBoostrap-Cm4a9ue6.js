const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Backdrop-DN_Mk2m5.js","assets/index-ddgygG09.js","assets/index-Bsxa_Trr.css","assets/endPoints-D6Ym8Q8U.js","assets/Backdrop-C5hZIQAT.css","assets/Poster-7a8Ny91y.js","assets/Poster-Bmx5Ap-P.css"])))=>i.map(i=>d[i]);
import{r as n,j as c,I as Pe,R as ce,_ as me}from"./index-ddgygG09.js";import{b as Z,d as A,o as Ve,l as he,e as Ue,g as Xe,h as Fe,j as He,i as le,A as fe}from"./useMergedRefs-CQPMNy5c.js";import{T as Be}from"./Transition-D38GbXy3.js";import{u as ze}from"./useQuery-CXXP28uv.js";import{f as Ke}from"./fetchData-DCFA1qTy.js";import{c as Ye}from"./endPoints-D6Ym8Q8U.js";function We(e,t){const r=n.useRef(!0);n.useEffect(()=>{if(r.current){r.current=!1;return}return e()},t)}function Ze(){const e=n.useRef(!0),t=n.useRef(()=>e.current);return n.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Qe(e){const t=n.useRef(e);return t.current=e,t}function qe(e){const t=Qe(e);n.useEffect(()=>()=>t.current(),[])}const W=2**31-1;function ve(e,t,r){const a=r-Date.now();e.current=a<=W?setTimeout(t,a):setTimeout(()=>ve(e,t,r),W)}function Ge(){const e=Ze(),t=n.useRef();return qe(()=>clearTimeout(t.current)),n.useMemo(()=>{const r=()=>clearTimeout(t.current);function a(o,u=0){e()&&(r(),u<=W?t.current=setTimeout(o,u):ve(t,o,Date.now()+u))}return{set:a,clear:r,handleRef:t}},[])}const xe=n.forwardRef(({className:e,bsPrefix:t,as:r="div",...a},o)=>(t=Z(t,"carousel-caption"),c.jsx(r,{ref:o,className:A(e,t),...a})));xe.displayName="CarouselCaption";const Ce=n.forwardRef(({as:e="div",bsPrefix:t,className:r,...a},o)=>{const u=A(r,Z(t,"carousel-item"));return c.jsx(e,{ref:o,...a,className:u})});Ce.displayName="CarouselItem";function de(e,t){let r=0;return n.Children.map(e,a=>n.isValidElement(a)?t(a,r++):a)}function Je(e,t){let r=0;n.Children.forEach(e,a=>{n.isValidElement(a)&&t(a,r++)})}function et(e){var t=Ve(e);return t&&t.defaultView||window}function tt(e,t){return et(e).getComputedStyle(e,t)}var nt=/([A-Z])/g;function rt(e){return e.replace(nt,"-$1").toLowerCase()}var st=/^ms-/;function F(e){return rt(e).replace(st,"-ms-")}var at=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ot(e){return!!(e&&at.test(e))}function Ee(e,t){var r="",a="";if(typeof t=="string")return e.style.getPropertyValue(F(t))||tt(e).getPropertyValue(F(t));Object.keys(t).forEach(function(o){var u=t[o];!u&&u!==0?e.style.removeProperty(F(o)):ot(o)?a+=o+"("+u+") ":r+=F(o)+": "+u+";"}),a&&(r+="transform: "+a+";"),e.style.cssText+=";"+r}function ut(e,t,r,a){if(a===void 0&&(a=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,r,a),e.dispatchEvent(o)}}function it(e){var t=Ee(e,"transitionDuration")||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function ct(e,t,r){r===void 0&&(r=5);var a=!1,o=setTimeout(function(){a||ut(e,"transitionend",!0)},t+r),u=he(e,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(o),u()}}function lt(e,t,r,a){r==null&&(r=it(e)||0);var o=ct(e,r,a),u=he(e,"transitionend",t);return function(){o(),u()}}function pe(e,t){const r=Ee(e,t)||"",a=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*a}function ft(e,t){const r=pe(e,"transitionDuration"),a=pe(e,"transitionDelay"),o=lt(e,u=>{u.target===e&&(o(),t(u))},r+a)}function dt(e){e.offsetHeight}function pt(e){return e&&"setState"in e?Pe.findDOMNode(e):e??null}const mt=ce.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:a,onExiting:o,onExited:u,addEndListener:O,children:w,childRef:_,...k},p)=>{const f=n.useRef(null),N=Ue(f,_),E=m=>{N(pt(m))},d=m=>y=>{m&&f.current&&m(f.current,y)},P=n.useCallback(d(e),[e]),I=n.useCallback(d(t),[t]),R=n.useCallback(d(r),[r]),M=n.useCallback(d(a),[a]),$=n.useCallback(d(o),[o]),b=n.useCallback(d(u),[u]),V=n.useCallback(d(O),[O]);return c.jsx(Be,{ref:p,...k,onEnter:P,onEntered:R,onEntering:I,onExit:M,onExited:b,onExiting:$,addEndListener:V,nodeRef:f,children:typeof w=="function"?(m,y)=>w(m,{...y,ref:E}):ce.cloneElement(w,{ref:E})})}),ht=40;function vt(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;const t=getComputedStyle(e);return t.display!=="none"&&t.visibility!=="hidden"&&getComputedStyle(e.parentNode).display!=="none"}const Re=n.forwardRef(({defaultActiveIndex:e=0,...t},r)=>{const{as:a="div",bsPrefix:o,slide:u=!0,fade:O=!1,controls:w=!0,indicators:_=!0,indicatorLabels:k=[],activeIndex:p,onSelect:f,onSlide:N,onSlid:E,interval:d=5e3,keyboard:P=!0,onKeyDown:I,pause:R="hover",onMouseOver:M,onMouseOut:$,wrap:b=!0,touch:V=!0,onTouchStart:m,onTouchMove:y,onTouchEnd:H,prevIcon:Ne=c.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:Q="Previous",nextIcon:be=c.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:q="Next",variant:G,className:ye,children:B,...Te}=Xe({defaultActiveIndex:e,...t},{activeIndex:"onSelect"}),x=Z(o,"carousel"),D=Fe(),j=n.useRef(null),[J,ee]=n.useState("next"),[ge,U]=n.useState(!1),[S,te]=n.useState(!1),[l,De]=n.useState(p||0);n.useEffect(()=>{!S&&p!==l&&(j.current?ee(j.current):ee((p||0)>l?"next":"prev"),u&&te(!0),De(p||0))},[p,S,l,u]),n.useEffect(()=>{j.current&&(j.current=null)});let T=0,ne;Je(B,(s,i)=>{++T,i===p&&(ne=s.props.interval)});const re=He(ne),h=n.useCallback(s=>{if(S)return;let i=l-1;if(i<0){if(!b)return;i=T-1}j.current="prev",f==null||f(i,s)},[S,l,f,b,T]),v=le(s=>{if(S)return;let i=l+1;if(i>=T){if(!b)return;i=0}j.current="next",f==null||f(i,s)}),z=n.useRef();n.useImperativeHandle(r,()=>({element:z.current,prev:h,next:v}));const se=le(()=>{!document.hidden&&vt(z.current)&&(D?h():v())}),g=J==="next"?"start":"end";We(()=>{u||(N==null||N(l,g),E==null||E(l,g))},[l]);const je=`${x}-item-${J}`,Se=`${x}-item-${g}`,we=n.useCallback(s=>{dt(s),N==null||N(l,g)},[N,l,g]),_e=n.useCallback(()=>{te(!1),E==null||E(l,g)},[E,l,g]),ke=n.useCallback(s=>{if(P&&!/input|textarea/i.test(s.target.tagName))switch(s.key){case"ArrowLeft":s.preventDefault(),D?v(s):h(s);return;case"ArrowRight":s.preventDefault(),D?h(s):v(s);return}I==null||I(s)},[P,I,h,v,D]),Ie=n.useCallback(s=>{R==="hover"&&U(!0),M==null||M(s)},[R,M]),Me=n.useCallback(s=>{U(!1),$==null||$(s)},[$]),ae=n.useRef(0),X=n.useRef(0),oe=Ge(),$e=n.useCallback(s=>{ae.current=s.touches[0].clientX,X.current=0,R==="hover"&&U(!0),m==null||m(s)},[R,m]),Le=n.useCallback(s=>{s.touches&&s.touches.length>1?X.current=0:X.current=s.touches[0].clientX-ae.current,y==null||y(s)},[y]),Ae=n.useCallback(s=>{if(V){const i=X.current;Math.abs(i)>ht&&(i>0?h(s):v(s))}R==="hover"&&oe.set(()=>{U(!1)},d||void 0),H==null||H(s)},[V,R,h,v,oe,d,H]),ue=d!=null&&!ge&&!S,K=n.useRef();n.useEffect(()=>{var s,i;if(!ue)return;const C=D?h:v;return K.current=window.setInterval(document.visibilityState?se:C,(s=(i=re.current)!=null?i:d)!=null?s:void 0),()=>{K.current!==null&&clearInterval(K.current)}},[ue,h,v,re,d,se,D]);const ie=n.useMemo(()=>_&&Array.from({length:T},(s,i)=>C=>{f==null||f(i,C)}),[_,T,f]);return c.jsxs(a,{ref:z,...Te,onKeyDown:ke,onMouseOver:Ie,onMouseOut:Me,onTouchStart:$e,onTouchMove:Le,onTouchEnd:Ae,className:A(ye,x,u&&"slide",O&&`${x}-fade`,G&&`${x}-${G}`),children:[_&&c.jsx("div",{className:`${x}-indicators`,children:de(B,(s,i)=>c.jsx("button",{type:"button","data-bs-target":"","aria-label":k!=null&&k.length?k[i]:`Slide ${i+1}`,className:i===l?"active":void 0,onClick:ie?ie[i]:void 0,"aria-current":i===l},i))}),c.jsx("div",{className:`${x}-inner`,children:de(B,(s,i)=>{const C=i===l;return u?c.jsx(mt,{in:C,onEnter:C?we:void 0,onEntered:C?_e:void 0,addEndListener:ft,children:(L,Oe)=>n.cloneElement(s,{...Oe,className:A(s.props.className,C&&L!=="entered"&&je,(L==="entered"||L==="exiting")&&"active",(L==="entering"||L==="exiting")&&Se)})}):n.cloneElement(s,{className:A(s.props.className,C&&"active")})})}),w&&c.jsxs(c.Fragment,{children:[(b||p!==0)&&c.jsxs(fe,{className:`${x}-control-prev`,onClick:h,children:[Ne,Q&&c.jsx("span",{className:"visually-hidden",children:Q})]}),(b||p!==T-1)&&c.jsxs(fe,{className:`${x}-control-next`,onClick:v,children:[be,q&&c.jsx("span",{className:"visually-hidden",children:q})]})]})]})});Re.displayName="Carousel";const Y=Object.assign(Re,{Caption:xe,Item:Ce}),xt=n.lazy(()=>me(()=>import("./Backdrop-DN_Mk2m5.js"),__vite__mapDeps([0,1,2,3,4]))),Ct=n.lazy(()=>me(()=>import("./Poster-7a8Ny91y.js"),__vite__mapDeps([5,1,2,3,6])));function gt({movie:e,isPoster:t}){const{data:r}=ze(["movieIC",e==null?void 0:e.id],()=>Ke(Ye(e==null?void 0:e.id).movieDetails));return c.jsx("div",{className:`carousel-bootstrap ${t?"c-b-poster":""}`,children:c.jsx(Y,{fade:!0,interval:3e3,pause:"hover",children:t?r==null?void 0:r.images.posters.map((a,o)=>c.jsx(Y.Item,{className:"item-poster",children:c.jsx(Ct,{poster_path:a.file_path})},o)):r==null?void 0:r.images.backdrops.map((a,o)=>c.jsx(Y.Item,{children:c.jsx(xt,{backdrop_path:a.file_path})},o))})})}export{gt as C};
