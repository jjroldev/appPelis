import{u as l,a as m,r as v,j as a}from"./index-BZdF55eJ.js";import{C as c}from"./CardMovie-H0HFCPKy.js";import{N as r}from"./NavBar-DhD9gUeQ.js";import{r as f}from"./userHelpers-DkS9eNZ9.js";import{u as h}from"./useQuery-B7i_iRC3.js";import{f as p}from"./fetchData-DCFA1qTy.js";import{B as u}from"./endPoints-f2vaGF2r.js";function y(){const{currentUser:s,currentPerfil:i}=l(),d=m(),{data:t,isLoading:e}=h(`favorites-${s==null?void 0:s.id}-${i==null?void 0:i.name}`,()=>p(`${u}/users/${s==null?void 0:s.id}/profiles/${i==null?void 0:i.id}/favorites`));v.useEffect(()=>{window.scroll({top:0,left:0,behavior:"instant"})},[]);const n=async o=>{await f(s==null?void 0:s.id,i==null?void 0:i.id,o),await d.invalidateQueries(`favorites-${s==null?void 0:s.id}-${i==null?void 0:i.name}`)};return e?a.jsxs(a.Fragment,{children:[a.jsx(r,{logoBuscar:!0,menu:!0,perfil:!0}),a.jsx("div",{className:"favorites",children:a.jsxs("div",{className:"contenedorFavoritas",children:[a.jsx("h2",{className:"tituloFavoritas",children:"Mi Lista"}),a.jsx("div",{className:"favoritasContainerSpinner"})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx(r,{logoBuscar:!0,menu:!0,perfil:!0}),a.jsxs("div",{className:"favorites",children:[a.jsx("h2",{className:"tituloFavoritas",children:"Mi Lista"}),a.jsx("div",{className:"contenedorFavoritas",children:a.jsxs("div",{className:`favoritasContainer ${(t==null?void 0:t.length)===0?"empty":""}`,children:[!e&&(t==null?void 0:t.map(o=>a.jsx(c,{movie:o,isLarge:!0,doDelete:!0,onRemoveFavorite:n},o.id))),(t==null?void 0:t.length)==0&&a.jsx("div",{className:"noFavorites",children:"No hay pel√≠culas favoritas"})]})})]})]})}export{y as default};
