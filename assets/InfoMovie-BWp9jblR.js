import{R as g,j as e,n as N,r as n,b,c as E}from"./index-DUhg7NHS.js";import{B as R,C as M,a as I}from"./ResponsiveCarrousel-Kr_IER9Y.js";import{b as L,c as B}from"./endPoints-D6Ym8Q8U.js";import{f as D}from"./fetchData-DCFA1qTy.js";import{u as _}from"./useQuery-Mpo7FXLo.js";import{C as S}from"./CarouselBoostrap-DH12qheD.js";import"./NavBar-_VLgT5Ou.js";import"./useMergedRefs-Du-YMI6O.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./Transition-DfCxLD_Q.js";function W(r,s){return e.jsxs(e.Fragment,{children:[e.jsx("img",{src:`${L}${r.profile_path}`,alt:r.name,className:"main-imageCM"}),e.jsxs("div",{className:"detailsCM flex flex-col",children:[e.jsx("p",{className:"nombre-caster",children:r.name}),e.jsx("p",{className:"papel",children:e.jsx("span",{children:s?r.job:r.character})})]})]})}const u=g.memo(({castMember:r,isCrew:s})=>e.jsx("div",{className:"contenedor-posterCM",children:e.jsx("div",{className:"cardContainerImageCM posterCM",children:W(r,s)})}));function G(){var l,c,d,m,p,h;const r=N(),{movie:s}=r.state,{data:a}=_(`movieInfo-${s==null?void 0:s.id}`,()=>D(B(s==null?void 0:s.id).movieDetails)),[f,x]=n.useState(window.innerWidth);n.useEffect(()=>{const i=()=>x(window.innerWidth);return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const{setSearchTerm:j}=b(),{setOpenMenu:C}=E();n.useEffect(()=>{window.scroll({top:0,left:0,behavior:"instant"}),C(!1),j("")},[]);const v=i=>i.credits.cast.map(t=>t.profile_path?e.jsx(u,{castMember:t},t.id):null),w=i=>i.credits.crew.map(t=>t.profile_path?e.jsx(u,{castMember:t,isCrew:!0},t.id):null),o=({renderCredits:i,title:t})=>e.jsxs("div",{className:"detallesReparto",children:[e.jsx("h2",{children:t}),e.jsx(M,{swipeable:!0,draggable:!0,showDots:!1,responsive:I,ssr:!0,infinite:!0,keyBoardControl:!1,className:`carousel-cast ${f<630?"cast-visible":""}`,children:i})]});return e.jsxs("div",{className:"contenedorPrincipalMovie",children:[e.jsx(R,{movie:s,logoBuscar:!0,isDetail:!0}),a&&(((c=(l=a.credits)==null?void 0:l.cast)==null?void 0:c.length)>0||((m=(d=a.credits)==null?void 0:d.crew)==null?void 0:m.length)>0)&&e.jsxs("div",{className:"infoMovieContainer",children:[e.jsxs("div",{className:"detallesInfo",children:[((p=a.credits.cast)==null?void 0:p.length)>0&&e.jsx(o,{renderCredits:v(a),title:"CAST"}),((h=a.credits.crew)==null?void 0:h.length)>0&&e.jsx(o,{renderCredits:w(a),title:"CREW"})]}),e.jsx("div",{className:"contenedor-imagenes",children:e.jsx("div",{className:"flex flex-col backdropss",children:e.jsx(S,{movie:a})})})]})]})}export{G as default};
