import{R as j,j as e,m as C,e as v,a as g,b as N,r as b,S as w}from"./index-D1kFVm6p.js";import{B as M,M as R,C as I,r as S}from"./MovieSwiper-DACZ9_dR.js";import{U as D,a as c}from"./CardMovie-CnHmBbd8.js";import{f as E}from"./fetchData-DCFA1qTy.js";import{u as L}from"./useQuery-Dr7gcqYI.js";import{C as B}from"./CarouselBoostrap-BxLOVXvj.js";import{u as _}from"./NavBar-DyzcSyuq.js";import"./useFavorites-CVYH26CJ.js";import"./useMergedRefs-CkmFB9lM.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./Transition-DUYgbeKu.js";function T(r,s){return e.jsxs(e.Fragment,{children:[e.jsx("img",{src:`${D}${r.profile_path}`,alt:r.name,className:"main-imageCM"}),e.jsxs("div",{className:"detailsCM flex flex-col",children:[e.jsx("p",{className:"nombre-caster",children:r.name}),e.jsx("p",{className:"papel",children:e.jsx("span",{children:s?r.job:r.character})})]})]})}const d=j.memo(({castMember:r,isCrew:s})=>e.jsx("div",{className:"contenedor-posterCM",children:e.jsx("div",{className:"cardContainerImageCM posterCM",children:T(r,s)})}));function V(){var o,l;const r=C(),{movie:s}=r.state,{language:m}=v(),{data:a}=L(`movieInfo-${s==null?void 0:s.id}`,()=>E(c(s==null?void 0:s.id).movieDetails),{refetchOnWindowFocus:!1}),p=_(),{setSearchTerm:u}=g(),{setOpenMenu:f}=N();b.useEffect(()=>{window.scroll({top:0,left:0,behavior:"instant"}),f(!1),u("")},[]);const x=t=>t.credits.cast.map(i=>i.profile_path?e.jsx(d,{castMember:i},i.id):null),h=t=>t.credits.crew.map(i=>i.profile_path?e.jsx(d,{castMember:i,isCrew:!0},i.id):null),n=({renderCredits:t,title:i})=>e.jsxs("div",{className:"detallesReparto",children:[e.jsx("h2",{children:i}),e.jsx(I,{swipeable:!0,draggable:!0,showDots:!1,responsive:S,ssr:!0,infinite:!0,keyBoardControl:!1,className:`carousel-cast ${p<630?"cast-visible":""}`,partialVisible:!0,minimumTouchDrag:0,children:t})]});return a?e.jsxs("div",{className:"contenedorPrincipalMovie",children:[e.jsx(M,{movie:s,logoBuscar:!0,isDetail:!0}),e.jsxs("div",{className:"infoMovieContainer",children:[e.jsxs("div",{className:"detallesInfo",children:[e.jsx("div",{className:"contenedorSimilares",children:e.jsx(R,{URL:c(a.id,m).similar,title:"TambiÃ©n te puede interesar"})}),a&&((o=a.credits.cast)==null?void 0:o.length)>0&&e.jsx(n,{renderCredits:x(a),title:"CAST"}),a&&((l=a.credits.crew)==null?void 0:l.length)>0&&e.jsx(n,{renderCredits:h(a),title:"CREW"})]}),e.jsx("div",{className:"contenedor-imagenes",children:e.jsx("div",{className:"flex flex-col backdropss",children:e.jsx(B,{movie:a})})})]})]}):e.jsx(w,{})}export{V as default};
