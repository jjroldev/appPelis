import{r as i,B as v,A as p}from"./index-BXlzWtmz.js";const h=async(s,o)=>{let e=[];for(let t=1;t<=o;t++){const a=await(await fetch(`${s}&page=${t}`)).json();e=[...e,...a.results.map(r=>r.id)]}return e},$=async(s,o,e)=>{const t=s.map(a=>fetch(`${v}/movie/${a}?api_key=${p}&language=${o}&append_to_response=${e.join(",")}`).then(r=>r.ok?r.json():Promise.reject(new Error(`Error fetching details for movie ID: ${a}`))));return await Promise.all(t)},M=(s,o,e,t)=>{const[n,a]=i.useState([]),[r,l]=i.useState(!0),[f,m]=i.useState(null);return i.useEffect(()=>{(async()=>{l(!0);try{const c=await h(s,o),u=await $(c,e,t);a(u)}catch(c){m(c.message)}finally{l(!1)}})()},[s,o,e]),{movies:n,isLoading:r,error:f}};export{M as u};
