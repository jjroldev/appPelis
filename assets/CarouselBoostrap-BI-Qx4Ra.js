const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Backdrop-CLDCNyX5.js","assets/index-DCwkW2sc.js","assets/index-C_6mexaa.css","assets/BarMenu-BoUtmQLd.js","assets/BarMenu-jNW-FVTq.css","assets/Backdrop-C5hZIQAT.css"])))=>i.map(i=>d[i]);
import{r as n,j as c,H as Oe,R as ue,_ as Pe,c as Ue}from"./index-DCwkW2sc.js";import{b as z,d as O,o as Ve,l as he,e as Xe,g as Fe,h as He,j as We,i as ce,A as le}from"./useMergedRefs-CK-Bs0A7.js";import{T as Be}from"./Transition-POQAe82F.js";import{f as Ke}from"./fetchData-DCFA1qTy.js";import{c as Ye,e as ze,m as Ze}from"./BarMenu-BoUtmQLd.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./TransitionGroupContext-CG-wP-UT.js";function Qe(e,t){const r=n.useRef(!0);n.useEffect(()=>{if(r.current){r.current=!1;return}return e()},t)}function qe(){const e=n.useRef(!0),t=n.useRef(()=>e.current);return n.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Ge(e){const t=n.useRef(e);return t.current=e,t}function Je(e){const t=Ge(e);n.useEffect(()=>()=>t.current(),[])}const Y=2**31-1;function pe(e,t,r){const a=r-Date.now();e.current=a<=Y?setTimeout(t,a):setTimeout(()=>pe(e,t,r),Y)}function et(){const e=qe(),t=n.useRef();return Je(()=>clearTimeout(t.current)),n.useMemo(()=>{const r=()=>clearTimeout(t.current);function a(i,o=0){e()&&(r(),o<=Y?t.current=setTimeout(i,o):pe(t,i,Date.now()+o))}return{set:a,clear:r,handleRef:t}},[])}const ve=n.forwardRef(({className:e,bsPrefix:t,as:r="div",...a},i)=>(t=z(t,"carousel-caption"),c.jsx(r,{ref:i,className:O(e,t),...a})));ve.displayName="CarouselCaption";const xe=n.forwardRef(({as:e="div",bsPrefix:t,className:r,...a},i)=>{const o=O(r,z(t,"carousel-item"));return c.jsx(e,{ref:i,...a,className:o})});xe.displayName="CarouselItem";function fe(e,t){let r=0;return n.Children.map(e,a=>n.isValidElement(a)?t(a,r++):a)}function tt(e,t){let r=0;n.Children.forEach(e,a=>{n.isValidElement(a)&&t(a,r++)})}function nt(e){var t=Ve(e);return t&&t.defaultView||window}function rt(e,t){return nt(e).getComputedStyle(e,t)}var st=/([A-Z])/g;function at(e){return e.replace(st,"-$1").toLowerCase()}var ot=/^ms-/;function F(e){return at(e).replace(ot,"-ms-")}var it=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ut(e){return!!(e&&it.test(e))}function Ce(e,t){var r="",a="";if(typeof t=="string")return e.style.getPropertyValue(F(t))||rt(e).getPropertyValue(F(t));Object.keys(t).forEach(function(i){var o=t[i];!o&&o!==0?e.style.removeProperty(F(i)):ut(i)?a+=i+"("+o+") ":r+=F(i)+": "+o+";"}),a&&(r+="transform: "+a+";"),e.style.cssText+=";"+r}function ct(e,t,r,a){if(a===void 0&&(a=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,r,a),e.dispatchEvent(i)}}function lt(e){var t=Ce(e,"transitionDuration")||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function ft(e,t,r){r===void 0&&(r=5);var a=!1,i=setTimeout(function(){a||ct(e,"transitionend",!0)},t+r),o=he(e,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(i),o()}}function dt(e,t,r,a){r==null&&(r=lt(e)||0);var i=ft(e,r,a),o=he(e,"transitionend",t);return function(){i(),o()}}function de(e,t){const r=Ce(e,t)||"",a=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*a}function mt(e,t){const r=de(e,"transitionDuration"),a=de(e,"transitionDelay"),i=dt(e,o=>{o.target===e&&(i(),t(o))},r+a)}function ht(e){e.offsetHeight}function pt(e){return e&&"setState"in e?Oe.findDOMNode(e):e??null}const vt=ue.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:a,onExiting:i,onExited:o,addEndListener:D,children:k,childRef:M,...I},m)=>{const f=n.useRef(null),g=Xe(f,M),R=h=>{g(pt(h))},d=h=>y=>{h&&f.current&&h(f.current,y)},P=n.useCallback(d(e),[e]),L=n.useCallback(d(t),[t]),E=n.useCallback(d(r),[r]),_=n.useCallback(d(a),[a]),$=n.useCallback(d(i),[i]),b=n.useCallback(d(o),[o]),U=n.useCallback(d(D),[D]);return c.jsx(Be,{ref:m,...I,onEnter:P,onEntered:E,onEntering:L,onExit:_,onExited:b,onExiting:$,addEndListener:U,nodeRef:f,children:typeof k=="function"?(h,y)=>k(h,{...y,ref:R}):ue.cloneElement(k,{ref:R})})}),xt=40;function Ct(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;const t=getComputedStyle(e);return t.display!=="none"&&t.visibility!=="hidden"&&getComputedStyle(e.parentNode).display!=="none"}const Re=n.forwardRef(({defaultActiveIndex:e=0,...t},r)=>{const{as:a="div",bsPrefix:i,slide:o=!0,fade:D=!1,controls:k=!0,indicators:M=!0,indicatorLabels:I=[],activeIndex:m,onSelect:f,onSlide:g,onSlid:R,interval:d=5e3,keyboard:P=!0,onKeyDown:L,pause:E="hover",onMouseOver:_,onMouseOut:$,wrap:b=!0,touch:U=!0,onTouchStart:h,onTouchMove:y,onTouchEnd:H,prevIcon:Ee=c.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:Z="Previous",nextIcon:ge=c.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:Q="Next",variant:q,className:be,children:W,...ye}=Fe({defaultActiveIndex:e,...t},{activeIndex:"onSelect"}),x=z(i,"carousel"),S=He(),w=n.useRef(null),[G,J]=n.useState("next"),[Ne,V]=n.useState(!1),[j,ee]=n.useState(!1),[l,Te]=n.useState(m||0);n.useEffect(()=>{!j&&m!==l&&(w.current?J(w.current):J((m||0)>l?"next":"prev"),o&&ee(!0),Te(m||0))},[m,j,l,o]),n.useEffect(()=>{w.current&&(w.current=null)});let N=0,te;tt(W,(s,u)=>{++N,u===m&&(te=s.props.interval)});const ne=We(te),p=n.useCallback(s=>{if(j)return;let u=l-1;if(u<0){if(!b)return;u=N-1}w.current="prev",f==null||f(u,s)},[j,l,f,b,N]),v=ce(s=>{if(j)return;let u=l+1;if(u>=N){if(!b)return;u=0}w.current="next",f==null||f(u,s)}),B=n.useRef();n.useImperativeHandle(r,()=>({element:B.current,prev:p,next:v}));const re=ce(()=>{!document.hidden&&Ct(B.current)&&(S?p():v())}),T=G==="next"?"start":"end";Qe(()=>{o||(g==null||g(l,T),R==null||R(l,T))},[l]);const De=`${x}-item-${G}`,Se=`${x}-item-${T}`,we=n.useCallback(s=>{ht(s),g==null||g(l,T)},[g,l,T]),je=n.useCallback(()=>{ee(!1),R==null||R(l,T)},[R,l,T]),ke=n.useCallback(s=>{if(P&&!/input|textarea/i.test(s.target.tagName))switch(s.key){case"ArrowLeft":s.preventDefault(),S?v(s):p(s);return;case"ArrowRight":s.preventDefault(),S?p(s):v(s);return}L==null||L(s)},[P,L,p,v,S]),Me=n.useCallback(s=>{E==="hover"&&V(!0),_==null||_(s)},[E,_]),Ie=n.useCallback(s=>{V(!1),$==null||$(s)},[$]),se=n.useRef(0),X=n.useRef(0),ae=et(),Le=n.useCallback(s=>{se.current=s.touches[0].clientX,X.current=0,E==="hover"&&V(!0),h==null||h(s)},[E,h]),_e=n.useCallback(s=>{s.touches&&s.touches.length>1?X.current=0:X.current=s.touches[0].clientX-se.current,y==null||y(s)},[y]),$e=n.useCallback(s=>{if(U){const u=X.current;Math.abs(u)>xt&&(u>0?p(s):v(s))}E==="hover"&&ae.set(()=>{V(!1)},d||void 0),H==null||H(s)},[U,E,p,v,ae,d,H]),oe=d!=null&&!Ne&&!j,K=n.useRef();n.useEffect(()=>{var s,u;if(!oe)return;const C=S?p:v;return K.current=window.setInterval(document.visibilityState?re:C,(s=(u=ne.current)!=null?u:d)!=null?s:void 0),()=>{K.current!==null&&clearInterval(K.current)}},[oe,p,v,ne,d,re,S]);const ie=n.useMemo(()=>M&&Array.from({length:N},(s,u)=>C=>{f==null||f(u,C)}),[M,N,f]);return c.jsxs(a,{ref:B,...ye,onKeyDown:ke,onMouseOver:Me,onMouseOut:Ie,onTouchStart:Le,onTouchMove:_e,onTouchEnd:$e,className:O(be,x,o&&"slide",D&&`${x}-fade`,q&&`${x}-${q}`),children:[M&&c.jsx("div",{className:`${x}-indicators`,children:fe(W,(s,u)=>c.jsx("button",{type:"button","data-bs-target":"","aria-label":I!=null&&I.length?I[u]:`Slide ${u+1}`,className:u===l?"active":void 0,onClick:ie?ie[u]:void 0,"aria-current":u===l},u))}),c.jsx("div",{className:`${x}-inner`,children:fe(W,(s,u)=>{const C=u===l;return o?c.jsx(vt,{in:C,onEnter:C?we:void 0,onEntered:C?je:void 0,addEndListener:mt,children:(A,Ae)=>n.cloneElement(s,{...Ae,className:O(s.props.className,C&&A!=="entered"&&De,(A==="entered"||A==="exiting")&&"active",(A==="entering"||A==="exiting")&&Se)})}):n.cloneElement(s,{className:O(s.props.className,C&&"active")})})}),k&&c.jsxs(c.Fragment,{children:[(b||m!==0)&&c.jsxs(le,{className:`${x}-control-prev`,onClick:p,children:[Ee,Z&&c.jsx("span",{className:"visually-hidden",children:Z})]}),(b||m!==N-1)&&c.jsxs(le,{className:`${x}-control-next`,onClick:v,children:[ge,Q&&c.jsx("span",{className:"visually-hidden",children:Q})]})]})]})});Re.displayName="Carousel";const me=Object.assign(Re,{Caption:ve,Item:xe}),Rt=n.lazy(()=>Pe(()=>import("./Backdrop-CLDCNyX5.js"),__vite__mapDeps([0,1,2,3,4,5]))),St=n.memo(({item:e})=>{const r=e&&"title"in e?Ye(e==null?void 0:e.id).movieDetails:ze(e==null?void 0:e.id),{data:a}=Ue(["mediaDetails",e==null?void 0:e.id],()=>Ke(r),{refetchOnWindowFocus:!1}),i=n.useMemo(()=>{var o;return!a||!("images"in a)?[]:((o=a.images)==null?void 0:o.backdrops)||[]},[a]);return c.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,ease:"easeOut"},children:c.jsx("div",{className:"carousel-bootstrap cb-backdrop",children:c.jsx(me,{fade:!0,interval:3e3,pause:"hover",children:i.map((o,D)=>c.jsx(me.Item,{children:c.jsx(Rt,{backdrop_path:o.file_path})},D))})})})});export{St as default};
