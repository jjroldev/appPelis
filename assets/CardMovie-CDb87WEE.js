import{R as N,r as a,d as R,j as e}from"./index-ddgygG09.js";import{U as g,a as v}from"./endPoints-D6Ym8Q8U.js";const $=N.memo(({movie:s,isLarge:i,doDelete:o=!1,onRemoveFavorite:c,onAddFavorite:l})=>{const[u,f]=a.useState(window.innerWidth),h=t=>{t.stopPropagation(),c&&c(s)},p=t=>{t.stopPropagation(),l&&l(s)};a.useEffect(()=>{const t=()=>f(window.innerWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const[m,b]=a.useState(!1),[r,x]=a.useState(!1),n=a.useRef(null),d=R(),j=a.useCallback(()=>{d("/info",{state:{movie:s}})},[d,s]);return a.useEffect(()=>{const t=new IntersectionObserver(([w])=>{w.isIntersecting&&b(!0)},{threshold:.01});return n.current&&t.observe(n.current),()=>{n.current&&t.unobserve(n.current)}},[]),e.jsx("div",{ref:n,className:`contenedor-poster ${i?"large":""}`,onClick:u<1e3?j:void 0,children:e.jsxs("div",{className:`cardContainerImage ${i?"backdrop":"poster"}`,children:[e.jsx("div",{className:`fondoCardMovie h-full w-full absolute inset-0 ${r?"opacity-0":"opacity-100"} transition-opacity duration-500`}),m&&e.jsx("img",{src:`${i?`${g}${s.backdrop_path}`:`${v}${s.poster_path}`}`,alt:s.title,onLoad:()=>x(!0),className:`main-image ${r?"visible":"hidden"}`}),r&&e.jsxs("div",{className:"details-cardMovie",children:[e.jsx("h2",{className:"titulo-cardMovie",children:i&&(s.title.includes(":")?s.title.split(":")[0]:s.title)}),e.jsxs("div",{className:"play-button",children:[e.jsx("button",{onClick:p,className:o?"heartVisible corazon":"corazon",children:e.jsx("i",{className:"fa-solid fa-heart"})}),o&&e.jsx("button",{onClick:h,children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})})});export{$ as C};
