import{u as m,a as u,b as v,g as h,r,j as a}from"./index-B4y0dzn2.js";import{C as f}from"./CardMovie-CwwG24zU.js";import{N as n}from"./NavBar-BX_xtu2N.js";import{u as x}from"./useQuery-CqqENF2_.js";import{u as p}from"./useFavorites-BxDf3qFT.js";import"./endPoints-D6Ym8Q8U.js";function y(){const{currentUser:s,currentPerfil:e}=m(),{setSearchTerm:d}=u(),{setOpenMenu:l}=v(),{handleRemoveFavorite:c}=p(),{data:t,isLoading:i}=x(`favorites-${s==null?void 0:s.id}-${e==null?void 0:e.id}`,()=>h(s==null?void 0:s.id,e==null?void 0:e.id),{enabled:!!(s!=null&&s.id)&&!!(e!=null&&e.id)});return r.useEffect(()=>{window.scroll({top:0,left:0,behavior:"instant"}),d("")},[]),r.useEffect(()=>{l(!1)},[]),i?a.jsxs(a.Fragment,{children:[a.jsx(n,{logoBuscar:!0,menu:!0,perfil:!0}),a.jsx("div",{className:"favorites",children:a.jsxs("div",{className:"contenedorFavoritas",children:[a.jsx("h2",{className:"tituloFavoritas",children:"Mi Lista"}),a.jsx("div",{className:"favoritasContainerSpinner"})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx(n,{logoBuscar:!0,menu:!0,perfil:!0}),a.jsxs("div",{className:"favorites",children:[a.jsx("h2",{className:"tituloFavoritas",children:"Mi Lista"}),a.jsx("div",{className:"contenedorFavoritas",children:a.jsxs("div",{className:`favoritasContainer ${(t==null?void 0:t.length)===0?"empty":""}`,children:[!i&&(t==null?void 0:t.map(o=>a.jsx(f,{movie:o,isLarge:!0,doDelete:!0,onRemoveFavorite:c},o.id))),(t==null?void 0:t.length)==0&&a.jsx("div",{className:"noFavorites",children:"No hay pel√≠culas favoritas"})]})})]})]})}export{y as default};
