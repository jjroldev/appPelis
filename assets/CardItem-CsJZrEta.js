import{R as I,c as N,r as o,j as e}from"./index-GES2pQCq.js";import{k as C,l as $}from"./BarMenu-DtgXWDGu.js";const E=I.memo(({item:a,isLarge:r,doDelete:m=!1,onRemoveFavorite:l,onAddFavorite:d})=>{const n="title"in a?a.title:a.name,u=N(),t=o.useRef(null),[p,f]=o.useState(!1),[c,h]=o.useState(!1),x=o.useCallback(()=>{const s="title"in a?"movie":"serie";u(`/${s}/${a.id}`)},[u,a.id]),b=s=>{s.stopPropagation(),l&&l(a)},j=s=>{s.stopPropagation(),d&&d(a)};o.useEffect(()=>{const s=new IntersectionObserver(([i])=>{i.isIntersecting&&f(!0)},{threshold:.1});return t.current&&s.observe(t.current),()=>{t.current&&s.unobserve(t.current)}},[]);function v({imageLoaded:s}){return e.jsx("img",{src:r?`${C}${a.backdrop_path}`:`${$}${a.poster_path}`,alt:n,onLoad:()=>h(!0),className:`main-image ${s?"visible":"hidden"}`})}function g({isLarge:s,doDelete:i}){return e.jsxs("div",{className:"details-cardItem",children:[e.jsx("h2",{className:"titulo-cardItem",children:s&&(n.includes(":")?n.split(":")[0]:n)}),e.jsxs("div",{className:"play-button",children:[e.jsx("button",{onClick:j,className:i?"heartVisible corazon":"corazon",children:e.jsx("i",{className:"fa-solid fa-heart"})}),i&&e.jsx("button",{className:"corazon",onClick:b,children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}return e.jsx("div",{ref:t,className:`contenedor-poster ${r?"large":""}`,onClick:x,children:e.jsxs("div",{className:`cardContainerImage ${r?"backdrop":"poster"}`,children:[e.jsx("div",{className:`fondoCardItem h-full w-full absolute inset-0 ${c?"opacity-0":"opacity-100"} transition-opacity duration-400`}),p&&e.jsx(v,{imageLoaded:c}),c&&e.jsx(g,{isLarge:r,doDelete:m})]})})});export{E as C};
