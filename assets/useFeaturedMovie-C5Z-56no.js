import{e as p,u as I,r as o,b as L}from"./index-D3al4KR9.js";import{g as M,a as v,f}from"./fetchData-DUfzkHje.js";function R(g,m,l){const{language:e}=p(),{currentPerfil:n}=I(),d=o.useMemo(()=>M(e),[e]),h=o.useMemo(()=>v(e,1),[e]),{data:a,isLoading:u}=L([m,e],()=>l==="movie"?f(d.nowPlaying):f(h.now_playing)),[S,c]=o.useState(null),r=o.useMemo(()=>{var t;return((t=a==null?void 0:a.results)==null?void 0:t.filter(s=>s.backdrop_path&&s.overview))||[]},[a]);return o.useEffect(()=>{if(!u&&r.length>0&&n){const t=`${g}-${n.id}`,s=sessionStorage.getItem(t);if(s)c(JSON.parse(s));else{const i=r[Math.floor(Math.random()*r.length)];c(i),sessionStorage.setItem(t,JSON.stringify(i))}}},[r,u,n]),S}export{R as u};
