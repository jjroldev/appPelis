import{u as m,a as v,g as h,b as c,r as x,j as a,c as p}from"./index-DpTpVCke.js";import{C as j}from"./CardMovie-ClaZgZZL.js";import{N as d}from"./NavBar-BLWZuKqg.js";import{u}from"./useQuery-Co3oNWgm.js";import"./fetchData-AUSfi4jN.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./ModalVideo-Df9kV0Uv.js";function $(){const{currentUser:s,currentPerfil:i}=m(),l=v(),{data:o,isLoading:e}=u(`favorites-${s==null?void 0:s.id}-${i==null?void 0:i.id}`,()=>h(s==null?void 0:s.id,i==null?void 0:i.id),{enabled:!!(s!=null&&s.id)&&!!(i!=null&&i.id)}),{setSearchTerm:n}=c();x.useEffect(()=>{window.scroll({top:0,left:0,behavior:"instant"}),n("")},[]);const r=async t=>{await p(s==null?void 0:s.id,i==null?void 0:i.id,t),await l.invalidateQueries(`favorites-${s==null?void 0:s.id}-${i==null?void 0:i.id}`)};return e?a.jsxs(a.Fragment,{children:[a.jsx(d,{logoBuscar:!0,menu:!0,perfil:!0}),a.jsx("div",{className:"favorites",children:a.jsxs("div",{className:"contenedorFavoritas",children:[a.jsx("h2",{className:"tituloFavoritas",children:"Mi Lista"}),a.jsx("div",{className:"favoritasContainerSpinner"})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx(d,{logoBuscar:!0,menu:!0,perfil:!0}),a.jsxs("div",{className:"favorites",children:[a.jsx("h2",{className:"tituloFavoritas",children:"Mi Lista"}),a.jsx("div",{className:"contenedorFavoritas",children:a.jsxs("div",{className:`favoritasContainer ${(o==null?void 0:o.length)===0?"empty":""}`,children:[!e&&(o==null?void 0:o.map(t=>a.jsx(j,{movie:t,isLarge:!0,doDelete:!0,onRemoveFavorite:r},t.id))),(o==null?void 0:o.length)==0&&a.jsx("div",{className:"noFavorites",children:"No hay pel√≠culas favoritas"})]})})]})]})}export{$ as default};
