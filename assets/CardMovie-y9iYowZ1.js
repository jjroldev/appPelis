import{R as N,e as v,r,j as e}from"./index-DroBe1vi.js";import{U as M,a as R}from"./endPoints-D6Ym8Q8U.js";const k=N.memo(({movie:a,isLarge:n,doDelete:u=!1,onRemoveFavorite:c,onAddFavorite:l})=>{const d=v(),t=r.useRef(null),[f,p]=r.useState(!1),[o,h]=r.useState(!1),m=r.useCallback(()=>{d("/info",{state:{movie:a}})},[d,a]),x=s=>{s.stopPropagation(),c&&c(a)},j=s=>{s.stopPropagation(),l&&l(a)};r.useEffect(()=>{const s=new IntersectionObserver(([i])=>{i.isIntersecting&&p(!0)},{threshold:.01});return t.current&&s.observe(t.current),()=>{t.current&&s.unobserve(t.current)}},[]);function b({imageLoaded:s}){return e.jsx("div",{className:`fondoCardMovie h-full w-full absolute inset-0 ${s?"opacity-0":"opacity-100"} transition-opacity duration-500`})}function g({imageLoaded:s}){return e.jsx("img",{src:n?`${M}${a.backdrop_path}`:`${R}${a.poster_path}`,alt:a.title,onLoad:()=>h(!0),className:`main-image ${s?"visible":"hidden"}`})}function C({isLarge:s,doDelete:i}){return e.jsxs("div",{className:"details-cardMovie",children:[e.jsx("h2",{className:"titulo-cardMovie",children:s&&(a.title.includes(":")?a.title.split(":")[0]:a.title)}),e.jsxs("div",{className:"play-button",children:[e.jsx("button",{onClick:j,className:i?"heartVisible corazon":"corazon",children:e.jsx("i",{className:"fa-solid fa-heart"})}),i&&e.jsx("button",{onClick:x,children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}return e.jsx("div",{ref:t,className:`contenedor-poster ${n?"large":""}`,onClick:m,children:e.jsxs("div",{className:`cardContainerImage ${n?"backdrop":"poster"}`,children:[e.jsx(b,{imageLoaded:o}),f&&e.jsx(g,{imageLoaded:o}),o&&e.jsx(C,{isLarge:n,doDelete:u})]})})});export{k as C};
