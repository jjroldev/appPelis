import{e as h,r as o}from"./index-I0KVTuNB.js";import{u as l}from"./useQuery-GHSVvEtE.js";import{f as i}from"./fetchData-DCFA1qTy.js";import{g as S,a as M}from"./CardItem-BddEjgw-.js";function F(n,c,f){const{language:e}=h(),m=o.useMemo(()=>S(e),[e]),g=o.useMemo(()=>M(e),[e]),{data:a,isLoading:u}=l([c,e],()=>f=="movie"?i(m.topRatedMovies):i(g.topRatedSeries)),[d,p]=o.useState(null),r=o.useMemo(()=>{var t;return((t=a==null?void 0:a.results)==null?void 0:t.filter(s=>s.backdrop_path&&s.overview))||[]},[a]);return o.useEffect(()=>{if(!u&&r.length>0){const t=sessionStorage.getItem(n),s=t?JSON.parse(t):r[Math.floor(Math.random()*r.length)];p(s),sessionStorage.setItem(n,JSON.stringify(s))}},[r,u]),d}export{F as u};
