import{R as h,j as e,m as j,e as C,a as v,b as g,r as N,S as b}from"./index-D3G7vynZ.js";import{B as w,M,C as R,r as I}from"./MovieSwiper-Boj8_w4B.js";import{U as S,a as c}from"./CardMovie-Cqvvrk4f.js";import{f as D}from"./fetchData-DCFA1qTy.js";import{u as E}from"./useQuery-BvhK6xc7.js";import{C as B}from"./CarouselBoostrap-CiC2CTfI.js";import{u as L}from"./NavBar-DyQgmySm.js";import"./useFavorites-BqAcIiyN.js";import"./useMergedRefs-Ciu_icWO.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./Transition-BaCTxEmj.js";function _(s,i){return e.jsxs(e.Fragment,{children:[e.jsx("img",{src:`${S}${s.profile_path}`,alt:s.name,className:"main-imageCM"}),e.jsxs("div",{className:"detailsCM flex flex-col",children:[e.jsx("p",{className:"nombre-caster",children:s.name}),e.jsx("p",{className:"papel",children:e.jsx("span",{children:i?s.job:s.character})})]})]})}const d=h.memo(({castMember:s,isCrew:i})=>e.jsx("div",{className:"contenedor-posterCM",children:e.jsx("div",{className:"cardContainerImageCM posterCM",children:_(s,i)})}));function Q(){var o,l;const{movieId:s}=j(),{language:i}=C(),{data:r}=E(`movieInfo-${s}`,()=>D(c(s).movieDetails),{refetchOnWindowFocus:!1}),m=L(),{setSearchTerm:p}=v(),{setOpenMenu:u}=g();N.useEffect(()=>{window.scroll({top:0,left:0,behavior:"instant"}),u(!1),p("")},[]);const f=t=>t.credits.cast.map(a=>a.profile_path?e.jsx(d,{castMember:a},a.id):null),x=t=>t.credits.crew.map(a=>a.profile_path?e.jsx(d,{castMember:a,isCrew:!0},a.id):null),n=({renderCredits:t,title:a})=>e.jsxs("div",{className:"detallesReparto",children:[e.jsx("h2",{children:a}),e.jsx(R,{swipeable:!0,draggable:!0,showDots:!1,responsive:I,ssr:!0,infinite:!0,keyBoardControl:!1,className:`carousel-cast ${m<630?"cast-visible":""}`,partialVisible:!0,minimumTouchDrag:0,children:t})]});return r?e.jsxs("div",{className:"contenedorPrincipalMovie",children:[e.jsx(w,{movieId:s,logoBuscar:!0,isDetail:!0}),e.jsxs("div",{className:"infoMovieContainer",children:[e.jsxs("div",{className:"detallesInfo",children:[e.jsx("div",{className:"contenedorSimilares",children:e.jsx(M,{URL:c(r.id,i).similar,title:"TambiÃ©n te puede interesar"})}),r&&((o=r.credits.cast)==null?void 0:o.length)>0&&e.jsx(n,{renderCredits:f(r),title:"CAST"}),r&&((l=r.credits.crew)==null?void 0:l.length)>0&&e.jsx(n,{renderCredits:x(r),title:"CREW"})]}),e.jsx("div",{className:"contenedor-imagenes",children:e.jsx("div",{className:"flex flex-col backdropss",children:e.jsx(B,{movie:r})})})]})]}):e.jsx(b,{})}export{Q as default};
