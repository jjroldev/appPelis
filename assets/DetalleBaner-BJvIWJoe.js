import{r as i,j as r}from"./index-B4y0dzn2.js";import{C as j}from"./CarouselBoostrap-CN-kY142.js";import{C as w,b as N}from"./ResponsiveCarrousel-DCbl-mtt.js";import{d as g,c as _}from"./endPoints-D6Ym8Q8U.js";import{u as D}from"./useQuery-CqqENF2_.js";import{f as b}from"./fetchData-DCFA1qTy.js";import{u as B}from"./NavBar-BX_xtu2N.js";import"./useMergedRefs-C-fKanem.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./Transition-Bb6Fds5T.js";import"./useFavorites-BxDf3qFT.js";function G({movie:s}){const{data:n}=D(`providers-${s==null?void 0:s.id}`,()=>b(_(s==null?void 0:s.id).providers)),[o,c]=i.useState([]),p=B();i.useEffect(()=>{if(n!=null&&n.results){const t=[],e=new Set;for(const h in n.results){const l=n.results[h];["flatrate","buy","rent"].forEach(d=>{l[d]&&l[d].forEach(a=>{e.has(a.provider_name)||(e.add(a.provider_name),t.push(a))})})}c(t)}},[n]);const u=(t=[])=>t.map(e=>r.jsx("li",{children:r.jsx("span",{children:e.name})},e.id)),f=t=>t?r.jsx(w,{swipeable:!0,draggable:!0,showDots:!1,responsive:N,ssr:!0,infinite:!0,keyBoardControl:!0,className:"carouselProviders",children:t.map(e=>r.jsx("img",{className:"provedorLogo",src:g+e.logo_path,alt:e.provider_name},e.provider_id))}):null,x=()=>r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"movieDetailsBanner flex flex-col",children:[(s==null?void 0:s.overview)&&r.jsx("p",{className:"overview",children:s.overview.slice(0,s.overview.indexOf(","))+"."}),r.jsxs("div",{className:"bannerDetails flex flex-row",children:[r.jsxs("span",{children:["TMDB ",s==null?void 0:s.vote_average.toFixed(1)]}),r.jsx("span",{children:s==null?void 0:s.release_date.split("-")[0]}),r.jsx("span",{children:s!=null&&s.runtime?`${Math.floor(s.runtime/60)}h ${s.runtime%60}min`:"Runtime no disponible"})]}),r.jsx("div",{children:r.jsx("ul",{className:"generosBanner",children:u(s==null?void 0:s.genres)})})]}),p>=900&&r.jsxs("div",{className:"provedores-container posters-continer-banner",children:[r.jsx("div",{className:"postersInfo",children:r.jsx(j,{movie:s,isPoster:!0})}),f(o)]})]});return r.jsx(x,{})}export{G as default};
