const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DetalleBaner-LTvl_uB4.js","assets/index-B9kwUEm6.js","assets/index-BMvqc24B.css","assets/Skeleton-wVtclOsa.js","assets/DefaultPropsProvider-DYvTOKxc.js","assets/fetchData-DOV4zD7D.js","assets/CardItem-B4pw2kSi.js","assets/CardItem-DKfw7dlE.css","assets/useFavorites-B7Zwx7-N.js","assets/useWindowWidth-BKSEQXHn.js","assets/BarMenu-DnO-1Eog.js","assets/DetalleBaner-QLfaUZ3j.css"])))=>i.map(i=>d[i]);
import{r as u,j as e,_ as A,d as F,e as D,u as I,b,g as G,l as V}from"./index-B9kwUEm6.js";import{m as L,k as z,l as U,f as g,h as W,j as q,n as H,o as Q}from"./fetchData-DOV4zD7D.js";import{g as J,a as B,b as C}from"./CardItem-B4pw2kSi.js";import{u as K}from"./useFavorites-B7Zwx7-N.js";import{u as X}from"./useWindowWidth-BKSEQXHn.js";import $ from"./BarMenu-DnO-1Eog.js";import{T as Y,h as Z,i as ee,j as se,n as ae,o as oe,c as te,g as ne,p as ie,q as le,C as re}from"./DefaultPropsProvider-DYvTOKxc.js";import{S as h}from"./Skeleton-wVtclOsa.js";function ce(a){return Object.keys(a).length===0}function de(a=null){const o=u.useContext(Y);return!o||ce(o)?a:o}const me=Z();function ue(a=me){return de(a)}const xe=a=>{var t;const o={systemProps:{},otherProps:{}},c=((t=a==null?void 0:a.theme)==null?void 0:t.unstable_sxConfig)??ee;return Object.keys(a).forEach(i=>{c[i]?o.systemProps[i]=a[i]:o.otherProps[i]=a[i]}),o};function he(a){const{sx:o,...c}=a,{systemProps:t,otherProps:i}=xe(c);let d;return Array.isArray(o)?d=[t,...o]:typeof o=="function"?d=(...x)=>{const l=o(...x);return se(l)?{...t,...l}:t}:d={...t,...o},{...i,sx:d}}function fe(a={}){const{themeId:o,defaultTheme:c,defaultClassName:t="MuiBox-root",generateClassName:i}=a,d=ae("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(oe);return u.forwardRef(function(j,v){const n=ue(c),{className:r,component:s="div",...f}=he(j);return e.jsx(d,{as:s,ref:v,className:te(r,i?i(t):t),theme:o&&n[o]||n,...f})})}const ge=ne("MuiBox",["root"]),je=ie(),w=fe({themeId:le,defaultTheme:je,defaultClassName:ge.root,generateClassName:re.generate}),T=u.lazy(()=>A(()=>import("./DetalleBaner-LTvl_uB4.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])));function $e({itemId:a,isDetail:o=!1,type:c}){const t=F(),{handleAddFavorite:i,handleRemoveFavorite:d}=K(),{language:x}=D(),l=X(),[j,v]=u.useState(!1),{currentPerfil:n,currentUser:r}=I(),{data:s,isLoading:f}=b(`movie-${a}`,()=>c==="movie"?g(W(a,x).movieDetails):g(q(a,x)),{enabled:!!a}),{data:_,isLoading:k}=b(`logo-item-${c}-${a}`,()=>c==="movie"?g(H(a)):g(Q(a)),{enabled:!!a,staleTime:1e3*60*5}),N=J(s,_,x),{data:y}=b(`favorites-${r==null?void 0:r.id}-${n==null?void 0:n.id}`,()=>G(r==null?void 0:r.id,n==null?void 0:n.id),{enabled:!!(r!=null&&r.id)&&!!(n!=null&&n.id)}),p=y==null?void 0:y.some(m=>m.id===(s==null?void 0:s.id)),P=()=>{s&&(p?d(s):i(s))},R=u.useCallback(()=>{t(`/${c}/${s==null?void 0:s.id}`)},[t,s==null?void 0:s.id]),S=()=>s!=null&&s.overview?e.jsxs("p",{className:"overview",children:[l>600?s.overview.slice(0,350):s.overview.slice(0,250),"..."]}):null,E=({item:m})=>N&&!f?e.jsx("img",{className:"logo-banner",src:`${U}${N}`,alt:"Logo",onLoad:()=>v(!0),style:{opacity:j?1:0,transition:"opacity 0.6s ease-in-out"}}):e.jsx("h2",{className:"titleItemNoLogo",children:m?"title"in m?m.title.split(" ").slice(0,3).join(" "):m.name.split(" ").slice(0,3).join(" "):"No Title"}),M=()=>{C(s)?t(`/watch/${C(s)}`):V.error("No existe un trailer para la serie/pelicula seleccionada")};function O(){return e.jsxs("div",{className:"botones",children:[e.jsxs("button",{className:"play",onClick:M,children:[e.jsx("i",{className:"fa-solid fa-play"})," Play"]}),location.hash!=="#/info"&&e.jsxs("button",{onClick:R,className:"boton-info-banner",children:[e.jsx("span",{className:"material-symbols-outlined",children:"info"})," More Information"]}),e.jsx("button",{onClick:P,className:"botonMeGustaBanner",children:e.jsx("i",{className:`fa-solid ${p?"fa-check":"fa-plus"}`})})]})}return!a||!s||f||k?e.jsxs(L.div,{className:"header",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeOut"},children:[e.jsx($,{}),e.jsx("div",{className:"fondoCardItem h-full w-full absolute inset-0 opacity-100 transition-opacity duration-400"})]}):e.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeOut"},className:"header",children:[e.jsx("img",{src:`${z}${s==null?void 0:s.backdrop_path}`,className:`fondo ${l<=650?"fondoMobile":""}`,onLoad:m=>m.currentTarget.style.opacity="1",style:{opacity:0,transition:"opacity 0.2s ease-in-out"}}),B(s)&&e.jsxs("span",{className:"edadParaPublicoBanner absolute top-30 right-0 z-10",children:[B(s),"+"]}),e.jsx($,{}),e.jsx("div",{className:"cuerpoBanner",children:e.jsxs("div",{className:`contenedorLogo ${o?"contenedorDetailN":""}`,children:[e.jsx("div",{className:"flex flex-row items-center",children:e.jsx(E,{item:s})}),o&&l>=650&&e.jsx(u.Suspense,{fallback:e.jsx(e.Fragment,{children:e.jsxs(w,{sx:{width:300},children:[e.jsx(h,{sx:{bgcolor:"grey.700"}}),e.jsx(h,{animation:"wave",sx:{bgcolor:"grey.700"}}),e.jsx(h,{animation:!1,sx:{bgcolor:"grey.700"}})]})}),children:e.jsx(T,{item:s})}),e.jsx(O,{}),S(),o&&l<650&&e.jsx(u.Suspense,{fallback:e.jsxs(w,{sx:{width:300},children:[e.jsx(h,{sx:{bgcolor:"grey.700"}}),e.jsx(h,{animation:"wave",sx:{bgcolor:"grey.700"}}),e.jsx(h,{animation:!1,sx:{bgcolor:"grey.700"}})]}),children:e.jsx(T,{item:s})})]})})]})}export{$e as B,w as a};
