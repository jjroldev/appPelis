const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ModalVideo-C_O2dZkP.js","assets/index-BuxvlJJ-.js","assets/index-BY4GmC8q.css","assets/useQuery-C6bK_1JL.js","assets/fetchData-DCFA1qTy.js","assets/endPoints-CFqYS5zJ.js","assets/DefaultPropsProvider-BgJ1XYWc.js","assets/Transition-BXtiDDtH.js","assets/objectWithoutPropertiesLoose-Dsqj8S3w.js","assets/DetalleBaner-Ck1YLZH6.js","assets/CarouselBoostrap-Ty7U5o0i.js","assets/useMergedRefs-YEegLI7f.js","assets/CarouselBoostrap-B1CN3x4M.css","assets/ResponsiveCarrousel-B01GfDLc.js","assets/DetalleBaner-jfreajhZ.css"])))=>i.map(i=>d[i]);
import{r as l,_ as b,u as w,R as A,a as M,d as I,g as F,j as s,f as G}from"./index-BuxvlJJ-.js";import{N as h}from"./NavBar-BXWHd56j.js";import{a as T,b as D,c as Q}from"./endPoints-CFqYS5zJ.js";import{u as g}from"./useQuery-C6bK_1JL.js";import{f as V}from"./fetchData-DCFA1qTy.js";const z=l.lazy(()=>b(()=>import("./ModalVideo-C_O2dZkP.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),q=l.lazy(()=>b(()=>import("./DetalleBaner-Ck1YLZH6.js"),__vite__mapDeps([9,1,2,10,11,8,7,3,4,5,12,13,14])));function X({movie:a,logoBuscar:i,isDetail:d=!1}){var p,j,u,N,_;const{currentPerfil:n,currentUser:e}=w(),[C,r]=A.useState(!1),{data:t,isLoading:$}=g(`movie-${a==null?void 0:a.id}`,()=>V(T(a==null?void 0:a.id).movieDetails),{enabled:!!(a!=null&&a.id)}),O=M(),c=I(),y=l.useCallback(()=>r(!0),[]),B=l.useCallback(()=>r(!1),[]),E=l.useCallback(()=>{c("/info",{state:{movie:a}})},[c,a]);g(`favorites-${e==null?void 0:e.id}-${n==null?void 0:n.id}`,()=>F(e==null?void 0:e.id,n==null?void 0:n.id),{enabled:!!(e!=null&&e.id)&&!!(n!=null&&n.id)});const L=async o=>{await G(e==null?void 0:e.id,n==null?void 0:n.id,o),await O.invalidateQueries(`favorites-${e==null?void 0:e.id}-${n==null?void 0:n.id}`)},f=((u=(j=(p=t==null?void 0:t.images)==null?void 0:p.logos)==null?void 0:j.find(o=>o.iso_639_1==="en"))==null?void 0:u.file_path)||((_=(N=t==null?void 0:t.images)==null?void 0:N.logos[0])==null?void 0:_.file_path),x=()=>a!=null&&a.overview?s.jsx("p",{className:"overview",children:a.overview.slice(0,a.overview.indexOf(".")+1)}):null,R=()=>f?s.jsxs(s.Fragment,{children:[s.jsx("img",{className:"logo-banner",src:`${Q}${f}`,alt:a==null?void 0:a.title}),d?s.jsx(q,{movie:t}):x()]}):x(),k=()=>s.jsxs("div",{className:"botones",children:[s.jsxs("button",{onClick:y,children:[s.jsx("i",{className:"fa-solid fa-play"})," Play"]}),s.jsx(z,{movie:a,open:C,onClose:B}),s.jsxs("button",{onClick:E,className:"boton-info-banner",children:[s.jsx("i",{className:"fa-solid fa-circle-info"})," More Information"]}),s.jsx("button",{onClick:()=>{L(a)},className:"botonMeGustaBanner",children:s.jsx("i",{className:"fa-solid fa-heart"})})]});return $||!a?s.jsxs("div",{className:"header",children:[s.jsx(h,{perfil:!0,menu:!0,logoBuscar:i}),s.jsx("div",{className:"cuerpoBanner",children:s.jsx("div",{className:`contenedorLogo ${d?"contenedorDetailN":""}`})})]}):s.jsxs("div",{className:"header",children:[s.jsx("img",{className:"fondo",src:`${D}${a==null?void 0:a.backdrop_path}`,alt:a==null?void 0:a.title}),s.jsx(h,{perfil:!0,menu:!0,logoBuscar:i}),s.jsx("div",{className:"cuerpoBanner",children:s.jsxs("div",{className:`contenedorLogo ${d?"contenedorDetailN":""}`,children:[R(),k()]})})]})}export{X as B};
