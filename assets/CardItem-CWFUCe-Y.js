import{R as v,d as I,r as o,j as e}from"./index-hPdv0EIg.js";import{m as N,j as R,k as g}from"./BarMenu-CngcR2e-.js";const k=v.memo(({item:s,isLarge:r,doDelete:i=!1,onRemoveFavorite:c,onAddFavorite:l})=>{const n="title"in s?s.title:s.name,d=I(),t=o.useRef(null),[u,p]=o.useState(!1),[m,f]=o.useState(!1),h=o.useCallback(()=>{const a="title"in s?"movie":"serie";d(`/${a}/${s.id}`)},[d,s.id]),x=a=>{a.stopPropagation(),c&&c(s)},b=a=>{a.stopPropagation(),l&&l(s)};return o.useEffect(()=>{const a=new IntersectionObserver(([j])=>{j.isIntersecting&&p(!0)},{threshold:.05});return t.current&&a.observe(t.current),()=>{t.current&&a.unobserve(t.current)}},[]),e.jsx("div",{ref:t,className:`contenedor-poster ${r?"large":""}`,onClick:h,children:e.jsxs("div",{className:`cardContainerImage ${r?"backdrop":"poster"}`,children:[u&&e.jsx(N.img,{src:r?`${R}${s.backdrop_path}`:`${g}${s.poster_path}`,alt:n,onLoad:()=>f(!0),initial:{opacity:0},animate:m?{opacity:1}:{},transition:{duration:.4,ease:"easeOut"}}),e.jsxs("div",{className:"details-cardItem",children:[e.jsx("h2",{className:"titulo-cardItem",children:r&&(n.includes(":")?n.split(":")[0]:n)}),e.jsxs("div",{className:"play-button",children:[e.jsx("button",{onClick:b,className:i?"heartVisible corazon":"corazon",children:e.jsx("i",{className:"fa-solid fa-heart"})}),i&&e.jsx("button",{className:"corazon",onClick:x,children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})})});export{k as C};
