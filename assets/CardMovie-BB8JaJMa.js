import{R as j,e as N,r,j as s}from"./index-CKgC-fQJ.js";import{U as g,a as C}from"./endPoints-D6Ym8Q8U.js";const I=j.memo(({movie:e,isLarge:i,doDelete:o=!1,onRemoveFavorite:c,onAddFavorite:l})=>{const d=N(),t=r.useRef(null),[u,p]=r.useState(!1),[n,f]=r.useState(!1),h=r.useCallback(()=>{d("/info",{state:{movie:e}})},[d,e]),b=a=>{a.stopPropagation(),c&&c(e)},m=a=>{a.stopPropagation(),l&&l(e)};return r.useEffect(()=>{const a=new IntersectionObserver(([x])=>{x.isIntersecting&&p(!0)},{threshold:.01});return t.current&&a.observe(t.current),()=>{t.current&&a.unobserve(t.current)}},[]),s.jsx("div",{ref:t,className:`contenedor-poster ${i?"large":""}`,onClick:h,children:s.jsxs("div",{className:`cardContainerImage ${i?"backdrop":"poster"}`,children:[s.jsx("div",{className:`fondoCardMovie h-full w-full absolute inset-0 ${n?"opacity-0":"opacity-100"} transition-opacity duration-500`}),u&&s.jsx("img",{src:i?`${g}${e.backdrop_path}`:`${C}${e.poster_path}`,alt:e.title,onLoad:()=>f(!0),className:`main-image ${n?"visible":"hidden"}`}),n&&s.jsxs("div",{className:"details-cardMovie",children:[s.jsx("h2",{className:"titulo-cardMovie",children:i&&(e.title.includes(":")?e.title.split(":")[0]:e.title)}),s.jsxs("div",{className:"play-button",children:[s.jsx("button",{onClick:m,className:o?"heartVisible corazon":"corazon",children:s.jsx("i",{className:"fa-solid fa-heart"})}),o&&s.jsx("button",{onClick:b,children:s.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})})});export{I as C};
