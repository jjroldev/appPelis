import{r as i,j as e,u as y,B as v,A as f}from"./index-BruhQPKH.js";import{C as B}from"./CardMovie-DGIIsJsV.js";import{u as g}from"./useFetchMovies-CEHcFHO9.js";import{B as N}from"./Banner-B5it8H8D.js";import"./NavBar-38-94VGk.js";function S({placeholder:r,onSubmit:t}){const[n,o]=i.useState(""),l=a=>{a.preventDefault(),t(n)};return e.jsx("form",{id:"busqueda",className:"flex items-center w-full",onSubmit:l,children:e.jsxs("div",{className:"relative w-full item",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-white",children:e.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),e.jsx("input",{id:"busqueda-input",type:"text",className:"bg-black border border-gray-300 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:r,value:n,onChange:a=>o(a.target.value)}),e.jsx("button",{type:"submit",style:{display:"none"}})]})})}function C(){const{language:r}=y(),[t,n]=i.useState(()=>sessionStorage.getItem(`nameMovie-${r}`)||""),o=`${v}/discover/movie?api_key=${f}&language=${r}`,l=`${v}/search/movie?api_key=${f}&language=${r}&query=${t}`,a=t?l:o,{movies:c}=g(a,4),{movies:u}=g(o,6),d=i.useMemo(()=>c.filter(s=>s.backdrop_path),[c]),m=i.useMemo(()=>u.filter(s=>s.backdrop_path),[u]),p=d[0]||m[0],x=s=>{n(s),sessionStorage.setItem(`nameMovie-${r}`,s)},h=s=>s.map((k,w)=>e.jsx(B,{movie:k},w)),b=e.jsx("div",{className:"w-full h-full min-h-screen bg-black flex items-center justify-center",children:e.jsx("div",{className:"spinner"})}),j=()=>c.length>0?e.jsx("div",{className:"contenedorPeliculasBuscar",children:h(d)}):t&&d.length===0?e.jsx("div",{className:"contenedorPeliculasBuscar",children:h(m)}):u.length>0?e.jsx("div",{className:"contenedorPeliculasBuscar",children:h(m)}):b;return e.jsxs("div",{className:"contenedor",children:[p&&e.jsxs(e.Fragment,{children:[e.jsx(N,{movie:p,logoBuscar:!0,isShort:!0}),e.jsx("div",{className:"contenedorBuscar",children:e.jsx(S,{placeholder:r==="es"?"Buscar pel√≠culas":"Search Movies",onSubmit:x})})]}),j()]})}export{C as default};
