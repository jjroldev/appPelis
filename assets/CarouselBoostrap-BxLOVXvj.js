const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Backdrop-7hxlHqgI.js","assets/index-D1kFVm6p.js","assets/index-CX8mbsaY.css","assets/CardMovie-CnHmBbd8.js","assets/CardMovie-CyLjvbAt.css","assets/Backdrop-C5hZIQAT.css"])))=>i.map(i=>d[i]);
import{r as n,j as c,J as Oe,R as ie,_ as Pe}from"./index-D1kFVm6p.js";import{b as z,d as A,o as Ue,l as he,e as Ve,g as Xe,h as Fe,j as He,i as ce,A as le}from"./useMergedRefs-CkmFB9lM.js";import{T as We}from"./Transition-DUYgbeKu.js";import{u as Be}from"./useQuery-Dr7gcqYI.js";import{f as Ke}from"./fetchData-DCFA1qTy.js";import{a as Ye}from"./CardMovie-CnHmBbd8.js";function ze(e,t){const r=n.useRef(!0);n.useEffect(()=>{if(r.current){r.current=!1;return}return e()},t)}function Ze(){const e=n.useRef(!0),t=n.useRef(()=>e.current);return n.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Je(e){const t=n.useRef(e);return t.current=e,t}function Qe(e){const t=Je(e);n.useEffect(()=>()=>t.current(),[])}const Y=2**31-1;function pe(e,t,r){const a=r-Date.now();e.current=a<=Y?setTimeout(t,a):setTimeout(()=>pe(e,t,r),Y)}function qe(){const e=Ze(),t=n.useRef();return Qe(()=>clearTimeout(t.current)),n.useMemo(()=>{const r=()=>clearTimeout(t.current);function a(o,u=0){e()&&(r(),u<=Y?t.current=setTimeout(o,u):pe(t,o,Date.now()+u))}return{set:a,clear:r,handleRef:t}},[])}const ve=n.forwardRef(({className:e,bsPrefix:t,as:r="div",...a},o)=>(t=z(t,"carousel-caption"),c.jsx(r,{ref:o,className:A(e,t),...a})));ve.displayName="CarouselCaption";const xe=n.forwardRef(({as:e="div",bsPrefix:t,className:r,...a},o)=>{const u=A(r,z(t,"carousel-item"));return c.jsx(e,{ref:o,...a,className:u})});xe.displayName="CarouselItem";function fe(e,t){let r=0;return n.Children.map(e,a=>n.isValidElement(a)?t(a,r++):a)}function Ge(e,t){let r=0;n.Children.forEach(e,a=>{n.isValidElement(a)&&t(a,r++)})}function et(e){var t=Ue(e);return t&&t.defaultView||window}function tt(e,t){return et(e).getComputedStyle(e,t)}var nt=/([A-Z])/g;function rt(e){return e.replace(nt,"-$1").toLowerCase()}var st=/^ms-/;function F(e){return rt(e).replace(st,"-ms-")}var at=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ot(e){return!!(e&&at.test(e))}function Ce(e,t){var r="",a="";if(typeof t=="string")return e.style.getPropertyValue(F(t))||tt(e).getPropertyValue(F(t));Object.keys(t).forEach(function(o){var u=t[o];!u&&u!==0?e.style.removeProperty(F(o)):ot(o)?a+=o+"("+u+") ":r+=F(o)+": "+u+";"}),a&&(r+="transform: "+a+";"),e.style.cssText+=";"+r}function ut(e,t,r,a){if(a===void 0&&(a=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,r,a),e.dispatchEvent(o)}}function it(e){var t=Ce(e,"transitionDuration")||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function ct(e,t,r){r===void 0&&(r=5);var a=!1,o=setTimeout(function(){a||ut(e,"transitionend",!0)},t+r),u=he(e,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(o),u()}}function lt(e,t,r,a){r==null&&(r=it(e)||0);var o=ct(e,r,a),u=he(e,"transitionend",t);return function(){o(),u()}}function de(e,t){const r=Ce(e,t)||"",a=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*a}function ft(e,t){const r=de(e,"transitionDuration"),a=de(e,"transitionDelay"),o=lt(e,u=>{u.target===e&&(o(),t(u))},r+a)}function dt(e){e.offsetHeight}function mt(e){return e&&"setState"in e?Oe.findDOMNode(e):e??null}const ht=ie.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:a,onExiting:o,onExited:u,addEndListener:O,children:j,childRef:k,...I},m)=>{const f=n.useRef(null),b=Ve(f,k),E=h=>{b(mt(h))},d=h=>N=>{h&&f.current&&h(f.current,N)},P=n.useCallback(d(e),[e]),M=n.useCallback(d(t),[t]),R=n.useCallback(d(r),[r]),_=n.useCallback(d(a),[a]),$=n.useCallback(d(o),[o]),g=n.useCallback(d(u),[u]),U=n.useCallback(d(O),[O]);return c.jsx(We,{ref:m,...I,onEnter:P,onEntered:R,onEntering:M,onExit:_,onExited:g,onExiting:$,addEndListener:U,nodeRef:f,children:typeof j=="function"?(h,N)=>j(h,{...N,ref:E}):ie.cloneElement(j,{ref:E})})}),pt=40;function vt(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;const t=getComputedStyle(e);return t.display!=="none"&&t.visibility!=="hidden"&&getComputedStyle(e.parentNode).display!=="none"}const Ee=n.forwardRef(({defaultActiveIndex:e=0,...t},r)=>{const{as:a="div",bsPrefix:o,slide:u=!0,fade:O=!1,controls:j=!0,indicators:k=!0,indicatorLabels:I=[],activeIndex:m,onSelect:f,onSlide:b,onSlid:E,interval:d=5e3,keyboard:P=!0,onKeyDown:M,pause:R="hover",onMouseOver:_,onMouseOut:$,wrap:g=!0,touch:U=!0,onTouchStart:h,onTouchMove:N,onTouchEnd:H,prevIcon:Re=c.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:Z="Previous",nextIcon:be=c.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:J="Next",variant:Q,className:ge,children:W,...Ne}=Xe({defaultActiveIndex:e,...t},{activeIndex:"onSelect"}),x=z(o,"carousel"),D=Fe(),w=n.useRef(null),[q,G]=n.useState("next"),[ye,V]=n.useState(!1),[S,ee]=n.useState(!1),[l,Te]=n.useState(m||0);n.useEffect(()=>{!S&&m!==l&&(w.current?G(w.current):G((m||0)>l?"next":"prev"),u&&ee(!0),Te(m||0))},[m,S,l,u]),n.useEffect(()=>{w.current&&(w.current=null)});let y=0,te;Ge(W,(s,i)=>{++y,i===m&&(te=s.props.interval)});const ne=He(te),p=n.useCallback(s=>{if(S)return;let i=l-1;if(i<0){if(!g)return;i=y-1}w.current="prev",f==null||f(i,s)},[S,l,f,g,y]),v=ce(s=>{if(S)return;let i=l+1;if(i>=y){if(!g)return;i=0}w.current="next",f==null||f(i,s)}),B=n.useRef();n.useImperativeHandle(r,()=>({element:B.current,prev:p,next:v}));const re=ce(()=>{!document.hidden&&vt(B.current)&&(D?p():v())}),T=q==="next"?"start":"end";ze(()=>{u||(b==null||b(l,T),E==null||E(l,T))},[l]);const De=`${x}-item-${q}`,we=`${x}-item-${T}`,Se=n.useCallback(s=>{dt(s),b==null||b(l,T)},[b,l,T]),je=n.useCallback(()=>{ee(!1),E==null||E(l,T)},[E,l,T]),ke=n.useCallback(s=>{if(P&&!/input|textarea/i.test(s.target.tagName))switch(s.key){case"ArrowLeft":s.preventDefault(),D?v(s):p(s);return;case"ArrowRight":s.preventDefault(),D?p(s):v(s);return}M==null||M(s)},[P,M,p,v,D]),Ie=n.useCallback(s=>{R==="hover"&&V(!0),_==null||_(s)},[R,_]),Me=n.useCallback(s=>{V(!1),$==null||$(s)},[$]),se=n.useRef(0),X=n.useRef(0),ae=qe(),_e=n.useCallback(s=>{se.current=s.touches[0].clientX,X.current=0,R==="hover"&&V(!0),h==null||h(s)},[R,h]),$e=n.useCallback(s=>{s.touches&&s.touches.length>1?X.current=0:X.current=s.touches[0].clientX-se.current,N==null||N(s)},[N]),Le=n.useCallback(s=>{if(U){const i=X.current;Math.abs(i)>pt&&(i>0?p(s):v(s))}R==="hover"&&ae.set(()=>{V(!1)},d||void 0),H==null||H(s)},[U,R,p,v,ae,d,H]),oe=d!=null&&!ye&&!S,K=n.useRef();n.useEffect(()=>{var s,i;if(!oe)return;const C=D?p:v;return K.current=window.setInterval(document.visibilityState?re:C,(s=(i=ne.current)!=null?i:d)!=null?s:void 0),()=>{K.current!==null&&clearInterval(K.current)}},[oe,p,v,ne,d,re,D]);const ue=n.useMemo(()=>k&&Array.from({length:y},(s,i)=>C=>{f==null||f(i,C)}),[k,y,f]);return c.jsxs(a,{ref:B,...Ne,onKeyDown:ke,onMouseOver:Ie,onMouseOut:Me,onTouchStart:_e,onTouchMove:$e,onTouchEnd:Le,className:A(ge,x,u&&"slide",O&&`${x}-fade`,Q&&`${x}-${Q}`),children:[k&&c.jsx("div",{className:`${x}-indicators`,children:fe(W,(s,i)=>c.jsx("button",{type:"button","data-bs-target":"","aria-label":I!=null&&I.length?I[i]:`Slide ${i+1}`,className:i===l?"active":void 0,onClick:ue?ue[i]:void 0,"aria-current":i===l},i))}),c.jsx("div",{className:`${x}-inner`,children:fe(W,(s,i)=>{const C=i===l;return u?c.jsx(ht,{in:C,onEnter:C?Se:void 0,onEntered:C?je:void 0,addEndListener:ft,children:(L,Ae)=>n.cloneElement(s,{...Ae,className:A(s.props.className,C&&L!=="entered"&&De,(L==="entered"||L==="exiting")&&"active",(L==="entering"||L==="exiting")&&we)})}):n.cloneElement(s,{className:A(s.props.className,C&&"active")})})}),j&&c.jsxs(c.Fragment,{children:[(g||m!==0)&&c.jsxs(le,{className:`${x}-control-prev`,onClick:p,children:[Re,Z&&c.jsx("span",{className:"visually-hidden",children:Z})]}),(g||m!==y-1)&&c.jsxs(le,{className:`${x}-control-next`,onClick:v,children:[be,J&&c.jsx("span",{className:"visually-hidden",children:J})]})]})]})});Ee.displayName="Carousel";const me=Object.assign(Ee,{Caption:ve,Item:xe}),xt=n.lazy(()=>Pe(()=>import("./Backdrop-7hxlHqgI.js"),__vite__mapDeps([0,1,2,3,4,5]))),yt=n.memo(({movie:e})=>{const{data:t}=Be(["movieIC",e==null?void 0:e.id],()=>Ke(Ye(e==null?void 0:e.id).movieDetails),{refetchOnWindowFocus:!1}),r=n.useMemo(()=>t!=null&&t.images?t.images.backdrops:[],[t]);return c.jsx("div",{className:"carousel-bootstrap cb-backdrop",children:c.jsx(me,{fade:!0,interval:3e3,pause:"hover",children:r.map((a,o)=>c.jsx(me.Item,{children:c.jsx(xt,{backdrop_path:a.file_path})},o))})})});export{yt as C};
