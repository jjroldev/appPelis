import{u as n,r as a,c as f,h as v,j as e}from"./index-DaSmVpyY.js";import{b as E,v as N}from"./userHelpers-DZnP8fz3.js";import"./endPoints-f2vaGF2r.js";function w(){const{login:r}=n(),[o,c]=a.useState(""),[l,d]=a.useState(""),[u,m]=a.useState([]),[h,x]=a.useState(!1),i=f(),{setCurrentUser:p}=n(),{emailExists:j}=v();a.useEffect(()=>{(async()=>{const t=await E();m(t)})()},[]);const g=s=>{s.preventDefault();const t=N(o,l,u);t?(p(t),r(t),i("/manageProfiles")):x(!0)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"formContainer",children:e.jsxs("form",{className:"formulario",onSubmit:g,children:[e.jsx("div",{className:"headerForm",children:e.jsx("h2",{children:"Login"})}),e.jsxs("div",{className:`${h?"contentEmailExists ":"notVisible"}`,children:[e.jsx("h2",{children:"The email or password is incorrect"}),e.jsx("p",{children:"Please log in to continue"})]}),e.jsxs("div",{className:`${j?"contentEmailExists ":"notVisible"}`,children:[e.jsx("h2",{children:"Email already exists"}),e.jsx("p",{children:"Please log in to continue"})]}),e.jsx("div",{className:"contenedorInput",children:e.jsx("input",{onChange:s=>c(s.target.value),type:"email",placeholder:"email@example.com",minLength:5})}),e.jsx("div",{className:"contenedorInput",children:e.jsx("input",{onChange:s=>d(s.target.value),type:"password",placeholder:"ContraseÃ±a",minLength:6,maxLength:20})}),e.jsx("div",{children:e.jsx("button",{className:"button-enviar",children:"Login"})}),e.jsx("div",{className:"suscripbirse",children:e.jsxs("p",{children:["First time on Netflix? ",e.jsx("span",{onClick:()=>{i("/register")},children:"Subscribe now"})]})})]})})})}export{w as default};
