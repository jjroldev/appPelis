import{r as a,j as e,B as f,A as p}from"./index-D2FQRJvt.js";import{u as x}from"./useFecthMovieDetails-CA5iflXW.js";import{C as y}from"./CardMovie-Dtxev_m3.js";import{B as k}from"./Banner-oEEar_jJ.js";function S({placeholder:s,onSubmit:r}){const[i,l]=a.useState(""),n=o=>{o.preventDefault(),r(i)};return e.jsx("form",{className:"flex items-center w-full max-w-sm mx-auto",onSubmit:n,children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),e.jsx("input",{type:"text",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:s,value:i,onChange:o=>l(o.target.value)}),e.jsx("button",{type:"submit",style:{display:"none"}})]})})}function B({language:s}){const[r,i]=a.useState(()=>localStorage.getItem(`nameMovie-${s}`)||""),[l,n]=a.useState(()=>{const t=localStorage.getItem(`featuredMovie-buscar-${s}`);return t?JSON.parse(t):null}),o=`${f}/discover/movie?api_key=${p}&language=${s}`,b=`${f}/search/movie?api_key=${p}&language=${s}&query=${r}`,j=r?b:o,{movies:d}=x(j,4,s,["videos","images","credits"]),{movies:h}=x(o,6,s,["videos","images","credits"]),u=d.filter(t=>t.backdrop_path),m=h.filter(t=>t.backdrop_path);a.useEffect(()=>{localStorage.setItem(`nameMovie-${s}`,r)},[r]),a.useEffect(()=>{const t=u[0]||m[0];t&&(localStorage.setItem(`featuredMovie-buscar-${s}`,JSON.stringify(t)),n(t))},[u,m]);const v=t=>t.map((c,N)=>c.poster_path&&c.credits.cast.length>0&&c.credits.crew.length>0&&e.jsx(y,{movie:c,language:s},N));return e.jsxs("div",{className:"contenedor",children:[e.jsx(k,{movie:l,language:s,logoBuscar:!0,isShort:!0}),e.jsx("div",{className:"contenedorBuscar",children:e.jsx(S,{placeholder:s==="es"?"Buscar pelÃ­culas":"Search Movies",onSubmit:t=>i(t)})}),d.length!==0?d.length>0?e.jsx("div",{className:"contenedorPeliculasBuscar",children:v(u)}):e.jsx("div",{className:"w-full h-full min-h-screen bg-black flex items-start justify-center",children:e.jsx("div",{className:"spinner"})}):h.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"textoNoC",children:e.jsx("p",{className:"text-white",children:s==="es"?"No hay coincidencias":`There are no 
                        coincidences of ${r}, but these are the most popular movies we have`})}),e.jsx("div",{className:"contenedorPeliculasBuscar",children:v(m)})]}):e.jsx("div",{className:"w-full h-full min-h-screen bg-black flex items-start justify-center",children:e.jsx("div",{className:"spinner"})})]})}export{B as default};
