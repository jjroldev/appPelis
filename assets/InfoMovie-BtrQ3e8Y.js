import{R as N,j as e,n as b,r as i,b as E,c as R,S as M}from"./index-DefQF_Rm.js";import{B as I,C as L,a as S}from"./ResponsiveCarrousel-DbjxUajb.js";import{b as B,c as D}from"./endPoints-D6Ym8Q8U.js";import{f as _}from"./fetchData-DCFA1qTy.js";import{u as F}from"./useQuery-IvGRl6PN.js";import{C as W}from"./CarouselBoostrap-DTqAtcA0.js";import"./useMergedRefs-DN558Jj7.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./Transition-CJFL21Ml.js";function $(r,s){return e.jsxs(e.Fragment,{children:[e.jsx("img",{src:`${B}${r.profile_path}`,alt:r.name,className:"main-imageCM"}),e.jsxs("div",{className:"detailsCM flex flex-col",children:[e.jsx("p",{className:"nombre-caster",children:r.name}),e.jsx("p",{className:"papel",children:e.jsx("span",{children:s?r.job:r.character})})]})]})}const h=N.memo(({castMember:r,isCrew:s})=>e.jsx("div",{className:"contenedor-posterCM",children:e.jsx("div",{className:"cardContainerImageCM posterCM",children:$(r,s)})}));function Q(){var l,c,d,m,u,p;const r=b(),{movie:s}=r.state,{data:n,isLoading:f}=F(`movieInfo-${s==null?void 0:s.id}`,()=>_(D(s==null?void 0:s.id).movieDetails)),[x,j]=i.useState(window.innerWidth);i.useEffect(()=>{const a=()=>j(window.innerWidth);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const{setSearchTerm:C}=E(),{setOpenMenu:v}=R(),g=a=>a.credits.cast.map(t=>t.profile_path?e.jsx(h,{castMember:t},t.id):null),w=a=>a.credits.crew.map(t=>t.profile_path?e.jsx(h,{castMember:t,isCrew:!0},t.id):null),o=({renderCredits:a,title:t})=>e.jsxs("div",{className:"detallesReparto",children:[e.jsx("h2",{children:t}),e.jsx(L,{swipeable:!0,draggable:!0,showDots:!1,responsive:S,ssr:!0,infinite:!0,keyBoardControl:!1,className:`carousel-cast ${x<630?"cast-visible":""}`,children:a})]});return i.useEffect(()=>{window.scroll({top:0,left:0,behavior:"instant"}),v(!1),C("")},[]),!n||f?e.jsx(M,{}):e.jsxs("div",{className:"contenedorPrincipalMovie",children:[e.jsx(I,{movie:s,logoBuscar:!0,isDetail:!0}),(((c=(l=n.credits)==null?void 0:l.cast)==null?void 0:c.length)>0||((m=(d=n.credits)==null?void 0:d.crew)==null?void 0:m.length)>0)&&e.jsxs("div",{className:"infoMovieContainer",children:[e.jsxs("div",{className:"detallesInfo",children:[((u=n.credits.cast)==null?void 0:u.length)>0&&e.jsx(e.Fragment,{children:e.jsx(o,{renderCredits:g(n),title:"CAST"})}),((p=n.credits.crew)==null?void 0:p.length)>0&&e.jsx(e.Fragment,{children:e.jsx(o,{renderCredits:w(n),title:"CREW"})})]}),e.jsx("div",{className:"contenedor-imagenes",children:e.jsx("div",{className:"flex flex-col backdropss",children:e.jsx(W,{movie:n})})})]})]})}export{Q as default};
