import{r as $,j as u,R as D,u as q,a as X,f as z}from"./index-DweVAoJC.js";import{C as E,a as F}from"./ResponsiveCarrousel-DBYShC6J.js";/* empty css               */import{C as W}from"./CardMovie-LosUg912.js";import{u as J}from"./useQuery-CGNszQ7K.js";import{f as Q}from"./fetchData-DCFA1qTy.js";import{h as K,i as B,E as H,j as U,g as V,e as Y,s as G,m as Z,k as L,u as ee,c as te,f as re}from"./DefaultPropsProvider-CEAyV1cq.js";import"./endPoints-CFqYS5zJ.js";var R={exports:{}},n={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _;function oe(){if(_)return n;_=1;var t=typeof Symbol=="function"&&Symbol.for,o=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,v=t?Symbol.for("react.async_mode"):60111,y=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,f=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,C=t?Symbol.for("react.responder"):60118,w=t?Symbol.for("react.scope"):60119;function c(e){if(typeof e=="object"&&e!==null){var S=e.$$typeof;switch(S){case o:switch(e=e.type,e){case v:case y:case a:case i:case s:case h:return e;default:switch(e=e&&e.$$typeof,e){case d:case g:case m:case p:case l:return e;default:return S}}case r:return S}}}function j(e){return c(e)===y}return n.AsyncMode=v,n.ConcurrentMode=y,n.ContextConsumer=d,n.ContextProvider=l,n.Element=o,n.ForwardRef=g,n.Fragment=a,n.Lazy=m,n.Memo=p,n.Portal=r,n.Profiler=i,n.StrictMode=s,n.Suspense=h,n.isAsyncMode=function(e){return j(e)||c(e)===v},n.isConcurrentMode=j,n.isContextConsumer=function(e){return c(e)===d},n.isContextProvider=function(e){return c(e)===l},n.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===o},n.isForwardRef=function(e){return c(e)===g},n.isFragment=function(e){return c(e)===a},n.isLazy=function(e){return c(e)===m},n.isMemo=function(e){return c(e)===p},n.isPortal=function(e){return c(e)===r},n.isProfiler=function(e){return c(e)===i},n.isStrictMode=function(e){return c(e)===s},n.isSuspense=function(e){return c(e)===h},n.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===a||e===y||e===i||e===s||e===h||e===f||typeof e=="object"&&e!==null&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===l||e.$$typeof===d||e.$$typeof===g||e.$$typeof===x||e.$$typeof===C||e.$$typeof===w||e.$$typeof===b)},n.typeOf=c,n}var T;function ae(){return T||(T=1,R.exports=oe()),R.exports}var M,N;function ne(){if(N)return M;N=1;var t=ae(),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=a,i[t.Memo]=s;function l(m){return t.isMemo(m)?s:i[m.$$typeof]||o}var d=Object.defineProperty,v=Object.getOwnPropertyNames,y=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;function p(m,b,x){if(typeof b!="string"){if(f){var C=h(b);C&&C!==f&&p(m,C,x)}var w=v(b);y&&(w=w.concat(y(b)));for(var c=l(m),j=l(b),e=0;e<w.length;++e){var S=w[e];if(!r[S]&&!(x&&x[S])&&!(j&&j[S])&&!(c&&c[S])){var I=g(b,S);try{d(m,S,I)}catch{}}}}return m}return M=p,M}ne();var se=function(o,r){var a=arguments;if(r==null||!B.call(r,"css"))return $.createElement.apply(void 0,a);var s=a.length,i=new Array(s);i[0]=H,i[1]=U(o,r);for(var l=2;l<s;l++)i[l]=a[l];return $.createElement.apply(null,i)};(function(t){var o;o||(o=t.JSX||(t.JSX={}))})(se);function O(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return K(o)}function k(){var t=O.apply(void 0,arguments),o="animation-"+t.name;return{name:o,styles:"@keyframes "+o+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function ie(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function le(t){return parseFloat(t)}function ue(t){return Y("MuiSkeleton",t)}V("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const ce=t=>{const{classes:o,variant:r,animation:a,hasChildren:s,width:i,height:l}=t;return re({root:["root",r,a,s&&"withChildren",s&&!i&&"fitContent",s&&!l&&"heightAuto"]},ue,o)},P=k`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,A=k`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,fe=typeof P!="string"?O`
        animation: ${P} 2s ease-in-out 0.5s infinite;
      `:null,pe=typeof A!="string"?O`
        &::after {
          animation: ${A} 2s linear 0.5s infinite;
        }
      `:null,de=G("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:r}=t;return[o.root,o[r.variant],r.animation!==!1&&o[r.animation],r.hasChildren&&o.withChildren,r.hasChildren&&!r.width&&o.fitContent,r.hasChildren&&!r.height&&o.heightAuto]}})(Z(({theme:t})=>{const o=ie(t.shape.borderRadius)||"px",r=le(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:L(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${o}/${Math.round(r/.6*10)/10}${o}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:({ownerState:a})=>a.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:a})=>a.hasChildren&&!a.width,style:{maxWidth:"fit-content"}},{props:({ownerState:a})=>a.hasChildren&&!a.height,style:{height:"auto"}},{props:{animation:"pulse"},style:fe||{animation:`${P} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(t.vars||t).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:pe||{"&::after":{animation:`${A} 2s linear 0.5s infinite`}}}]}})),me=$.forwardRef(function(o,r){const a=ee({props:o,name:"MuiSkeleton"}),{animation:s="pulse",className:i,component:l="span",height:d,style:v,variant:y="text",width:g,...h}=a,f={...a,animation:s,component:l,variant:y,hasChildren:!!h.children},p=ce(f);return u.jsx(de,{as:l,ref:r,className:te(p.root,i),ownerState:f,...h,style:{width:g,height:d,...v}})});function ye({isLarge:t}){return u.jsx("div",{className:`contenedor-poster ${t?"large":""}`,children:u.jsx("div",{className:`cardContainerImage ${t?"backdrop":"poster"}`,children:u.jsx(me,{width:"100%",height:"100%",variant:"rectangular",sx:{bgcolor:"grey.900"}})})})}function he({isLarge:t,numMovies:o,title:r}){const a=s=>Array.from({length:s}).map((i,l)=>u.jsx(ye,{isLarge:t},l));return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"carousel",children:[u.jsx("h2",{className:"tituloCarousel",children:r}),u.jsx(E,{swipeable:!1,draggable:!1,showDots:!1,responsive:F(t),ssr:!0,infinite:!0,autoPlay:!1,className:"carousel-react",children:a(o)})]})})}const Re=D.memo(({URL:t,title:o,isLarge:r=!1})=>{const{currentPerfil:a,currentUser:s}=q(),{data:i,isLoading:l}=J(["movies",t],()=>Q(t),{refetchOnWindowFocus:!1}),d=X(),v=$.useMemo(()=>{var f;return(f=i==null?void 0:i.results)==null?void 0:f.filter(p=>p.backdrop_path)},[i==null?void 0:i.results]),y=async f=>{await z(s==null?void 0:s.id,a==null?void 0:a.id,f),await d.invalidateQueries(`favorites-${s==null?void 0:s.id}-${a==null?void 0:a.id}`),await d.invalidateQueries(["movies",t])},g=$.useMemo(()=>F(r),[r]),h=$.useCallback(f=>f.map(p=>u.jsx(W,{movie:p,isLarge:r,onAddFavorite:y},p.id)),[r]);return l?u.jsx(he,{isLarge:r,numMovies:20,title:o}):u.jsx("div",{className:"carousel",children:v.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"tituloCarousel",children:o}),u.jsx(E,{swipeable:!1,draggable:!1,showDots:!1,responsive:g,ssr:!0,infinite:!0,autoPlay:!1,className:"carousel-react",children:h(v)})]})})});export{Re as default};
