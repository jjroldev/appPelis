import{R as x,j as e,m as h,a as j,b as C,r as v}from"./index-B4y0dzn2.js";import{B as N,C as g,a as b}from"./ResponsiveCarrousel-DCbl-mtt.js";import{b as w,c as M}from"./endPoints-D6Ym8Q8U.js";import{f as R}from"./fetchData-DCFA1qTy.js";import{u as I}from"./useQuery-CqqENF2_.js";import{C as E}from"./CarouselBoostrap-CN-kY142.js";import{u as B}from"./NavBar-BX_xtu2N.js";import"./useFavorites-BxDf3qFT.js";import"./useMergedRefs-C-fKanem.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./Transition-Bb6Fds5T.js";function D(r,s){return e.jsxs(e.Fragment,{children:[e.jsx("img",{src:`${w}${r.profile_path}`,alt:r.name,className:"main-imageCM"}),e.jsxs("div",{className:"detailsCM flex flex-col",children:[e.jsx("p",{className:"nombre-caster",children:r.name}),e.jsx("p",{className:"papel",children:e.jsx("span",{children:s?r.job:r.character})})]})]})}const c=x.memo(({castMember:r,isCrew:s})=>e.jsx("div",{className:"contenedor-posterCM",children:e.jsx("div",{className:"cardContainerImageCM posterCM",children:D(r,s)})}));function T(){var n,l;const r=h(),{movie:s}=r.state,{data:t}=I(`movieInfo-${s==null?void 0:s.id}`,()=>R(M(s==null?void 0:s.id).movieDetails)),d=B(),{setSearchTerm:m}=j(),{setOpenMenu:p}=C();v.useEffect(()=>{window.scroll({top:0,left:0,behavior:"instant"}),p(!1),m("")},[]);const u=i=>i.credits.cast.map(a=>a.profile_path?e.jsx(c,{castMember:a},a.id):null),f=i=>i.credits.crew.map(a=>a.profile_path?e.jsx(c,{castMember:a,isCrew:!0},a.id):null),o=({renderCredits:i,title:a})=>e.jsxs("div",{className:"detallesReparto",children:[e.jsx("h2",{children:a}),e.jsx(g,{swipeable:!0,draggable:!0,showDots:!1,responsive:b,ssr:!0,infinite:!0,keyBoardControl:!1,className:`carousel-cast ${d<630?"cast-visible":""}`,children:i})]});return e.jsxs("div",{className:"contenedorPrincipalMovie",children:[e.jsx(N,{movie:s,logoBuscar:!0,isDetail:!0}),e.jsxs("div",{className:"infoMovieContainer",children:[e.jsxs("div",{className:"detallesInfo",children:[t&&((n=t.credits.cast)==null?void 0:n.length)>0&&e.jsx(o,{renderCredits:u(t),title:"CAST"}),t&&((l=t.credits.crew)==null?void 0:l.length)>0&&e.jsx(o,{renderCredits:f(t),title:"CREW"})]}),e.jsx("div",{className:"contenedor-imagenes",children:e.jsx("div",{className:"flex flex-col backdropss",children:e.jsx(E,{movie:t})})})]})]})}export{T as default};
