import{u as M,c as S,r as B,j as d,L as x}from"./index-Cynp1_es.js";const I=(e,n)=>n.some(t=>e instanceof t);let b,L;function p(){return b||(b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y=new WeakMap,h=new WeakMap,l=new WeakMap;function k(e){const n=new Promise((t,s)=>{const o=()=>{e.removeEventListener("success",i),e.removeEventListener("error",r)},i=()=>{t(u(e.result)),o()},r=()=>{s(e.error),o()};e.addEventListener("success",i),e.addEventListener("error",r)});return l.set(n,e),n}function F(e){if(y.has(e))return;const n=new Promise((t,s)=>{const o=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",r),e.removeEventListener("abort",r)},i=()=>{t(),o()},r=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",i),e.addEventListener("error",r),e.addEventListener("abort",r)});y.set(e,n)}let w={get(e,n,t){if(e instanceof IDBTransaction){if(n==="done")return y.get(e);if(n==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return u(e[n])},set(e,n,t){return e[n]=t,!0},has(e,n){return e instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in e}};function j(e){w=e(w)}function O(e){return N().includes(e)?function(...n){return e.apply(g(this),n),u(this.request)}:function(...n){return u(e.apply(g(this),n))}}function T(e){return typeof e=="function"?O(e):(e instanceof IDBTransaction&&F(e),I(e,p())?new Proxy(e,w):e)}function u(e){if(e instanceof IDBRequest)return k(e);if(h.has(e))return h.get(e);const n=T(e);return n!==e&&(h.set(e,n),l.set(n,e)),n}const g=e=>l.get(e);function V(e,n,{blocked:t,upgrade:s,blocking:o,terminated:i}={}){const r=indexedDB.open(e,n),f=u(r);return s&&r.addEventListener("upgradeneeded",c=>{s(u(r.result),c.oldVersion,c.newVersion,u(r.transaction),c)}),t&&r.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),f.then(c=>{i&&c.addEventListener("close",()=>i()),o&&c.addEventListener("versionchange",a=>o(a.oldVersion,a.newVersion,a))}).catch(()=>{}),f}const A=["get","getKey","getAll","getAllKeys","count"],W=["put","add","delete","clear"],m=new Map;function v(e,n){if(!(e instanceof IDBDatabase&&!(n in e)&&typeof n=="string"))return;if(m.get(n))return m.get(n);const t=n.replace(/FromIndex$/,""),s=n!==t,o=W.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||A.includes(t)))return;const i=async function(r,...f){const c=this.transaction(r,o?"readwrite":"readonly");let a=c.store;return s&&(a=a.index(f.shift())),(await Promise.all([a[t](...f),o&&c.done]))[0]};return m.set(n,i),i}j(e=>({...e,get:(n,t,s)=>v(n,t)||e.get(n,t,s),has:(n,t)=>!!v(n,t)||e.has(n,t)}));const K=["continue","continuePrimaryKey","advance"],E={},D=new WeakMap,C=new WeakMap,R={get(e,n){if(!K.includes(n))return e[n];let t=E[n];return t||(t=E[n]=function(...s){D.set(this,C.get(this)[n](...s))}),t}};async function*$(...e){let n=this;if(n instanceof IDBCursor||(n=await n.openCursor(...e)),!n)return;n=n;const t=new Proxy(n,R);for(C.set(t,n),l.set(t,g(n));n;)yield t,n=await(D.get(t)||n.continue()),D.delete(t)}function P(e,n){return n===Symbol.asyncIterator&&I(e,[IDBIndex,IDBObjectStore,IDBCursor])||n==="iterate"&&I(e,[IDBIndex,IDBObjectStore])}j(e=>({...e,get(n,t,s){return P(n,t)?$:e.get(n,t,s)},has(n,t){return P(n,t)||e.has(n,t)}}));const J=async(e,n)=>V(e,1,{upgrade(t){t.objectStoreNames.contains(n)||t.createObjectStore(n,{keyPath:"key"})}});function U({logoBuscar:e}){const{language:n}=M(),t=S(),s=()=>{t("/buscar")},[o,i]=B.useState(!1);return B.useEffect(()=>{const r=()=>{i(window.scrollY>0)};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[]),d.jsxs("div",{className:`navbar ${o?"scrolled":""}`,children:[d.jsxs("div",{className:"navOpciones",children:[d.jsx("img",{src:"/appPelis/JUSTFLIX.svg",alt:"Logo"}),d.jsx(x,{className:"textInicio",to:"/",children:n==="es"?"Inicio":"Home"}),d.jsx(x,{className:"textInicio",to:"/favoritos",children:n==="es"?"Favoritas":"Favorites"})]}),e&&d.jsx("i",{className:"fa-solid fa-magnifying-glass lupa",onClick:s})]})}export{U as N,J as g,V as o};
