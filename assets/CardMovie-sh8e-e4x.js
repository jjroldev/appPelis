import{R as f,c as w,r as n,j as o}from"./index-in-gyPMB.js";const b="https://image.tmdb.org/t/p/w500",R="https://image.tmdb.org/t/p/w780",j="https://image.tmdb.org/t/p/w1280",N="https://image.tmdb.org/t/p/w185",E="https://image.tmdb.org/t/p/w500",i="https://api.themoviedb.org/3",s="0a3e16dce99743d4f9bfa5036e67062b",I=e=>({popularMovies:`${i}/movie/popular?api_key=${s}&language=${e}`,topRatedMovies:`${i}/movie/top_rated?api_key=${s}&language=${e}`,upcomingMovies:`${i}/movie/upcoming?api_key=${s}&language=${e}`,discoverMovies:`${i}/discover/movie?api_key=${s}&language=${e}`,nowPlaying:`${i}/movie/now_playing?api_key=${s}&language=${e}`,actionMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=28`,adventureMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=12`,animationMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=16`,comedyMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=35`,crimeMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=80`,documentaryMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=99`,dramaMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=18`,familyMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=10751`,fantasyMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=14`,historyMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=36`,horrorMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=27`,musicMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=10402`,mysteryMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=9648`,romanceMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=10749`,scienceFictionMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=878`,thrillerMovies:`${i}/discover/movie?api_key=${s}&language=${e}&with_genres=53`}),C=(e,t)=>({movieDetails:`${i}/movie/${e}?api_key=${s}&append_to_response=credits,images`,providers:`${i}/movie/${e}/watch/providers?api_key=${s}`,videos:`${i}/movie/${e}?api_key=${s}&append_to_response=videos`,similar:`${i}/movie/${e}/similar?api_key=${s}&language=${t}`}),L=f.memo(({movie:e,isLarge:t,doDelete:l=!1,onRemoveFavorite:v,onAddFavorite:d})=>{const p=w(),r=n.useRef(null),[m,_]=n.useState(!1),[$,g]=n.useState(!1),h=n.useCallback(()=>{p("/info",{state:{movie:e}})},[p,e]),u=a=>{a.stopPropagation(),v&&v(e)},y=a=>{a.stopPropagation(),d&&d(e)};n.useEffect(()=>{const a=new IntersectionObserver(([c])=>{c.isIntersecting&&_(!0)},{threshold:.01});return r.current&&a.observe(r.current),()=>{r.current&&a.unobserve(r.current)}},[]);function M({imageLoaded:a}){return o.jsx("img",{src:t?`${R}${e.backdrop_path}`:`${b}${e.poster_path}`,alt:e.title,onLoad:()=>g(!0),className:`main-image ${a?"visible":"hidden"}`})}function k({isLarge:a,doDelete:c}){return o.jsxs("div",{className:"details-cardMovie",children:[o.jsx("h2",{className:"titulo-cardMovie",children:a&&(e.title.includes(":")?e.title.split(":")[0]:e.title)}),o.jsxs("div",{className:"play-button",children:[o.jsx("button",{onClick:y,className:c?"heartVisible corazon":"corazon",children:o.jsx("i",{className:"fa-solid fa-heart"})}),c&&o.jsx("button",{className:"corazon",onClick:u,children:o.jsx("i",{className:"fa-solid fa-trash"})})]})]})}return o.jsx("div",{ref:r,className:`contenedor-poster ${t?"large":""}`,onClick:h,children:o.jsxs("div",{className:`cardContainerImage ${t?"backdrop":"poster"}`,children:[o.jsx("div",{className:`fondoCardMovie h-full w-full absolute inset-0 ${$?"opacity-0":"opacity-100"} transition-opacity duration-500`}),m&&o.jsx(M,{imageLoaded:$}),$&&o.jsx(k,{isLarge:t,doDelete:l})]})})});export{s as A,i as B,L as C,N as U,C as a,j as b,E as c,I as g};
