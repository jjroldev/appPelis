const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MiLista-C7MgFZXH.js","assets/CardItem-BsrnOTzA.js","assets/BarMenu-DfqKlPVS.js","assets/CardItem-zaeLP1l5.css","assets/useFavorites-B1cOxIty.js","assets/MiLista-aUPN8ZvR.css","assets/Buscar-DiqOQy8C.js","assets/fetchData-DCFA1qTy.js","assets/Buscar-YfdKVvs7.css","assets/Home-Bebd1shE.js","assets/useFeaturedMovie-urw3z0WA.js","assets/useFeaturedMovie-2Lnh8bHd.css","assets/Banner-CVXy4Sqm.js","assets/Banner-CkJLNVNh.css","assets/ManagePerfil-BwqJZu_f.js","assets/ManagePerfil-CcC-DWYo.css","assets/InfoWindow-zf9uKoTg.js","assets/InfoWindow-Hs1_WEIz.css","assets/styles-kh65Jmv8.css","assets/MoviesWindow-DVaAnwoj.js","assets/CarouselURL-qj-_Dyk7.js","assets/SkeletonCarousel-SCvYmxpq.js","assets/SkeletonCarousel-BPqxXAFN.css","assets/SeriesWindow-Bx9I9TGS.js","assets/CreateProfile-BwBET4qD.js","assets/DefaultPropsProvider-C7mw-WiS.js","assets/emotion-react.browser.esm-BKBEFjUt.js","assets/objectWithoutPropertiesLoose-Dsqj8S3w.js","assets/TransitionGroupContext-D-E3K79Q.js","assets/useForkRef-B4r7HKAW.js","assets/CreateProfile-DM_0nXPs.css"])))=>i.map(i=>d[i]);
function jT(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function F_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bd={exports:{}},za={},qd={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function $T(){if(Qg)return Ae;Qg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function I(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,z={};function M(V,Q,me){this.props=V,this.context=Q,this.refs=z,this.updater=me||A}M.prototype.isReactComponent={},M.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},M.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function H(){}H.prototype=M.prototype;function Y(V,Q,me){this.props=V,this.context=Q,this.refs=z,this.updater=me||A}var W=Y.prototype=new H;W.constructor=Y,O(W,M.prototype),W.isPureReactComponent=!0;var oe=Array.isArray,ve=Object.prototype.hasOwnProperty,ae={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function S(V,Q,me){var Re,Ce={},Ne=null,Fe=null;if(Q!=null)for(Re in Q.ref!==void 0&&(Fe=Q.ref),Q.key!==void 0&&(Ne=""+Q.key),Q)ve.call(Q,Re)&&!D.hasOwnProperty(Re)&&(Ce[Re]=Q[Re]);var Ue=arguments.length-2;if(Ue===1)Ce.children=me;else if(1<Ue){for(var We=Array(Ue),wt=0;wt<Ue;wt++)We[wt]=arguments[wt+2];Ce.children=We}if(V&&V.defaultProps)for(Re in Ue=V.defaultProps,Ue)Ce[Re]===void 0&&(Ce[Re]=Ue[Re]);return{$$typeof:n,type:V,key:Ne,ref:Fe,props:Ce,_owner:ae.current}}function C(V,Q){return{$$typeof:n,type:V.type,key:Q,ref:V.ref,props:V.props,_owner:V._owner}}function k(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function b(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return Q[me]})}var L=/\/+/g;function P(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?b(""+V.key):Q.toString(36)}function $e(V,Q,me,Re,Ce){var Ne=typeof V;(Ne==="undefined"||Ne==="boolean")&&(V=null);var Fe=!1;if(V===null)Fe=!0;else switch(Ne){case"string":case"number":Fe=!0;break;case"object":switch(V.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=V,Ce=Ce(Fe),V=Re===""?"."+P(Fe,0):Re,oe(Ce)?(me="",V!=null&&(me=V.replace(L,"$&/")+"/"),$e(Ce,Q,me,"",function(wt){return wt})):Ce!=null&&(k(Ce)&&(Ce=C(Ce,me+(!Ce.key||Fe&&Fe.key===Ce.key?"":(""+Ce.key).replace(L,"$&/")+"/")+V)),Q.push(Ce)),1;if(Fe=0,Re=Re===""?".":Re+":",oe(V))for(var Ue=0;Ue<V.length;Ue++){Ne=V[Ue];var We=Re+P(Ne,Ue);Fe+=$e(Ne,Q,me,We,Ce)}else if(We=I(V),typeof We=="function")for(V=We.call(V),Ue=0;!(Ne=V.next()).done;)Ne=Ne.value,We=Re+P(Ne,Ue++),Fe+=$e(Ne,Q,me,We,Ce);else if(Ne==="object")throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Fe}function tt(V,Q,me){if(V==null)return V;var Re=[],Ce=0;return $e(V,Re,"","",function(Ne){return Q.call(me,Ne,Ce++)}),Re}function qe(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var De={current:null},te={transition:null},de={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:te,ReactCurrentOwner:ae};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:tt,forEach:function(V,Q,me){tt(V,function(){Q.apply(this,arguments)},me)},count:function(V){var Q=0;return tt(V,function(){Q++}),Q},toArray:function(V){return tt(V,function(Q){return Q})||[]},only:function(V){if(!k(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ae.Component=M,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=Y,Ae.StrictMode=i,Ae.Suspense=f,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ae.act=re,Ae.cloneElement=function(V,Q,me){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Re=O({},V.props),Ce=V.key,Ne=V.ref,Fe=V._owner;if(Q!=null){if(Q.ref!==void 0&&(Ne=Q.ref,Fe=ae.current),Q.key!==void 0&&(Ce=""+Q.key),V.type&&V.type.defaultProps)var Ue=V.type.defaultProps;for(We in Q)ve.call(Q,We)&&!D.hasOwnProperty(We)&&(Re[We]=Q[We]===void 0&&Ue!==void 0?Ue[We]:Q[We])}var We=arguments.length-2;if(We===1)Re.children=me;else if(1<We){Ue=Array(We);for(var wt=0;wt<We;wt++)Ue[wt]=arguments[wt+2];Re.children=Ue}return{$$typeof:n,type:V.type,key:Ce,ref:Ne,props:Re,_owner:Fe}},Ae.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},Ae.createElement=S,Ae.createFactory=function(V){var Q=S.bind(null,V);return Q.type=V,Q},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(V){return{$$typeof:d,render:V}},Ae.isValidElement=k,Ae.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:qe}},Ae.memo=function(V,Q){return{$$typeof:y,type:V,compare:Q===void 0?null:Q}},Ae.startTransition=function(V){var Q=te.transition;te.transition={};try{V()}finally{te.transition=Q}},Ae.unstable_act=re,Ae.useCallback=function(V,Q){return De.current.useCallback(V,Q)},Ae.useContext=function(V){return De.current.useContext(V)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(V){return De.current.useDeferredValue(V)},Ae.useEffect=function(V,Q){return De.current.useEffect(V,Q)},Ae.useId=function(){return De.current.useId()},Ae.useImperativeHandle=function(V,Q,me){return De.current.useImperativeHandle(V,Q,me)},Ae.useInsertionEffect=function(V,Q){return De.current.useInsertionEffect(V,Q)},Ae.useLayoutEffect=function(V,Q){return De.current.useLayoutEffect(V,Q)},Ae.useMemo=function(V,Q){return De.current.useMemo(V,Q)},Ae.useReducer=function(V,Q,me){return De.current.useReducer(V,Q,me)},Ae.useRef=function(V){return De.current.useRef(V)},Ae.useState=function(V){return De.current.useState(V)},Ae.useSyncExternalStore=function(V,Q,me){return De.current.useSyncExternalStore(V,Q,me)},Ae.useTransition=function(){return De.current.useTransition()},Ae.version="18.3.1",Ae}var Kg;function zf(){return Kg||(Kg=1,qd.exports=$T()),qd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function zT(){if(Gg)return za;Gg=1;var n=zf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,y){var v,w={},I=null,A=null;y!==void 0&&(I=""+y),f.key!==void 0&&(I=""+f.key),f.ref!==void 0&&(A=f.ref);for(v in f)i.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:d,key:I,ref:A,props:w,_owner:o.current}}return za.Fragment=t,za.jsx=c,za.jsxs=c,za}var Yg;function BT(){return Yg||(Yg=1,Bd.exports=zT()),Bd.exports}var fe=BT(),Wl={},Hd={exports:{}},sn={},Wd={exports:{}},Qd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function qT(){return Jg||(Jg=1,function(n){function e(te,de){var re=te.length;te.push(de);e:for(;0<re;){var V=re-1>>>1,Q=te[V];if(0<o(Q,de))te[V]=de,te[re]=Q,re=V;else break e}}function t(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var de=te[0],re=te.pop();if(re!==de){te[0]=re;e:for(var V=0,Q=te.length,me=Q>>>1;V<me;){var Re=2*(V+1)-1,Ce=te[Re],Ne=Re+1,Fe=te[Ne];if(0>o(Ce,re))Ne<Q&&0>o(Fe,Ce)?(te[V]=Fe,te[Ne]=re,V=Ne):(te[V]=Ce,te[Re]=re,V=Re);else if(Ne<Q&&0>o(Fe,re))te[V]=Fe,te[Ne]=re,V=Ne;else break e}}return de}function o(te,de){var re=te.sortIndex-de.sortIndex;return re!==0?re:te.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var f=[],y=[],v=1,w=null,I=3,A=!1,O=!1,z=!1,M=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(te){for(var de=t(y);de!==null;){if(de.callback===null)i(y);else if(de.startTime<=te)i(y),de.sortIndex=de.expirationTime,e(f,de);else break;de=t(y)}}function oe(te){if(z=!1,W(te),!O)if(t(f)!==null)O=!0,qe(ve);else{var de=t(y);de!==null&&De(oe,de.startTime-te)}}function ve(te,de){O=!1,z&&(z=!1,H(S),S=-1),A=!0;var re=I;try{for(W(de),w=t(f);w!==null&&(!(w.expirationTime>de)||te&&!b());){var V=w.callback;if(typeof V=="function"){w.callback=null,I=w.priorityLevel;var Q=V(w.expirationTime<=de);de=n.unstable_now(),typeof Q=="function"?w.callback=Q:w===t(f)&&i(f),W(de)}else i(f);w=t(f)}if(w!==null)var me=!0;else{var Re=t(y);Re!==null&&De(oe,Re.startTime-de),me=!1}return me}finally{w=null,I=re,A=!1}}var ae=!1,D=null,S=-1,C=5,k=-1;function b(){return!(n.unstable_now()-k<C)}function L(){if(D!==null){var te=n.unstable_now();k=te;var de=!0;try{de=D(!0,te)}finally{de?P():(ae=!1,D=null)}}else ae=!1}var P;if(typeof Y=="function")P=function(){Y(L)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,tt=$e.port2;$e.port1.onmessage=L,P=function(){tt.postMessage(null)}}else P=function(){M(L,0)};function qe(te){D=te,ae||(ae=!0,P())}function De(te,de){S=M(function(){te(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){O||A||(O=!0,qe(ve))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(te){switch(I){case 1:case 2:case 3:var de=3;break;default:de=I}var re=I;I=de;try{return te()}finally{I=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,de){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var re=I;I=te;try{return de()}finally{I=re}},n.unstable_scheduleCallback=function(te,de,re){var V=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?V+re:V):re=V,te){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=re+Q,te={id:v++,callback:de,priorityLevel:te,startTime:re,expirationTime:Q,sortIndex:-1},re>V?(te.sortIndex=re,e(y,te),t(f)===null&&te===t(y)&&(z?(H(S),S=-1):z=!0,De(oe,re-V))):(te.sortIndex=Q,e(f,te),O||A||(O=!0,qe(ve))),te},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(te){var de=I;return function(){var re=I;I=de;try{return te.apply(this,arguments)}finally{I=re}}}}(Qd)),Qd}var Xg;function HT(){return Xg||(Xg=1,Wd.exports=qT()),Wd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function WT(){if(Zg)return sn;Zg=1;var n=zf(),e=HT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function I(r){return f.call(w,r)?!0:f.call(v,r)?!1:y.test(r)?w[r]=!0:(v[r]=!0,!1)}function A(r,s,u,h){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,u,h){if(s===null||typeof s>"u"||A(r,s,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function z(r,s,u,h,p,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){M[r]=new z(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];M[s]=new z(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){M[r]=new z(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){M[r]=new z(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){M[r]=new z(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){M[r]=new z(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){M[r]=new z(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){M[r]=new z(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){M[r]=new z(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function Y(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(H,Y);M[s]=new z(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(H,Y);M[s]=new z(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(H,Y);M[s]=new z(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){M[r]=new z(r,1,!1,r.toLowerCase(),null,!1,!1)}),M.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){M[r]=new z(r,1,!1,r.toLowerCase(),null,!0,!0)});function W(r,s,u,h){var p=M.hasOwnProperty(s)?M[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,u,p,h)&&(u=null),h||p===null?I(s)&&(u===null?r.removeAttribute(s):r.setAttribute(s,""+u)):p.mustUseProperty?r[p.propertyName]=u===null?p.type===3?!1:"":u:(s=p.attributeName,h=p.attributeNamespace,u===null?r.removeAttribute(s):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,h?r.setAttributeNS(h,s,u):r.setAttribute(s,u))))}var oe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ve=Symbol.for("react.element"),ae=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),b=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),te=Symbol.iterator;function de(r){return r===null||typeof r!="object"?null:(r=te&&r[te]||r["@@iterator"],typeof r=="function"?r:null)}var re=Object.assign,V;function Q(r){if(V===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||""}return`
`+V+r}var me=!1;function Re(r,s){if(!r||me)return"";me=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var h=B}Reflect.construct(r,[],s)}else{try{s.call()}catch(B){h=B}r.call(s.prototype)}else{try{throw Error()}catch(B){h=B}r()}}catch(B){if(B&&h&&typeof B.stack=="string"){for(var p=B.stack.split(`
`),g=h.stack.split(`
`),E=p.length-1,R=g.length-1;1<=E&&0<=R&&p[E]!==g[R];)R--;for(;1<=E&&0<=R;E--,R--)if(p[E]!==g[R]){if(E!==1||R!==1)do if(E--,R--,0>R||p[E]!==g[R]){var x=`
`+p[E].replace(" at new "," at ");return r.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",r.displayName)),x}while(1<=E&&0<=R);break}}}finally{me=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?Q(r):""}function Ce(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=Re(r.type,!1),r;case 11:return r=Re(r.type.render,!1),r;case 1:return r=Re(r.type,!0),r;default:return""}}function Ne(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case ae:return"Portal";case C:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case $e:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:return(r.displayName||"Context")+".Consumer";case k:return(r._context.displayName||"Context")+".Provider";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case tt:return s=r.displayName||null,s!==null?s:Ne(r.type)||"Memo";case qe:s=r._payload,r=r._init;try{return Ne(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wt(r){var s=We(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function mr(r){r._valueTracker||(r._valueTracker=wt(r))}function xs(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return r&&(h=We(r)?r.checked?"true":"false":r.value),r=h,r!==u?(s.setValue(r),!0):!1}function Wr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function $i(r,s){var u=s.checked;return re({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function Os(r,s){var u=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;u=Ue(s.value!=null?s.value:u),r._wrapperState={initialChecked:h,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ko(r,s){s=s.checked,s!=null&&W(r,"checked",s,!1)}function Go(r,s){Ko(r,s);var u=Ue(s.value),h=s.type;if(u!=null)h==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ds(r,s.type,u):s.hasOwnProperty("defaultValue")&&Ds(r,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ou(r,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,u||s===r.value||(r.value=s),r.defaultValue=s}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function Ds(r,s,u){(s!=="number"||Wr(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var gr=Array.isArray;function yr(r,s,u,h){if(r=r.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<r.length;u++)p=s.hasOwnProperty("$"+r[u].value),r[u].selected!==p&&(r[u].selected=p),p&&h&&(r[u].defaultSelected=!0)}else{for(u=""+Ue(u),s=null,p=0;p<r.length;p++){if(r[p].value===u){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Yo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ns(r,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(t(92));if(gr(u)){if(1<u.length)throw Error(t(93));u=u[0]}s=u}s==null&&(s=""),u=s}r._wrapperState={initialValue:Ue(u)}}function bs(r,s){var u=Ue(s.value),h=Ue(s.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),s.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),h!=null&&(r.defaultValue=""+h)}function Jo(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _r,Xo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,u,h,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(_r=_r||document.createElement("div"),_r.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=_r.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Qr(r,s){if(s){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=s;return}}r.textContent=s}var zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bi=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(r){Bi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),zi[s]=zi[r]})});function Zo(r,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||zi.hasOwnProperty(r)&&zi[r]?(""+s).trim():s+"px"}function ea(r,s){r=r.style;for(var u in s)if(s.hasOwnProperty(u)){var h=u.indexOf("--")===0,p=Zo(u,s[u],h);u==="float"&&(u="cssFloat"),h?r.setProperty(u,p):r[u]=p}}var ta=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function na(r,s){if(s){if(ta[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ra(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=null;function Ls(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Vs=null,mn=null,Kn=null;function Ms(r){if(r=Aa(r)){if(typeof Vs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=al(s),Vs(r.stateNode,r.type,s))}}function Gn(r){mn?Kn?Kn.push(r):Kn=[r]:mn=r}function ia(){if(mn){var r=mn,s=Kn;if(Kn=mn=null,Ms(r),s)for(r=0;r<s.length;r++)Ms(s[r])}}function Hi(r,s){return r(s)}function sa(){}var vr=!1;function oa(r,s,u){if(vr)return r(s,u);vr=!0;try{return Hi(r,s,u)}finally{vr=!1,(mn!==null||Kn!==null)&&(sa(),ia())}}function at(r,s){var u=r.stateNode;if(u===null)return null;var h=al(u);if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(t(231,s,typeof u));return u}var Fs=!1;if(d)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{Fs=!1}function Wi(r,s,u,h,p,g,E,R,x){var B=Array.prototype.slice.call(arguments,3);try{s.apply(u,B)}catch(X){this.onError(X)}}var Qi=!1,Us=null,xn=!1,aa=null,yh={onError:function(r){Qi=!0,Us=r}};function js(r,s,u,h,p,g,E,R,x){Qi=!1,Us=null,Wi.apply(yh,arguments)}function Du(r,s,u,h,p,g,E,R,x){if(js.apply(this,arguments),Qi){if(Qi){var B=Us;Qi=!1,Us=null}else throw Error(t(198));xn||(xn=!0,aa=B)}}function On(r){var s=r,u=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(u=s.return),r=s.return;while(r)}return s.tag===3?u:null}function Ki(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Dn(r){if(On(r)!==r)throw Error(t(188))}function Nu(r){var s=r.alternate;if(!s){if(s=On(r),s===null)throw Error(t(188));return s!==r?null:r}for(var u=r,h=s;;){var p=u.return;if(p===null)break;var g=p.alternate;if(g===null){if(h=p.return,h!==null){u=h;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===u)return Dn(p),r;if(g===h)return Dn(p),s;g=g.sibling}throw Error(t(188))}if(u.return!==h.return)u=p,h=g;else{for(var E=!1,R=p.child;R;){if(R===u){E=!0,u=p,h=g;break}if(R===h){E=!0,h=p,u=g;break}R=R.sibling}if(!E){for(R=g.child;R;){if(R===u){E=!0,u=g,h=p;break}if(R===h){E=!0,h=g,u=p;break}R=R.sibling}if(!E)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?r:s}function ua(r){return r=Nu(r),r!==null?$s(r):null}function $s(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=$s(r);if(s!==null)return s;r=r.sibling}return null}var zs=e.unstable_scheduleCallback,la=e.unstable_cancelCallback,bu=e.unstable_shouldYield,_h=e.unstable_requestPaint,Qe=e.unstable_now,Lu=e.unstable_getCurrentPriorityLevel,Gi=e.unstable_ImmediatePriority,Kr=e.unstable_UserBlockingPriority,gn=e.unstable_NormalPriority,ca=e.unstable_LowPriority,Vu=e.unstable_IdlePriority,Yi=null,un=null;function Mu(r){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Yi,r,void 0,(r.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Uu,ha=Math.log,Fu=Math.LN2;function Uu(r){return r>>>=0,r===0?32:31-(ha(r)/Fu|0)|0}var Bs=64,qs=4194304;function Gr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ji(r,s){var u=r.pendingLanes;if(u===0)return 0;var h=0,p=r.suspendedLanes,g=r.pingedLanes,E=u&268435455;if(E!==0){var R=E&~p;R!==0?h=Gr(R):(g&=E,g!==0&&(h=Gr(g)))}else E=u&~p,E!==0?h=Gr(E):g!==0&&(h=Gr(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&p)&&(p=h&-h,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if(h&4&&(h|=u&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)u=31-qt(s),p=1<<u,h|=r[u],s&=~p;return h}function vh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Er(r,s){for(var u=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-qt(g),R=1<<E,x=p[E];x===-1?(!(R&u)||R&h)&&(p[E]=vh(R,s)):x<=s&&(r.expiredLanes|=R),g&=~R}}function ln(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Xi(){var r=Bs;return Bs<<=1,!(Bs&4194240)&&(Bs=64),r}function Yr(r){for(var s=[],u=0;31>u;u++)s.push(r);return s}function Jr(r,s,u){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-qt(s),r[s]=u}function He(r,s){var u=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<u;){var p=31-qt(u),g=1<<p;s[p]=0,h[p]=-1,r[p]=-1,u&=~g}}function Xr(r,s){var u=r.entangledLanes|=s;for(r=r.entanglements;u;){var h=31-qt(u),p=1<<h;p&s|r[h]&s&&(r[h]|=s),u&=~p}}var xe=0;function Zr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var ju,Hs,$u,zu,Bu,da=!1,Yn=[],At=null,Nn=null,bn=null,ei=new Map,yn=new Map,Jn=[],Eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qu(r,s){switch(r){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":ei.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yn.delete(s.pointerId)}}function Jt(r,s,u,h,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Aa(s),s!==null&&Hs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function wh(r,s,u,h,p){switch(s){case"focusin":return At=Jt(At,r,s,u,h,p),!0;case"dragenter":return Nn=Jt(Nn,r,s,u,h,p),!0;case"mouseover":return bn=Jt(bn,r,s,u,h,p),!0;case"pointerover":var g=p.pointerId;return ei.set(g,Jt(ei.get(g)||null,r,s,u,h,p)),!0;case"gotpointercapture":return g=p.pointerId,yn.set(g,Jt(yn.get(g)||null,r,s,u,h,p)),!0}return!1}function Hu(r){var s=rs(r.target);if(s!==null){var u=On(s);if(u!==null){if(s=u.tag,s===13){if(s=Ki(u),s!==null){r.blockedOn=s,Bu(r.priority,function(){$u(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function wr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var u=Ws(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var h=new u.constructor(u.type,u);qi=h,u.target.dispatchEvent(h),qi=null}else return s=Aa(u),s!==null&&Hs(s),r.blockedOn=u,!1;s.shift()}return!0}function Zi(r,s,u){wr(r)&&u.delete(s)}function Wu(){da=!1,At!==null&&wr(At)&&(At=null),Nn!==null&&wr(Nn)&&(Nn=null),bn!==null&&wr(bn)&&(bn=null),ei.forEach(Zi),yn.forEach(Zi)}function Ln(r,s){r.blockedOn===s&&(r.blockedOn=null,da||(da=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wu)))}function Vn(r){function s(p){return Ln(p,r)}if(0<Yn.length){Ln(Yn[0],r);for(var u=1;u<Yn.length;u++){var h=Yn[u];h.blockedOn===r&&(h.blockedOn=null)}}for(At!==null&&Ln(At,r),Nn!==null&&Ln(Nn,r),bn!==null&&Ln(bn,r),ei.forEach(s),yn.forEach(s),u=0;u<Jn.length;u++)h=Jn[u],h.blockedOn===r&&(h.blockedOn=null);for(;0<Jn.length&&(u=Jn[0],u.blockedOn===null);)Hu(u),u.blockedOn===null&&Jn.shift()}var Tr=oe.ReactCurrentBatchConfig,ti=!0;function Xe(r,s,u,h){var p=xe,g=Tr.transition;Tr.transition=null;try{xe=1,fa(r,s,u,h)}finally{xe=p,Tr.transition=g}}function Th(r,s,u,h){var p=xe,g=Tr.transition;Tr.transition=null;try{xe=4,fa(r,s,u,h)}finally{xe=p,Tr.transition=g}}function fa(r,s,u,h){if(ti){var p=Ws(r,s,u,h);if(p===null)Nh(r,s,h,es,u),qu(r,h);else if(wh(p,r,s,u,h))h.stopPropagation();else if(qu(r,h),s&4&&-1<Eh.indexOf(r)){for(;p!==null;){var g=Aa(p);if(g!==null&&ju(g),g=Ws(r,s,u,h),g===null&&Nh(r,s,h,es,u),g===p)break;p=g}p!==null&&h.stopPropagation()}else Nh(r,s,h,null,u)}}var es=null;function Ws(r,s,u,h){if(es=null,r=Ls(h),r=rs(r),r!==null)if(s=On(r),s===null)r=null;else if(u=s.tag,u===13){if(r=Ki(s),r!==null)return r;r=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return es=r,null}function pa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lu()){case Gi:return 1;case Kr:return 4;case gn:case ca:return 16;case Vu:return 536870912;default:return 16}default:return 16}}var cn=null,Qs=null,Xt=null;function ma(){if(Xt)return Xt;var r,s=Qs,u=s.length,h,p="value"in cn?cn.value:cn.textContent,g=p.length;for(r=0;r<u&&s[r]===p[r];r++);var E=u-r;for(h=1;h<=E&&s[u-h]===p[g-h];h++);return Xt=p.slice(r,1<h?1-h:void 0)}function Ks(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Xn(){return!0}function ga(){return!1}function Pt(r){function s(u,h,p,g,E){this._reactName=u,this._targetInst=p,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(u=r[R],this[R]=u?u(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Xn:ga,this.isPropagationStopped=ga,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),s}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gs=Pt(Mn),Zn=re({},Mn,{view:0,detail:0}),Ih=Pt(Zn),Ys,Ir,ni,ts=re({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ni&&(ni&&r.type==="mousemove"?(Ys=r.screenX-ni.screenX,Ir=r.screenY-ni.screenY):Ir=Ys=0,ni=r),Ys)},movementY:function(r){return"movementY"in r?r.movementY:Ir}}),Js=Pt(ts),ya=re({},ts,{dataTransfer:0}),Qu=Pt(ya),Xs=re({},Zn,{relatedTarget:0}),Zs=Pt(Xs),Ku=re({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sr=Pt(Ku),Gu=re({},Mn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Yu=Pt(Gu),Ju=re({},Mn,{data:0}),_a=Pt(Ju),eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Xu[r])?!!s[r]:!1}function er(){return Zu}var l=re({},Zn,{key:function(r){if(r.key){var s=eo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ks(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ht[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(r){return r.type==="keypress"?Ks(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ks(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Pt(l),_=re({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Pt(_),U=re({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),q=Pt(U),ne=re({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=Pt(ne),gt=re({},ts,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),be=Pt(gt),Tt=[9,13,27,32],ct=d&&"CompositionEvent"in window,_n=null;d&&"documentMode"in document&&(_n=document.documentMode);var hn=d&&"TextEvent"in window&&!_n,ns=d&&(!ct||_n&&8<_n&&11>=_n),to=" ",$p=!1;function zp(r,s){switch(r){case"keyup":return Tt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var no=!1;function Fw(r,s){switch(r){case"compositionend":return Bp(s);case"keypress":return s.which!==32?null:($p=!0,to);case"textInput":return r=s.data,r===to&&$p?null:r;default:return null}}function Uw(r,s){if(no)return r==="compositionend"||!ct&&zp(r,s)?(r=ma(),Xt=Qs=cn=null,no=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ns&&s.locale!=="ko"?null:s.data;default:return null}}var jw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!jw[r.type]:s==="textarea"}function Hp(r,s,u,h){Gn(h),s=il(s,"onChange"),0<s.length&&(u=new Gs("onChange","change",null,u,h),r.push({event:u,listeners:s}))}var va=null,Ea=null;function $w(r){lm(r,0)}function el(r){var s=ao(r);if(xs(s))return r}function zw(r,s){if(r==="change")return s}var Wp=!1;if(d){var Sh;if(d){var Rh="oninput"in document;if(!Rh){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),Rh=typeof Qp.oninput=="function"}Sh=Rh}else Sh=!1;Wp=Sh&&(!document.documentMode||9<document.documentMode)}function Kp(){va&&(va.detachEvent("onpropertychange",Gp),Ea=va=null)}function Gp(r){if(r.propertyName==="value"&&el(Ea)){var s=[];Hp(s,Ea,r,Ls(r)),oa($w,s)}}function Bw(r,s,u){r==="focusin"?(Kp(),va=s,Ea=u,va.attachEvent("onpropertychange",Gp)):r==="focusout"&&Kp()}function qw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return el(Ea)}function Hw(r,s){if(r==="click")return el(s)}function Ww(r,s){if(r==="input"||r==="change")return el(s)}function Qw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Fn=typeof Object.is=="function"?Object.is:Qw;function wa(r,s){if(Fn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var u=Object.keys(r),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var p=u[h];if(!f.call(s,p)||!Fn(r[p],s[p]))return!1}return!0}function Yp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Jp(r,s){var u=Yp(r);r=0;for(var h;u;){if(u.nodeType===3){if(h=r+u.textContent.length,r<=s&&h>=s)return{node:u,offset:s-r};r=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Yp(u)}}function Xp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Xp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Zp(){for(var r=window,s=Wr();s instanceof r.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)r=s.contentWindow;else break;s=Wr(r.document)}return s}function Ch(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Kw(r){var s=Zp(),u=r.focusedElem,h=r.selectionRange;if(s!==u&&u&&u.ownerDocument&&Xp(u.ownerDocument.documentElement,u)){if(h!==null&&Ch(u)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(r,u.value.length);else if(r=(s=u.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=u.textContent.length,g=Math.min(h.start,p);h=h.end===void 0?g:Math.min(h.end,p),!r.extend&&g>h&&(p=h,h=g,g=p),p=Jp(u,g);var E=Jp(u,h);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=u;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)r=s[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Gw=d&&"documentMode"in document&&11>=document.documentMode,ro=null,Ah=null,Ta=null,Ph=!1;function em(r,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ph||ro==null||ro!==Wr(h)||(h=ro,"selectionStart"in h&&Ch(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ta&&wa(Ta,h)||(Ta=h,h=il(Ah,"onSelect"),0<h.length&&(s=new Gs("onSelect","select",null,s,u),r.push({event:s,listeners:h}),s.target=ro)))}function tl(r,s){var u={};return u[r.toLowerCase()]=s.toLowerCase(),u["Webkit"+r]="webkit"+s,u["Moz"+r]="moz"+s,u}var io={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},kh={},tm={};d&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function nl(r){if(kh[r])return kh[r];if(!io[r])return r;var s=io[r],u;for(u in s)if(s.hasOwnProperty(u)&&u in tm)return kh[r]=s[u];return r}var nm=nl("animationend"),rm=nl("animationiteration"),im=nl("animationstart"),sm=nl("transitionend"),om=new Map,am="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(r,s){om.set(r,s),a(s,[r])}for(var xh=0;xh<am.length;xh++){var Oh=am[xh],Yw=Oh.toLowerCase(),Jw=Oh[0].toUpperCase()+Oh.slice(1);ri(Yw,"on"+Jw)}ri(nm,"onAnimationEnd"),ri(rm,"onAnimationIteration"),ri(im,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(sm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function um(r,s,u){var h=r.type||"unknown-event";r.currentTarget=u,Du(h,s,void 0,r),r.currentTarget=null}function lm(r,s){s=(s&4)!==0;for(var u=0;u<r.length;u++){var h=r[u],p=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var E=h.length-1;0<=E;E--){var R=h[E],x=R.instance,B=R.currentTarget;if(R=R.listener,x!==g&&p.isPropagationStopped())break e;um(p,R,B),g=x}else for(E=0;E<h.length;E++){if(R=h[E],x=R.instance,B=R.currentTarget,R=R.listener,x!==g&&p.isPropagationStopped())break e;um(p,R,B),g=x}}}if(xn)throw r=aa,xn=!1,aa=null,r}function Ge(r,s){var u=s[Uh];u===void 0&&(u=s[Uh]=new Set);var h=r+"__bubble";u.has(h)||(cm(s,r,2,!1),u.add(h))}function Dh(r,s,u){var h=0;s&&(h|=4),cm(u,r,h,s)}var rl="_reactListening"+Math.random().toString(36).slice(2);function Sa(r){if(!r[rl]){r[rl]=!0,i.forEach(function(u){u!=="selectionchange"&&(Xw.has(u)||Dh(u,!1,r),Dh(u,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[rl]||(s[rl]=!0,Dh("selectionchange",!1,s))}}function cm(r,s,u,h){switch(pa(s)){case 1:var p=Xe;break;case 4:p=Th;break;default:p=fa}u=p.bind(null,s,u,r),p=void 0,!Fs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,u,{capture:!0,passive:p}):r.addEventListener(s,u,!0):p!==void 0?r.addEventListener(s,u,{passive:p}):r.addEventListener(s,u,!1)}function Nh(r,s,u,h,p){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var R=h.stateNode.containerInfo;if(R===p||R.nodeType===8&&R.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var x=E.tag;if((x===3||x===4)&&(x=E.stateNode.containerInfo,x===p||x.nodeType===8&&x.parentNode===p))return;E=E.return}for(;R!==null;){if(E=rs(R),E===null)return;if(x=E.tag,x===5||x===6){h=g=E;continue e}R=R.parentNode}}h=h.return}oa(function(){var B=g,X=Ls(u),Z=[];e:{var J=om.get(r);if(J!==void 0){var ie=Gs,ce=r;switch(r){case"keypress":if(Ks(u)===0)break e;case"keydown":case"keyup":ie=m;break;case"focusin":ce="focus",ie=Zs;break;case"focusout":ce="blur",ie=Zs;break;case"beforeblur":case"afterblur":ie=Zs;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=q;break;case nm:case rm:case im:ie=Sr;break;case sm:ie=Be;break;case"scroll":ie=Ih;break;case"wheel":ie=be;break;case"copy":case"cut":case"paste":ie=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=T}var he=(s&4)!==0,ut=!he&&r==="scroll",j=he?J!==null?J+"Capture":null:J;he=[];for(var N=B,$;N!==null;){$=N;var ee=$.stateNode;if($.tag===5&&ee!==null&&($=ee,j!==null&&(ee=at(N,j),ee!=null&&he.push(Ra(N,ee,$)))),ut)break;N=N.return}0<he.length&&(J=new ie(J,ce,null,u,X),Z.push({event:J,listeners:he}))}}if(!(s&7)){e:{if(J=r==="mouseover"||r==="pointerover",ie=r==="mouseout"||r==="pointerout",J&&u!==qi&&(ce=u.relatedTarget||u.fromElement)&&(rs(ce)||ce[Rr]))break e;if((ie||J)&&(J=X.window===X?X:(J=X.ownerDocument)?J.defaultView||J.parentWindow:window,ie?(ce=u.relatedTarget||u.toElement,ie=B,ce=ce?rs(ce):null,ce!==null&&(ut=On(ce),ce!==ut||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(ie=null,ce=B),ie!==ce)){if(he=Js,ee="onMouseLeave",j="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(he=T,ee="onPointerLeave",j="onPointerEnter",N="pointer"),ut=ie==null?J:ao(ie),$=ce==null?J:ao(ce),J=new he(ee,N+"leave",ie,u,X),J.target=ut,J.relatedTarget=$,ee=null,rs(X)===B&&(he=new he(j,N+"enter",ce,u,X),he.target=$,he.relatedTarget=ut,ee=he),ut=ee,ie&&ce)t:{for(he=ie,j=ce,N=0,$=he;$;$=so($))N++;for($=0,ee=j;ee;ee=so(ee))$++;for(;0<N-$;)he=so(he),N--;for(;0<$-N;)j=so(j),$--;for(;N--;){if(he===j||j!==null&&he===j.alternate)break t;he=so(he),j=so(j)}he=null}else he=null;ie!==null&&hm(Z,J,ie,he,!1),ce!==null&&ut!==null&&hm(Z,ut,ce,he,!0)}}e:{if(J=B?ao(B):window,ie=J.nodeName&&J.nodeName.toLowerCase(),ie==="select"||ie==="input"&&J.type==="file")var pe=zw;else if(qp(J))if(Wp)pe=Ww;else{pe=qw;var ye=Bw}else(ie=J.nodeName)&&ie.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(pe=Hw);if(pe&&(pe=pe(r,B))){Hp(Z,pe,u,X);break e}ye&&ye(r,J,B),r==="focusout"&&(ye=J._wrapperState)&&ye.controlled&&J.type==="number"&&Ds(J,"number",J.value)}switch(ye=B?ao(B):window,r){case"focusin":(qp(ye)||ye.contentEditable==="true")&&(ro=ye,Ah=B,Ta=null);break;case"focusout":Ta=Ah=ro=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,em(Z,u,X);break;case"selectionchange":if(Gw)break;case"keydown":case"keyup":em(Z,u,X)}var _e;if(ct)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else no?zp(r,u)&&(we="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(we="onCompositionStart");we&&(ns&&u.locale!=="ko"&&(no||we!=="onCompositionStart"?we==="onCompositionEnd"&&no&&(_e=ma()):(cn=X,Qs="value"in cn?cn.value:cn.textContent,no=!0)),ye=il(B,we),0<ye.length&&(we=new _a(we,r,null,u,X),Z.push({event:we,listeners:ye}),_e?we.data=_e:(_e=Bp(u),_e!==null&&(we.data=_e)))),(_e=hn?Fw(r,u):Uw(r,u))&&(B=il(B,"onBeforeInput"),0<B.length&&(X=new _a("onBeforeInput","beforeinput",null,u,X),Z.push({event:X,listeners:B}),X.data=_e))}lm(Z,s)})}function Ra(r,s,u){return{instance:r,listener:s,currentTarget:u}}function il(r,s){for(var u=s+"Capture",h=[];r!==null;){var p=r,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=at(r,u),g!=null&&h.unshift(Ra(r,g,p)),g=at(r,s),g!=null&&h.push(Ra(r,g,p))),r=r.return}return h}function so(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function hm(r,s,u,h,p){for(var g=s._reactName,E=[];u!==null&&u!==h;){var R=u,x=R.alternate,B=R.stateNode;if(x!==null&&x===h)break;R.tag===5&&B!==null&&(R=B,p?(x=at(u,g),x!=null&&E.unshift(Ra(u,x,R))):p||(x=at(u,g),x!=null&&E.push(Ra(u,x,R)))),u=u.return}E.length!==0&&r.push({event:s,listeners:E})}var Zw=/\r\n?/g,eT=/\u0000|\uFFFD/g;function dm(r){return(typeof r=="string"?r:""+r).replace(Zw,`
`).replace(eT,"")}function sl(r,s,u){if(s=dm(s),dm(r)!==s&&u)throw Error(t(425))}function ol(){}var bh=null,Lh=null;function Vh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Mh=typeof setTimeout=="function"?setTimeout:void 0,tT=typeof clearTimeout=="function"?clearTimeout:void 0,fm=typeof Promise=="function"?Promise:void 0,nT=typeof queueMicrotask=="function"?queueMicrotask:typeof fm<"u"?function(r){return fm.resolve(null).then(r).catch(rT)}:Mh;function rT(r){setTimeout(function(){throw r})}function Fh(r,s){var u=s,h=0;do{var p=u.nextSibling;if(r.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(h===0){r.removeChild(p),Vn(s);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=p}while(u);Vn(s)}function ii(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function pm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return r;s--}else u==="/$"&&s++}r=r.previousSibling}return null}var oo=Math.random().toString(36).slice(2),tr="__reactFiber$"+oo,Ca="__reactProps$"+oo,Rr="__reactContainer$"+oo,Uh="__reactEvents$"+oo,iT="__reactListeners$"+oo,sT="__reactHandles$"+oo;function rs(r){var s=r[tr];if(s)return s;for(var u=r.parentNode;u;){if(s=u[Rr]||u[tr]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(r=pm(r);r!==null;){if(u=r[tr])return u;r=pm(r)}return s}r=u,u=r.parentNode}return null}function Aa(r){return r=r[tr]||r[Rr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ao(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function al(r){return r[Ca]||null}var jh=[],uo=-1;function si(r){return{current:r}}function Ye(r){0>uo||(r.current=jh[uo],jh[uo]=null,uo--)}function Ke(r,s){uo++,jh[uo]=r.current,r.current=s}var oi={},bt=si(oi),Zt=si(!1),is=oi;function lo(r,s){var u=r.type.contextTypes;if(!u)return oi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in u)p[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function en(r){return r=r.childContextTypes,r!=null}function ul(){Ye(Zt),Ye(bt)}function mm(r,s,u){if(bt.current!==oi)throw Error(t(168));Ke(bt,s),Ke(Zt,u)}function gm(r,s,u){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Fe(r)||"Unknown",p));return re({},u,h)}function ll(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||oi,is=bt.current,Ke(bt,r),Ke(Zt,Zt.current),!0}function ym(r,s,u){var h=r.stateNode;if(!h)throw Error(t(169));u?(r=gm(r,s,is),h.__reactInternalMemoizedMergedChildContext=r,Ye(Zt),Ye(bt),Ke(bt,r)):Ye(Zt),Ke(Zt,u)}var Cr=null,cl=!1,$h=!1;function _m(r){Cr===null?Cr=[r]:Cr.push(r)}function oT(r){cl=!0,_m(r)}function ai(){if(!$h&&Cr!==null){$h=!0;var r=0,s=xe;try{var u=Cr;for(xe=1;r<u.length;r++){var h=u[r];do h=h(!0);while(h!==null)}Cr=null,cl=!1}catch(p){throw Cr!==null&&(Cr=Cr.slice(r+1)),zs(Gi,ai),p}finally{xe=s,$h=!1}}return null}var co=[],ho=0,hl=null,dl=0,vn=[],En=0,ss=null,Ar=1,Pr="";function os(r,s){co[ho++]=dl,co[ho++]=hl,hl=r,dl=s}function vm(r,s,u){vn[En++]=Ar,vn[En++]=Pr,vn[En++]=ss,ss=r;var h=Ar;r=Pr;var p=32-qt(h)-1;h&=~(1<<p),u+=1;var g=32-qt(s)+p;if(30<g){var E=p-p%5;g=(h&(1<<E)-1).toString(32),h>>=E,p-=E,Ar=1<<32-qt(s)+p|u<<p|h,Pr=g+r}else Ar=1<<g|u<<p|h,Pr=r}function zh(r){r.return!==null&&(os(r,1),vm(r,1,0))}function Bh(r){for(;r===hl;)hl=co[--ho],co[ho]=null,dl=co[--ho],co[ho]=null;for(;r===ss;)ss=vn[--En],vn[En]=null,Pr=vn[--En],vn[En]=null,Ar=vn[--En],vn[En]=null}var dn=null,fn=null,Ze=!1,Un=null;function Em(r,s){var u=Sn(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=r,s=r.deletions,s===null?(r.deletions=[u],r.flags|=16):s.push(u)}function wm(r,s){switch(r.tag){case 5:var u=r.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,dn=r,fn=ii(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,dn=r,fn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=ss!==null?{id:Ar,overflow:Pr}:null,r.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=Sn(18,null,null,0),u.stateNode=s,u.return=r,r.child=u,dn=r,fn=null,!0):!1;default:return!1}}function qh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Hh(r){if(Ze){var s=fn;if(s){var u=s;if(!wm(r,s)){if(qh(r))throw Error(t(418));s=ii(u.nextSibling);var h=dn;s&&wm(r,s)?Em(h,u):(r.flags=r.flags&-4097|2,Ze=!1,dn=r)}}else{if(qh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ze=!1,dn=r}}}function Tm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;dn=r}function fl(r){if(r!==dn)return!1;if(!Ze)return Tm(r),Ze=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Vh(r.type,r.memoizedProps)),s&&(s=fn)){if(qh(r))throw Im(),Error(t(418));for(;s;)Em(r,s),s=ii(s.nextSibling)}if(Tm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(s===0){fn=ii(r.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}r=r.nextSibling}fn=null}}else fn=dn?ii(r.stateNode.nextSibling):null;return!0}function Im(){for(var r=fn;r;)r=ii(r.nextSibling)}function fo(){fn=dn=null,Ze=!1}function Wh(r){Un===null?Un=[r]:Un.push(r)}var aT=oe.ReactCurrentBatchConfig;function Pa(r,s,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,r));var p=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var R=p.refs;E===null?delete R[g]:R[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,r))}return r}function pl(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Sm(r){var s=r._init;return s(r._payload)}function Rm(r){function s(j,N){if(r){var $=j.deletions;$===null?(j.deletions=[N],j.flags|=16):$.push(N)}}function u(j,N){if(!r)return null;for(;N!==null;)s(j,N),N=N.sibling;return null}function h(j,N){for(j=new Map;N!==null;)N.key!==null?j.set(N.key,N):j.set(N.index,N),N=N.sibling;return j}function p(j,N){return j=mi(j,N),j.index=0,j.sibling=null,j}function g(j,N,$){return j.index=$,r?($=j.alternate,$!==null?($=$.index,$<N?(j.flags|=2,N):$):(j.flags|=2,N)):(j.flags|=1048576,N)}function E(j){return r&&j.alternate===null&&(j.flags|=2),j}function R(j,N,$,ee){return N===null||N.tag!==6?(N=Md($,j.mode,ee),N.return=j,N):(N=p(N,$),N.return=j,N)}function x(j,N,$,ee){var pe=$.type;return pe===D?X(j,N,$.props.children,ee,$.key):N!==null&&(N.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===qe&&Sm(pe)===N.type)?(ee=p(N,$.props),ee.ref=Pa(j,N,$),ee.return=j,ee):(ee=Fl($.type,$.key,$.props,null,j.mode,ee),ee.ref=Pa(j,N,$),ee.return=j,ee)}function B(j,N,$,ee){return N===null||N.tag!==4||N.stateNode.containerInfo!==$.containerInfo||N.stateNode.implementation!==$.implementation?(N=Fd($,j.mode,ee),N.return=j,N):(N=p(N,$.children||[]),N.return=j,N)}function X(j,N,$,ee,pe){return N===null||N.tag!==7?(N=ps($,j.mode,ee,pe),N.return=j,N):(N=p(N,$),N.return=j,N)}function Z(j,N,$){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Md(""+N,j.mode,$),N.return=j,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ve:return $=Fl(N.type,N.key,N.props,null,j.mode,$),$.ref=Pa(j,null,N),$.return=j,$;case ae:return N=Fd(N,j.mode,$),N.return=j,N;case qe:var ee=N._init;return Z(j,ee(N._payload),$)}if(gr(N)||de(N))return N=ps(N,j.mode,$,null),N.return=j,N;pl(j,N)}return null}function J(j,N,$,ee){var pe=N!==null?N.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return pe!==null?null:R(j,N,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case ve:return $.key===pe?x(j,N,$,ee):null;case ae:return $.key===pe?B(j,N,$,ee):null;case qe:return pe=$._init,J(j,N,pe($._payload),ee)}if(gr($)||de($))return pe!==null?null:X(j,N,$,ee,null);pl(j,$)}return null}function ie(j,N,$,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return j=j.get($)||null,R(N,j,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case ve:return j=j.get(ee.key===null?$:ee.key)||null,x(N,j,ee,pe);case ae:return j=j.get(ee.key===null?$:ee.key)||null,B(N,j,ee,pe);case qe:var ye=ee._init;return ie(j,N,$,ye(ee._payload),pe)}if(gr(ee)||de(ee))return j=j.get($)||null,X(N,j,ee,pe,null);pl(N,ee)}return null}function ce(j,N,$,ee){for(var pe=null,ye=null,_e=N,we=N=0,Rt=null;_e!==null&&we<$.length;we++){_e.index>we?(Rt=_e,_e=null):Rt=_e.sibling;var Me=J(j,_e,$[we],ee);if(Me===null){_e===null&&(_e=Rt);break}r&&_e&&Me.alternate===null&&s(j,_e),N=g(Me,N,we),ye===null?pe=Me:ye.sibling=Me,ye=Me,_e=Rt}if(we===$.length)return u(j,_e),Ze&&os(j,we),pe;if(_e===null){for(;we<$.length;we++)_e=Z(j,$[we],ee),_e!==null&&(N=g(_e,N,we),ye===null?pe=_e:ye.sibling=_e,ye=_e);return Ze&&os(j,we),pe}for(_e=h(j,_e);we<$.length;we++)Rt=ie(_e,j,we,$[we],ee),Rt!==null&&(r&&Rt.alternate!==null&&_e.delete(Rt.key===null?we:Rt.key),N=g(Rt,N,we),ye===null?pe=Rt:ye.sibling=Rt,ye=Rt);return r&&_e.forEach(function(gi){return s(j,gi)}),Ze&&os(j,we),pe}function he(j,N,$,ee){var pe=de($);if(typeof pe!="function")throw Error(t(150));if($=pe.call($),$==null)throw Error(t(151));for(var ye=pe=null,_e=N,we=N=0,Rt=null,Me=$.next();_e!==null&&!Me.done;we++,Me=$.next()){_e.index>we?(Rt=_e,_e=null):Rt=_e.sibling;var gi=J(j,_e,Me.value,ee);if(gi===null){_e===null&&(_e=Rt);break}r&&_e&&gi.alternate===null&&s(j,_e),N=g(gi,N,we),ye===null?pe=gi:ye.sibling=gi,ye=gi,_e=Rt}if(Me.done)return u(j,_e),Ze&&os(j,we),pe;if(_e===null){for(;!Me.done;we++,Me=$.next())Me=Z(j,Me.value,ee),Me!==null&&(N=g(Me,N,we),ye===null?pe=Me:ye.sibling=Me,ye=Me);return Ze&&os(j,we),pe}for(_e=h(j,_e);!Me.done;we++,Me=$.next())Me=ie(_e,j,we,Me.value,ee),Me!==null&&(r&&Me.alternate!==null&&_e.delete(Me.key===null?we:Me.key),N=g(Me,N,we),ye===null?pe=Me:ye.sibling=Me,ye=Me);return r&&_e.forEach(function(UT){return s(j,UT)}),Ze&&os(j,we),pe}function ut(j,N,$,ee){if(typeof $=="object"&&$!==null&&$.type===D&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case ve:e:{for(var pe=$.key,ye=N;ye!==null;){if(ye.key===pe){if(pe=$.type,pe===D){if(ye.tag===7){u(j,ye.sibling),N=p(ye,$.props.children),N.return=j,j=N;break e}}else if(ye.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===qe&&Sm(pe)===ye.type){u(j,ye.sibling),N=p(ye,$.props),N.ref=Pa(j,ye,$),N.return=j,j=N;break e}u(j,ye);break}else s(j,ye);ye=ye.sibling}$.type===D?(N=ps($.props.children,j.mode,ee,$.key),N.return=j,j=N):(ee=Fl($.type,$.key,$.props,null,j.mode,ee),ee.ref=Pa(j,N,$),ee.return=j,j=ee)}return E(j);case ae:e:{for(ye=$.key;N!==null;){if(N.key===ye)if(N.tag===4&&N.stateNode.containerInfo===$.containerInfo&&N.stateNode.implementation===$.implementation){u(j,N.sibling),N=p(N,$.children||[]),N.return=j,j=N;break e}else{u(j,N);break}else s(j,N);N=N.sibling}N=Fd($,j.mode,ee),N.return=j,j=N}return E(j);case qe:return ye=$._init,ut(j,N,ye($._payload),ee)}if(gr($))return ce(j,N,$,ee);if(de($))return he(j,N,$,ee);pl(j,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,N!==null&&N.tag===6?(u(j,N.sibling),N=p(N,$),N.return=j,j=N):(u(j,N),N=Md($,j.mode,ee),N.return=j,j=N),E(j)):u(j,N)}return ut}var po=Rm(!0),Cm=Rm(!1),ml=si(null),gl=null,mo=null,Qh=null;function Kh(){Qh=mo=gl=null}function Gh(r){var s=ml.current;Ye(ml),r._currentValue=s}function Yh(r,s,u){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===u)break;r=r.return}}function go(r,s){gl=r,Qh=mo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(tn=!0),r.firstContext=null)}function wn(r){var s=r._currentValue;if(Qh!==r)if(r={context:r,memoizedValue:s,next:null},mo===null){if(gl===null)throw Error(t(308));mo=r,gl.dependencies={lanes:0,firstContext:r}}else mo=mo.next=r;return s}var as=null;function Jh(r){as===null?as=[r]:as.push(r)}function Am(r,s,u,h){var p=s.interleaved;return p===null?(u.next=u,Jh(s)):(u.next=p.next,p.next=u),s.interleaved=u,kr(r,h)}function kr(r,s){r.lanes|=s;var u=r.alternate;for(u!==null&&(u.lanes|=s),u=r,r=r.return;r!==null;)r.childLanes|=s,u=r.alternate,u!==null&&(u.childLanes|=s),u=r,r=r.return;return u.tag===3?u.stateNode:null}var ui=!1;function Xh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function xr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function li(r,s,u){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Ve&2){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,kr(r,u)}return p=h.interleaved,p===null?(s.next=s,Jh(h)):(s.next=p.next,p.next=s),h.interleaved=s,kr(r,u)}function yl(r,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,u|=h,s.lanes=u,Xr(r,u)}}function km(r,s){var u=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var p=null,g=null;if(u=u.firstBaseUpdate,u!==null){do{var E={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};g===null?p=g=E:g=g.next=E,u=u.next}while(u!==null);g===null?p=g=s:g=g.next=s}else p=g=s;u={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=s:r.next=s,u.lastBaseUpdate=s}function _l(r,s,u,h){var p=r.updateQueue;ui=!1;var g=p.firstBaseUpdate,E=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var x=R,B=x.next;x.next=null,E===null?g=B:E.next=B,E=x;var X=r.alternate;X!==null&&(X=X.updateQueue,R=X.lastBaseUpdate,R!==E&&(R===null?X.firstBaseUpdate=B:R.next=B,X.lastBaseUpdate=x))}if(g!==null){var Z=p.baseState;E=0,X=B=x=null,R=g;do{var J=R.lane,ie=R.eventTime;if((h&J)===J){X!==null&&(X=X.next={eventTime:ie,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ce=r,he=R;switch(J=s,ie=u,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){Z=ce.call(ie,Z,J);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,J=typeof ce=="function"?ce.call(ie,Z,J):ce,J==null)break e;Z=re({},Z,J);break e;case 2:ui=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,J=p.effects,J===null?p.effects=[R]:J.push(R))}else ie={eventTime:ie,lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},X===null?(B=X=ie,x=Z):X=X.next=ie,E|=J;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;J=R,R=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);if(X===null&&(x=Z),p.baseState=x,p.firstBaseUpdate=B,p.lastBaseUpdate=X,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);cs|=E,r.lanes=E,r.memoizedState=Z}}function xm(r,s,u){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=u,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var ka={},nr=si(ka),xa=si(ka),Oa=si(ka);function us(r){if(r===ka)throw Error(t(174));return r}function Zh(r,s){switch(Ke(Oa,s),Ke(xa,r),Ke(nr,ka),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:mt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=mt(s,r)}Ye(nr),Ke(nr,s)}function yo(){Ye(nr),Ye(xa),Ye(Oa)}function Om(r){us(Oa.current);var s=us(nr.current),u=mt(s,r.type);s!==u&&(Ke(xa,r),Ke(nr,u))}function ed(r){xa.current===r&&(Ye(nr),Ye(xa))}var nt=si(0);function vl(r){for(var s=r;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var td=[];function nd(){for(var r=0;r<td.length;r++)td[r]._workInProgressVersionPrimary=null;td.length=0}var El=oe.ReactCurrentDispatcher,rd=oe.ReactCurrentBatchConfig,ls=0,rt=null,yt=null,It=null,wl=!1,Da=!1,Na=0,uT=0;function Lt(){throw Error(t(321))}function id(r,s){if(s===null)return!1;for(var u=0;u<s.length&&u<r.length;u++)if(!Fn(r[u],s[u]))return!1;return!0}function sd(r,s,u,h,p,g){if(ls=g,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,El.current=r===null||r.memoizedState===null?dT:fT,r=u(h,p),Da){g=0;do{if(Da=!1,Na=0,25<=g)throw Error(t(301));g+=1,It=yt=null,s.updateQueue=null,El.current=pT,r=u(h,p)}while(Da)}if(El.current=Sl,s=yt!==null&&yt.next!==null,ls=0,It=yt=rt=null,wl=!1,s)throw Error(t(300));return r}function od(){var r=Na!==0;return Na=0,r}function rr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?rt.memoizedState=It=r:It=It.next=r,It}function Tn(){if(yt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=It===null?rt.memoizedState:It.next;if(s!==null)It=s,yt=r;else{if(r===null)throw Error(t(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},It===null?rt.memoizedState=It=r:It=It.next=r}return It}function ba(r,s){return typeof s=="function"?s(r):s}function ad(r){var s=Tn(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=r;var h=yt,p=h.baseQueue,g=u.pending;if(g!==null){if(p!==null){var E=p.next;p.next=g.next,g.next=E}h.baseQueue=p=g,u.pending=null}if(p!==null){g=p.next,h=h.baseState;var R=E=null,x=null,B=g;do{var X=B.lane;if((ls&X)===X)x!==null&&(x=x.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),h=B.hasEagerState?B.eagerState:r(h,B.action);else{var Z={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};x===null?(R=x=Z,E=h):x=x.next=Z,rt.lanes|=X,cs|=X}B=B.next}while(B!==null&&B!==g);x===null?E=h:x.next=R,Fn(h,s.memoizedState)||(tn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=x,u.lastRenderedState=h}if(r=u.interleaved,r!==null){p=r;do g=p.lane,rt.lanes|=g,cs|=g,p=p.next;while(p!==r)}else p===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function ud(r){var s=Tn(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=r;var h=u.dispatch,p=u.pending,g=s.memoizedState;if(p!==null){u.pending=null;var E=p=p.next;do g=r(g,E.action),E=E.next;while(E!==p);Fn(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),u.lastRenderedState=g}return[g,h]}function Dm(){}function Nm(r,s){var u=rt,h=Tn(),p=s(),g=!Fn(h.memoizedState,p);if(g&&(h.memoizedState=p,tn=!0),h=h.queue,ld(Vm.bind(null,u,h,r),[r]),h.getSnapshot!==s||g||It!==null&&It.memoizedState.tag&1){if(u.flags|=2048,La(9,Lm.bind(null,u,h,p,s),void 0,null),St===null)throw Error(t(349));ls&30||bm(u,s,p)}return p}function bm(r,s,u){r.flags|=16384,r={getSnapshot:s,value:u},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[r]):(u=s.stores,u===null?s.stores=[r]:u.push(r))}function Lm(r,s,u,h){s.value=u,s.getSnapshot=h,Mm(s)&&Fm(r)}function Vm(r,s,u){return u(function(){Mm(s)&&Fm(r)})}function Mm(r){var s=r.getSnapshot;r=r.value;try{var u=s();return!Fn(r,u)}catch{return!0}}function Fm(r){var s=kr(r,1);s!==null&&Bn(s,r,1,-1)}function Um(r){var s=rr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:r},s.queue=r,r=r.dispatch=hT.bind(null,rt,r),[s.memoizedState,r]}function La(r,s,u,h){return r={tag:r,create:s,destroy:u,deps:h,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=r.next=r):(u=s.lastEffect,u===null?s.lastEffect=r.next=r:(h=u.next,u.next=r,r.next=h,s.lastEffect=r)),r}function jm(){return Tn().memoizedState}function Tl(r,s,u,h){var p=rr();rt.flags|=r,p.memoizedState=La(1|s,u,void 0,h===void 0?null:h)}function Il(r,s,u,h){var p=Tn();h=h===void 0?null:h;var g=void 0;if(yt!==null){var E=yt.memoizedState;if(g=E.destroy,h!==null&&id(h,E.deps)){p.memoizedState=La(s,u,g,h);return}}rt.flags|=r,p.memoizedState=La(1|s,u,g,h)}function $m(r,s){return Tl(8390656,8,r,s)}function ld(r,s){return Il(2048,8,r,s)}function zm(r,s){return Il(4,2,r,s)}function Bm(r,s){return Il(4,4,r,s)}function qm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Hm(r,s,u){return u=u!=null?u.concat([r]):null,Il(4,4,qm.bind(null,s,r),u)}function cd(){}function Wm(r,s){var u=Tn();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&id(s,h[1])?h[0]:(u.memoizedState=[r,s],r)}function Qm(r,s){var u=Tn();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&id(s,h[1])?h[0]:(r=r(),u.memoizedState=[r,s],r)}function Km(r,s,u){return ls&21?(Fn(u,s)||(u=Xi(),rt.lanes|=u,cs|=u,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,tn=!0),r.memoizedState=u)}function lT(r,s){var u=xe;xe=u!==0&&4>u?u:4,r(!0);var h=rd.transition;rd.transition={};try{r(!1),s()}finally{xe=u,rd.transition=h}}function Gm(){return Tn().memoizedState}function cT(r,s,u){var h=fi(r);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Ym(r))Jm(s,u);else if(u=Am(r,s,u,h),u!==null){var p=Qt();Bn(u,r,h,p),Xm(u,s,h)}}function hT(r,s,u){var h=fi(r),p={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ym(r))Jm(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,R=g(E,u);if(p.hasEagerState=!0,p.eagerState=R,Fn(R,E)){var x=s.interleaved;x===null?(p.next=p,Jh(s)):(p.next=x.next,x.next=p),s.interleaved=p;return}}catch{}finally{}u=Am(r,s,p,h),u!==null&&(p=Qt(),Bn(u,r,h,p),Xm(u,s,h))}}function Ym(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function Jm(r,s){Da=wl=!0;var u=r.pending;u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s}function Xm(r,s,u){if(u&4194240){var h=s.lanes;h&=r.pendingLanes,u|=h,s.lanes=u,Xr(r,u)}}var Sl={readContext:wn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},dT={readContext:wn,useCallback:function(r,s){return rr().memoizedState=[r,s===void 0?null:s],r},useContext:wn,useEffect:$m,useImperativeHandle:function(r,s,u){return u=u!=null?u.concat([r]):null,Tl(4194308,4,qm.bind(null,s,r),u)},useLayoutEffect:function(r,s){return Tl(4194308,4,r,s)},useInsertionEffect:function(r,s){return Tl(4,2,r,s)},useMemo:function(r,s){var u=rr();return s=s===void 0?null:s,r=r(),u.memoizedState=[r,s],r},useReducer:function(r,s,u){var h=rr();return s=u!==void 0?u(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=cT.bind(null,rt,r),[h.memoizedState,r]},useRef:function(r){var s=rr();return r={current:r},s.memoizedState=r},useState:Um,useDebugValue:cd,useDeferredValue:function(r){return rr().memoizedState=r},useTransition:function(){var r=Um(!1),s=r[0];return r=lT.bind(null,r[1]),rr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,u){var h=rt,p=rr();if(Ze){if(u===void 0)throw Error(t(407));u=u()}else{if(u=s(),St===null)throw Error(t(349));ls&30||bm(h,s,u)}p.memoizedState=u;var g={value:u,getSnapshot:s};return p.queue=g,$m(Vm.bind(null,h,g,r),[r]),h.flags|=2048,La(9,Lm.bind(null,h,g,u,s),void 0,null),u},useId:function(){var r=rr(),s=St.identifierPrefix;if(Ze){var u=Pr,h=Ar;u=(h&~(1<<32-qt(h)-1)).toString(32)+u,s=":"+s+"R"+u,u=Na++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=uT++,s=":"+s+"r"+u.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},fT={readContext:wn,useCallback:Wm,useContext:wn,useEffect:ld,useImperativeHandle:Hm,useInsertionEffect:zm,useLayoutEffect:Bm,useMemo:Qm,useReducer:ad,useRef:jm,useState:function(){return ad(ba)},useDebugValue:cd,useDeferredValue:function(r){var s=Tn();return Km(s,yt.memoizedState,r)},useTransition:function(){var r=ad(ba)[0],s=Tn().memoizedState;return[r,s]},useMutableSource:Dm,useSyncExternalStore:Nm,useId:Gm,unstable_isNewReconciler:!1},pT={readContext:wn,useCallback:Wm,useContext:wn,useEffect:ld,useImperativeHandle:Hm,useInsertionEffect:zm,useLayoutEffect:Bm,useMemo:Qm,useReducer:ud,useRef:jm,useState:function(){return ud(ba)},useDebugValue:cd,useDeferredValue:function(r){var s=Tn();return yt===null?s.memoizedState=r:Km(s,yt.memoizedState,r)},useTransition:function(){var r=ud(ba)[0],s=Tn().memoizedState;return[r,s]},useMutableSource:Dm,useSyncExternalStore:Nm,useId:Gm,unstable_isNewReconciler:!1};function jn(r,s){if(r&&r.defaultProps){s=re({},s),r=r.defaultProps;for(var u in r)s[u]===void 0&&(s[u]=r[u]);return s}return s}function hd(r,s,u,h){s=r.memoizedState,u=u(h,s),u=u==null?s:re({},s,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Rl={isMounted:function(r){return(r=r._reactInternals)?On(r)===r:!1},enqueueSetState:function(r,s,u){r=r._reactInternals;var h=Qt(),p=fi(r),g=xr(h,p);g.payload=s,u!=null&&(g.callback=u),s=li(r,g,p),s!==null&&(Bn(s,r,p,h),yl(s,r,p))},enqueueReplaceState:function(r,s,u){r=r._reactInternals;var h=Qt(),p=fi(r),g=xr(h,p);g.tag=1,g.payload=s,u!=null&&(g.callback=u),s=li(r,g,p),s!==null&&(Bn(s,r,p,h),yl(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var u=Qt(),h=fi(r),p=xr(u,h);p.tag=2,s!=null&&(p.callback=s),s=li(r,p,h),s!==null&&(Bn(s,r,h,u),yl(s,r,h))}};function Zm(r,s,u,h,p,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,E):s.prototype&&s.prototype.isPureReactComponent?!wa(u,h)||!wa(p,g):!0}function eg(r,s,u){var h=!1,p=oi,g=s.contextType;return typeof g=="object"&&g!==null?g=wn(g):(p=en(s)?is:bt.current,h=s.contextTypes,g=(h=h!=null)?lo(r,p):oi),s=new s(u,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Rl,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=g),s}function tg(r,s,u,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==r&&Rl.enqueueReplaceState(s,s.state,null)}function dd(r,s,u,h){var p=r.stateNode;p.props=u,p.state=r.memoizedState,p.refs={},Xh(r);var g=s.contextType;typeof g=="object"&&g!==null?p.context=wn(g):(g=en(s)?is:bt.current,p.context=lo(r,g)),p.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(hd(r,s,g,u),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Rl.enqueueReplaceState(p,p.state,null),_l(r,u,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function _o(r,s){try{var u="",h=s;do u+=Ce(h),h=h.return;while(h);var p=u}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:p,digest:null}}function fd(r,s,u){return{value:r,source:null,stack:u??null,digest:s??null}}function pd(r,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var mT=typeof WeakMap=="function"?WeakMap:Map;function ng(r,s,u){u=xr(-1,u),u.tag=3,u.payload={element:null};var h=s.value;return u.callback=function(){Dl||(Dl=!0,kd=h),pd(r,s)},u}function rg(r,s,u){u=xr(-1,u),u.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;u.payload=function(){return h(p)},u.callback=function(){pd(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(u.callback=function(){pd(r,s),typeof h!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),u}function ig(r,s,u){var h=r.pingCache;if(h===null){h=r.pingCache=new mT;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(u)||(p.add(u),r=kT.bind(null,r,s,u),s.then(r,r))}function sg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function og(r,s,u,h,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=xr(-1,1),s.tag=2,li(u,s,1))),u.lanes|=1),r)}var gT=oe.ReactCurrentOwner,tn=!1;function Wt(r,s,u,h){s.child=r===null?Cm(s,null,u,h):po(s,r.child,u,h)}function ag(r,s,u,h,p){u=u.render;var g=s.ref;return go(s,p),h=sd(r,s,u,h,g,p),u=od(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Or(r,s,p)):(Ze&&u&&zh(s),s.flags|=1,Wt(r,s,h,p),s.child)}function ug(r,s,u,h,p){if(r===null){var g=u.type;return typeof g=="function"&&!Vd(g)&&g.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=g,lg(r,s,g,h,p)):(r=Fl(u.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&p)){var E=g.memoizedProps;if(u=u.compare,u=u!==null?u:wa,u(E,h)&&r.ref===s.ref)return Or(r,s,p)}return s.flags|=1,r=mi(g,h),r.ref=s.ref,r.return=s,s.child=r}function lg(r,s,u,h,p){if(r!==null){var g=r.memoizedProps;if(wa(g,h)&&r.ref===s.ref)if(tn=!1,s.pendingProps=h=g,(r.lanes&p)!==0)r.flags&131072&&(tn=!0);else return s.lanes=r.lanes,Or(r,s,p)}return md(r,s,u,h,p)}function cg(r,s,u){var h=s.pendingProps,p=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Eo,pn),pn|=u;else{if(!(u&1073741824))return r=g!==null?g.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(Eo,pn),pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:u,Ke(Eo,pn),pn|=h}else g!==null?(h=g.baseLanes|u,s.memoizedState=null):h=u,Ke(Eo,pn),pn|=h;return Wt(r,s,p,u),s.child}function hg(r,s){var u=s.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function md(r,s,u,h,p){var g=en(u)?is:bt.current;return g=lo(s,g),go(s,p),u=sd(r,s,u,h,g,p),h=od(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Or(r,s,p)):(Ze&&h&&zh(s),s.flags|=1,Wt(r,s,u,p),s.child)}function dg(r,s,u,h,p){if(en(u)){var g=!0;ll(s)}else g=!1;if(go(s,p),s.stateNode===null)Al(r,s),eg(s,u,h),dd(s,u,h,p),h=!0;else if(r===null){var E=s.stateNode,R=s.memoizedProps;E.props=R;var x=E.context,B=u.contextType;typeof B=="object"&&B!==null?B=wn(B):(B=en(u)?is:bt.current,B=lo(s,B));var X=u.getDerivedStateFromProps,Z=typeof X=="function"||typeof E.getSnapshotBeforeUpdate=="function";Z||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==h||x!==B)&&tg(s,E,h,B),ui=!1;var J=s.memoizedState;E.state=J,_l(s,h,E,p),x=s.memoizedState,R!==h||J!==x||Zt.current||ui?(typeof X=="function"&&(hd(s,u,X,h),x=s.memoizedState),(R=ui||Zm(s,u,R,h,J,x,B))?(Z||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=x),E.props=h,E.state=x,E.context=B,h=R):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,Pm(r,s),R=s.memoizedProps,B=s.type===s.elementType?R:jn(s.type,R),E.props=B,Z=s.pendingProps,J=E.context,x=u.contextType,typeof x=="object"&&x!==null?x=wn(x):(x=en(u)?is:bt.current,x=lo(s,x));var ie=u.getDerivedStateFromProps;(X=typeof ie=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==Z||J!==x)&&tg(s,E,h,x),ui=!1,J=s.memoizedState,E.state=J,_l(s,h,E,p);var ce=s.memoizedState;R!==Z||J!==ce||Zt.current||ui?(typeof ie=="function"&&(hd(s,u,ie,h),ce=s.memoizedState),(B=ui||Zm(s,u,B,h,J,ce,x)||!1)?(X||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ce,x),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ce,x)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ce),E.props=h,E.state=ce,E.context=x,h=B):(typeof E.componentDidUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),h=!1)}return gd(r,s,u,h,g,p)}function gd(r,s,u,h,p,g){hg(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return p&&ym(s,u,!1),Or(r,s,g);h=s.stateNode,gT.current=s;var R=E&&typeof u.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=po(s,r.child,null,g),s.child=po(s,null,R,g)):Wt(r,s,R,g),s.memoizedState=h.state,p&&ym(s,u,!0),s.child}function fg(r){var s=r.stateNode;s.pendingContext?mm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&mm(r,s.context,!1),Zh(r,s.containerInfo)}function pg(r,s,u,h,p){return fo(),Wh(p),s.flags|=256,Wt(r,s,u,h),s.child}var yd={dehydrated:null,treeContext:null,retryLane:0};function _d(r){return{baseLanes:r,cachePool:null,transitions:null}}function mg(r,s,u){var h=s.pendingProps,p=nt.current,g=!1,E=(s.flags&128)!==0,R;if((R=E)||(R=r!==null&&r.memoizedState===null?!1:(p&2)!==0),R?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ke(nt,p&1),r===null)return Hh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=h.children,r=h.fallback,g?(h=s.mode,g=s.child,E={mode:"hidden",children:E},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Ul(E,h,0,null),r=ps(r,h,u,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=_d(u),s.memoizedState=yd,r):vd(s,E));if(p=r.memoizedState,p!==null&&(R=p.dehydrated,R!==null))return yT(r,s,E,h,R,p,u);if(g){g=h.fallback,E=s.mode,p=r.child,R=p.sibling;var x={mode:"hidden",children:h.children};return!(E&1)&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=x,s.deletions=null):(h=mi(p,x),h.subtreeFlags=p.subtreeFlags&14680064),R!==null?g=mi(R,g):(g=ps(g,E,u,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,E=r.child.memoizedState,E=E===null?_d(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~u,s.memoizedState=yd,h}return g=r.child,r=g.sibling,h=mi(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=u),h.return=s,h.sibling=null,r!==null&&(u=s.deletions,u===null?(s.deletions=[r],s.flags|=16):u.push(r)),s.child=h,s.memoizedState=null,h}function vd(r,s){return s=Ul({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Cl(r,s,u,h){return h!==null&&Wh(h),po(s,r.child,null,u),r=vd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function yT(r,s,u,h,p,g,E){if(u)return s.flags&256?(s.flags&=-257,h=fd(Error(t(422))),Cl(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,p=s.mode,h=Ul({mode:"visible",children:h.children},p,0,null),g=ps(g,p,E,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&po(s,r.child,null,E),s.child.memoizedState=_d(E),s.memoizedState=yd,g);if(!(s.mode&1))return Cl(r,s,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var R=h.dgst;return h=R,g=Error(t(419)),h=fd(g,h,void 0),Cl(r,s,E,h)}if(R=(E&r.childLanes)!==0,tn||R){if(h=St,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(h.suspendedLanes|E)?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,kr(r,p),Bn(h,r,p,-1))}return Ld(),h=fd(Error(t(421))),Cl(r,s,E,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=xT.bind(null,r),p._reactRetry=s,null):(r=g.treeContext,fn=ii(p.nextSibling),dn=s,Ze=!0,Un=null,r!==null&&(vn[En++]=Ar,vn[En++]=Pr,vn[En++]=ss,Ar=r.id,Pr=r.overflow,ss=s),s=vd(s,h.children),s.flags|=4096,s)}function gg(r,s,u){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Yh(r.return,s,u)}function Ed(r,s,u,h,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=u,g.tailMode=p)}function yg(r,s,u){var h=s.pendingProps,p=h.revealOrder,g=h.tail;if(Wt(r,s,h.children,u),h=nt.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&gg(r,u,s);else if(r.tag===19)gg(r,u,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ke(nt,h),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(u=s.child,p=null;u!==null;)r=u.alternate,r!==null&&vl(r)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),Ed(s,!1,p,u,g);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&vl(r)===null){s.child=p;break}r=p.sibling,p.sibling=u,u=p,p=r}Ed(s,!0,u,null,g);break;case"together":Ed(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Al(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Or(r,s,u){if(r!==null&&(s.dependencies=r.dependencies),cs|=s.lanes,!(u&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,u=mi(r,r.pendingProps),s.child=u,u.return=s;r.sibling!==null;)r=r.sibling,u=u.sibling=mi(r,r.pendingProps),u.return=s;u.sibling=null}return s.child}function _T(r,s,u){switch(s.tag){case 3:fg(s),fo();break;case 5:Om(s);break;case 1:en(s.type)&&ll(s);break;case 4:Zh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;Ke(ml,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ke(nt,nt.current&1),s.flags|=128,null):u&s.child.childLanes?mg(r,s,u):(Ke(nt,nt.current&1),r=Or(r,s,u),r!==null?r.sibling:null);Ke(nt,nt.current&1);break;case 19:if(h=(u&s.childLanes)!==0,r.flags&128){if(h)return yg(r,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ke(nt,nt.current),h)break;return null;case 22:case 23:return s.lanes=0,cg(r,s,u)}return Or(r,s,u)}var _g,wd,vg,Eg;_g=function(r,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},wd=function(){},vg=function(r,s,u,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,us(nr.current);var g=null;switch(u){case"input":p=$i(r,p),h=$i(r,h),g=[];break;case"select":p=re({},p,{value:void 0}),h=re({},h,{value:void 0}),g=[];break;case"textarea":p=Yo(r,p),h=Yo(r,h),g=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=ol)}na(u,h);var E;u=null;for(B in p)if(!h.hasOwnProperty(B)&&p.hasOwnProperty(B)&&p[B]!=null)if(B==="style"){var R=p[B];for(E in R)R.hasOwnProperty(E)&&(u||(u={}),u[E]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?g||(g=[]):(g=g||[]).push(B,null));for(B in h){var x=h[B];if(R=p!=null?p[B]:void 0,h.hasOwnProperty(B)&&x!==R&&(x!=null||R!=null))if(B==="style")if(R){for(E in R)!R.hasOwnProperty(E)||x&&x.hasOwnProperty(E)||(u||(u={}),u[E]="");for(E in x)x.hasOwnProperty(E)&&R[E]!==x[E]&&(u||(u={}),u[E]=x[E])}else u||(g||(g=[]),g.push(B,u)),u=x;else B==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,R=R?R.__html:void 0,x!=null&&R!==x&&(g=g||[]).push(B,x)):B==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push(B,""+x):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(x!=null&&B==="onScroll"&&Ge("scroll",r),g||R===x||(g=[])):(g=g||[]).push(B,x))}u&&(g=g||[]).push("style",u);var B=g;(s.updateQueue=B)&&(s.flags|=4)}},Eg=function(r,s,u,h){u!==h&&(s.flags|=4)};function Va(r,s){if(!Ze)switch(r.tailMode){case"hidden":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Vt(r){var s=r.alternate!==null&&r.alternate.child===r.child,u=0,h=0;if(s)for(var p=r.child;p!==null;)u|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)u|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=u,s}function vT(r,s,u){var h=s.pendingProps;switch(Bh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(s),null;case 1:return en(s.type)&&ul(),Vt(s),null;case 3:return h=s.stateNode,yo(),Ye(Zt),Ye(bt),nd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(fl(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Un!==null&&(Dd(Un),Un=null))),wd(r,s),Vt(s),null;case 5:ed(s);var p=us(Oa.current);if(u=s.type,r!==null&&s.stateNode!=null)vg(r,s,u,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Vt(s),null}if(r=us(nr.current),fl(s)){h=s.stateNode,u=s.type;var g=s.memoizedProps;switch(h[tr]=s,h[Ca]=g,r=(s.mode&1)!==0,u){case"dialog":Ge("cancel",h),Ge("close",h);break;case"iframe":case"object":case"embed":Ge("load",h);break;case"video":case"audio":for(p=0;p<Ia.length;p++)Ge(Ia[p],h);break;case"source":Ge("error",h);break;case"img":case"image":case"link":Ge("error",h),Ge("load",h);break;case"details":Ge("toggle",h);break;case"input":Os(h,g),Ge("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Ge("invalid",h);break;case"textarea":Ns(h,g),Ge("invalid",h)}na(u,g),p=null;for(var E in g)if(g.hasOwnProperty(E)){var R=g[E];E==="children"?typeof R=="string"?h.textContent!==R&&(g.suppressHydrationWarning!==!0&&sl(h.textContent,R,r),p=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&sl(h.textContent,R,r),p=["children",""+R]):o.hasOwnProperty(E)&&R!=null&&E==="onScroll"&&Ge("scroll",h)}switch(u){case"input":mr(h),Ou(h,g,!0);break;case"textarea":mr(h),Jo(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=ol)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(u,{is:h.is}):(r=E.createElement(u),u==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,u),r[tr]=s,r[Ca]=h,_g(r,s,!1,!1),s.stateNode=r;e:{switch(E=ra(u,h),u){case"dialog":Ge("cancel",r),Ge("close",r),p=h;break;case"iframe":case"object":case"embed":Ge("load",r),p=h;break;case"video":case"audio":for(p=0;p<Ia.length;p++)Ge(Ia[p],r);p=h;break;case"source":Ge("error",r),p=h;break;case"img":case"image":case"link":Ge("error",r),Ge("load",r),p=h;break;case"details":Ge("toggle",r),p=h;break;case"input":Os(r,h),p=$i(r,h),Ge("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=re({},h,{value:void 0}),Ge("invalid",r);break;case"textarea":Ns(r,h),p=Yo(r,h),Ge("invalid",r);break;default:p=h}na(u,p),R=p;for(g in R)if(R.hasOwnProperty(g)){var x=R[g];g==="style"?ea(r,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Xo(r,x)):g==="children"?typeof x=="string"?(u!=="textarea"||x!=="")&&Qr(r,x):typeof x=="number"&&Qr(r,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&Ge("scroll",r):x!=null&&W(r,g,x,E))}switch(u){case"input":mr(r),Ou(r,h,!1);break;case"textarea":mr(r),Jo(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ue(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?yr(r,!!h.multiple,g,!1):h.defaultValue!=null&&yr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=ol)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Vt(s),null;case 6:if(r&&s.stateNode!=null)Eg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(u=us(Oa.current),us(nr.current),fl(s)){if(h=s.stateNode,u=s.memoizedProps,h[tr]=s,(g=h.nodeValue!==u)&&(r=dn,r!==null))switch(r.tag){case 3:sl(h.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&sl(h.nodeValue,u,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[tr]=s,s.stateNode=h}return Vt(s),null;case 13:if(Ye(nt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ze&&fn!==null&&s.mode&1&&!(s.flags&128))Im(),fo(),s.flags|=98560,g=!1;else if(g=fl(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[tr]=s}else fo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Vt(s),g=!1}else Un!==null&&(Dd(Un),Un=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=u,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||nt.current&1?_t===0&&(_t=3):Ld())),s.updateQueue!==null&&(s.flags|=4),Vt(s),null);case 4:return yo(),wd(r,s),r===null&&Sa(s.stateNode.containerInfo),Vt(s),null;case 10:return Gh(s.type._context),Vt(s),null;case 17:return en(s.type)&&ul(),Vt(s),null;case 19:if(Ye(nt),g=s.memoizedState,g===null)return Vt(s),null;if(h=(s.flags&128)!==0,E=g.rendering,E===null)if(h)Va(g,!1);else{if(_t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=vl(r),E!==null){for(s.flags|=128,Va(g,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=u,u=s.child;u!==null;)g=u,r=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return Ke(nt,nt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Qe()>wo&&(s.flags|=128,h=!0,Va(g,!1),s.lanes=4194304)}else{if(!h)if(r=vl(E),r!==null){if(s.flags|=128,h=!0,u=r.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),Va(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Ze)return Vt(s),null}else 2*Qe()-g.renderingStartTime>wo&&u!==1073741824&&(s.flags|=128,h=!0,Va(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(u=g.last,u!==null?u.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Qe(),s.sibling=null,u=nt.current,Ke(nt,h?u&1|2:u&1),s):(Vt(s),null);case 22:case 23:return bd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?pn&1073741824&&(Vt(s),s.subtreeFlags&6&&(s.flags|=8192)):Vt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function ET(r,s){switch(Bh(s),s.tag){case 1:return en(s.type)&&ul(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return yo(),Ye(Zt),Ye(bt),nd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return ed(s),null;case 13:if(Ye(nt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ye(nt),null;case 4:return yo(),null;case 10:return Gh(s.type._context),null;case 22:case 23:return bd(),null;case 24:return null;default:return null}}var Pl=!1,Mt=!1,wT=typeof WeakSet=="function"?WeakSet:Set,ue=null;function vo(r,s){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){st(r,s,h)}else u.current=null}function Td(r,s,u){try{u()}catch(h){st(r,s,h)}}var wg=!1;function TT(r,s){if(bh=ti,r=Zp(),Ch(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var p=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{u.nodeType,g.nodeType}catch{u=null;break e}var E=0,R=-1,x=-1,B=0,X=0,Z=r,J=null;t:for(;;){for(var ie;Z!==u||p!==0&&Z.nodeType!==3||(R=E+p),Z!==g||h!==0&&Z.nodeType!==3||(x=E+h),Z.nodeType===3&&(E+=Z.nodeValue.length),(ie=Z.firstChild)!==null;)J=Z,Z=ie;for(;;){if(Z===r)break t;if(J===u&&++B===p&&(R=E),J===g&&++X===h&&(x=E),(ie=Z.nextSibling)!==null)break;Z=J,J=Z.parentNode}Z=ie}u=R===-1||x===-1?null:{start:R,end:x}}else u=null}u=u||{start:0,end:0}}else u=null;for(Lh={focusedElem:r,selectionRange:u},ti=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var ce=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,ut=ce.memoizedState,j=s.stateNode,N=j.getSnapshotBeforeUpdate(s.elementType===s.type?he:jn(s.type,he),ut);j.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){st(s,s.return,ee)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return ce=wg,wg=!1,ce}function Ma(r,s,u){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var g=p.destroy;p.destroy=void 0,g!==void 0&&Td(s,u,g)}p=p.next}while(p!==h)}}function kl(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&r)===r){var h=u.create;u.destroy=h()}u=u.next}while(u!==s)}}function Id(r){var s=r.ref;if(s!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof s=="function"?s(r):s.current=r}}function Tg(r){var s=r.alternate;s!==null&&(r.alternate=null,Tg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[tr],delete s[Ca],delete s[Uh],delete s[iT],delete s[sT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ig(r){return r.tag===5||r.tag===3||r.tag===4}function Sg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ig(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Sd(r,s,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(r,s):u.insertBefore(r,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(r,u)):(s=u,s.appendChild(r)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=ol));else if(h!==4&&(r=r.child,r!==null))for(Sd(r,s,u),r=r.sibling;r!==null;)Sd(r,s,u),r=r.sibling}function Rd(r,s,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?u.insertBefore(r,s):u.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Rd(r,s,u),r=r.sibling;r!==null;)Rd(r,s,u),r=r.sibling}var kt=null,$n=!1;function ci(r,s,u){for(u=u.child;u!==null;)Rg(r,s,u),u=u.sibling}function Rg(r,s,u){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Yi,u)}catch{}switch(u.tag){case 5:Mt||vo(u,s);case 6:var h=kt,p=$n;kt=null,ci(r,s,u),kt=h,$n=p,kt!==null&&($n?(r=kt,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):kt.removeChild(u.stateNode));break;case 18:kt!==null&&($n?(r=kt,u=u.stateNode,r.nodeType===8?Fh(r.parentNode,u):r.nodeType===1&&Fh(r,u),Vn(r)):Fh(kt,u.stateNode));break;case 4:h=kt,p=$n,kt=u.stateNode.containerInfo,$n=!0,ci(r,s,u),kt=h,$n=p;break;case 0:case 11:case 14:case 15:if(!Mt&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var g=p,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&Td(u,s,E),p=p.next}while(p!==h)}ci(r,s,u);break;case 1:if(!Mt&&(vo(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(R){st(u,s,R)}ci(r,s,u);break;case 21:ci(r,s,u);break;case 22:u.mode&1?(Mt=(h=Mt)||u.memoizedState!==null,ci(r,s,u),Mt=h):ci(r,s,u);break;default:ci(r,s,u)}}function Cg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new wT),s.forEach(function(h){var p=OT.bind(null,r,h);u.has(h)||(u.add(h),h.then(p,p))})}}function zn(r,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var p=u[h];try{var g=r,E=s,R=E;e:for(;R!==null;){switch(R.tag){case 5:kt=R.stateNode,$n=!1;break e;case 3:kt=R.stateNode.containerInfo,$n=!0;break e;case 4:kt=R.stateNode.containerInfo,$n=!0;break e}R=R.return}if(kt===null)throw Error(t(160));Rg(g,E,p),kt=null,$n=!1;var x=p.alternate;x!==null&&(x.return=null),p.return=null}catch(B){st(p,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ag(s,r),s=s.sibling}function Ag(r,s){var u=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(zn(s,r),ir(r),h&4){try{Ma(3,r,r.return),kl(3,r)}catch(he){st(r,r.return,he)}try{Ma(5,r,r.return)}catch(he){st(r,r.return,he)}}break;case 1:zn(s,r),ir(r),h&512&&u!==null&&vo(u,u.return);break;case 5:if(zn(s,r),ir(r),h&512&&u!==null&&vo(u,u.return),r.flags&32){var p=r.stateNode;try{Qr(p,"")}catch(he){st(r,r.return,he)}}if(h&4&&(p=r.stateNode,p!=null)){var g=r.memoizedProps,E=u!==null?u.memoizedProps:g,R=r.type,x=r.updateQueue;if(r.updateQueue=null,x!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&Ko(p,g),ra(R,E);var B=ra(R,g);for(E=0;E<x.length;E+=2){var X=x[E],Z=x[E+1];X==="style"?ea(p,Z):X==="dangerouslySetInnerHTML"?Xo(p,Z):X==="children"?Qr(p,Z):W(p,X,Z,B)}switch(R){case"input":Go(p,g);break;case"textarea":bs(p,g);break;case"select":var J=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var ie=g.value;ie!=null?yr(p,!!g.multiple,ie,!1):J!==!!g.multiple&&(g.defaultValue!=null?yr(p,!!g.multiple,g.defaultValue,!0):yr(p,!!g.multiple,g.multiple?[]:"",!1))}p[Ca]=g}catch(he){st(r,r.return,he)}}break;case 6:if(zn(s,r),ir(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,g=r.memoizedProps;try{p.nodeValue=g}catch(he){st(r,r.return,he)}}break;case 3:if(zn(s,r),ir(r),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Vn(s.containerInfo)}catch(he){st(r,r.return,he)}break;case 4:zn(s,r),ir(r);break;case 13:zn(s,r),ir(r),p=r.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Pd=Qe())),h&4&&Cg(r);break;case 22:if(X=u!==null&&u.memoizedState!==null,r.mode&1?(Mt=(B=Mt)||X,zn(s,r),Mt=B):zn(s,r),ir(r),h&8192){if(B=r.memoizedState!==null,(r.stateNode.isHidden=B)&&!X&&r.mode&1)for(ue=r,X=r.child;X!==null;){for(Z=ue=X;ue!==null;){switch(J=ue,ie=J.child,J.tag){case 0:case 11:case 14:case 15:Ma(4,J,J.return);break;case 1:vo(J,J.return);var ce=J.stateNode;if(typeof ce.componentWillUnmount=="function"){h=J,u=J.return;try{s=h,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(he){st(h,u,he)}}break;case 5:vo(J,J.return);break;case 22:if(J.memoizedState!==null){xg(Z);continue}}ie!==null?(ie.return=J,ue=ie):xg(Z)}X=X.sibling}e:for(X=null,Z=r;;){if(Z.tag===5){if(X===null){X=Z;try{p=Z.stateNode,B?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=Z.stateNode,x=Z.memoizedProps.style,E=x!=null&&x.hasOwnProperty("display")?x.display:null,R.style.display=Zo("display",E))}catch(he){st(r,r.return,he)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=B?"":Z.memoizedProps}catch(he){st(r,r.return,he)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:zn(s,r),ir(r),h&4&&Cg(r);break;case 21:break;default:zn(s,r),ir(r)}}function ir(r){var s=r.flags;if(s&2){try{e:{for(var u=r.return;u!==null;){if(Ig(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Qr(p,""),h.flags&=-33);var g=Sg(r);Rd(r,g,p);break;case 3:case 4:var E=h.stateNode.containerInfo,R=Sg(r);Sd(r,R,E);break;default:throw Error(t(161))}}catch(x){st(r,r.return,x)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function IT(r,s,u){ue=r,Pg(r)}function Pg(r,s,u){for(var h=(r.mode&1)!==0;ue!==null;){var p=ue,g=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||Pl;if(!E){var R=p.alternate,x=R!==null&&R.memoizedState!==null||Mt;R=Pl;var B=Mt;if(Pl=E,(Mt=x)&&!B)for(ue=p;ue!==null;)E=ue,x=E.child,E.tag===22&&E.memoizedState!==null?Og(p):x!==null?(x.return=E,ue=x):Og(p);for(;g!==null;)ue=g,Pg(g),g=g.sibling;ue=p,Pl=R,Mt=B}kg(r)}else p.subtreeFlags&8772&&g!==null?(g.return=p,ue=g):kg(r)}}function kg(r){for(;ue!==null;){var s=ue;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Mt||kl(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Mt)if(u===null)h.componentDidMount();else{var p=s.elementType===s.type?u.memoizedProps:jn(s.type,u.memoizedProps);h.componentDidUpdate(p,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&xm(s,g,h);break;case 3:var E=s.updateQueue;if(E!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}xm(s,E,u)}break;case 5:var R=s.stateNode;if(u===null&&s.flags&4){u=R;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&u.focus();break;case"img":x.src&&(u.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&Vn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||s.flags&512&&Id(s)}catch(J){st(s,s.return,J)}}if(s===r){ue=null;break}if(u=s.sibling,u!==null){u.return=s.return,ue=u;break}ue=s.return}}function xg(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var u=s.sibling;if(u!==null){u.return=s.return,ue=u;break}ue=s.return}}function Og(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{kl(4,s)}catch(x){st(s,u,x)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(x){st(s,p,x)}}var g=s.return;try{Id(s)}catch(x){st(s,g,x)}break;case 5:var E=s.return;try{Id(s)}catch(x){st(s,E,x)}}}catch(x){st(s,s.return,x)}if(s===r){ue=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ue=R;break}ue=s.return}}var ST=Math.ceil,xl=oe.ReactCurrentDispatcher,Cd=oe.ReactCurrentOwner,In=oe.ReactCurrentBatchConfig,Ve=0,St=null,ht=null,xt=0,pn=0,Eo=si(0),_t=0,Fa=null,cs=0,Ol=0,Ad=0,Ua=null,nn=null,Pd=0,wo=1/0,Dr=null,Dl=!1,kd=null,hi=null,Nl=!1,di=null,bl=0,ja=0,xd=null,Ll=-1,Vl=0;function Qt(){return Ve&6?Qe():Ll!==-1?Ll:Ll=Qe()}function fi(r){return r.mode&1?Ve&2&&xt!==0?xt&-xt:aT.transition!==null?(Vl===0&&(Vl=Xi()),Vl):(r=xe,r!==0||(r=window.event,r=r===void 0?16:pa(r.type)),r):1}function Bn(r,s,u,h){if(50<ja)throw ja=0,xd=null,Error(t(185));Jr(r,u,h),(!(Ve&2)||r!==St)&&(r===St&&(!(Ve&2)&&(Ol|=u),_t===4&&pi(r,xt)),rn(r,h),u===1&&Ve===0&&!(s.mode&1)&&(wo=Qe()+500,cl&&ai()))}function rn(r,s){var u=r.callbackNode;Er(r,s);var h=Ji(r,r===St?xt:0);if(h===0)u!==null&&la(u),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(u!=null&&la(u),s===1)r.tag===0?oT(Ng.bind(null,r)):_m(Ng.bind(null,r)),nT(function(){!(Ve&6)&&ai()}),u=null;else{switch(Zr(h)){case 1:u=Gi;break;case 4:u=Kr;break;case 16:u=gn;break;case 536870912:u=Vu;break;default:u=gn}u=$g(u,Dg.bind(null,r))}r.callbackPriority=s,r.callbackNode=u}}function Dg(r,s){if(Ll=-1,Vl=0,Ve&6)throw Error(t(327));var u=r.callbackNode;if(To()&&r.callbackNode!==u)return null;var h=Ji(r,r===St?xt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Ml(r,h);else{s=h;var p=Ve;Ve|=2;var g=Lg();(St!==r||xt!==s)&&(Dr=null,wo=Qe()+500,ds(r,s));do try{AT();break}catch(R){bg(r,R)}while(!0);Kh(),xl.current=g,Ve=p,ht!==null?s=0:(St=null,xt=0,s=_t)}if(s!==0){if(s===2&&(p=ln(r),p!==0&&(h=p,s=Od(r,p))),s===1)throw u=Fa,ds(r,0),pi(r,h),rn(r,Qe()),u;if(s===6)pi(r,h);else{if(p=r.current.alternate,!(h&30)&&!RT(p)&&(s=Ml(r,h),s===2&&(g=ln(r),g!==0&&(h=g,s=Od(r,g))),s===1))throw u=Fa,ds(r,0),pi(r,h),rn(r,Qe()),u;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:fs(r,nn,Dr);break;case 3:if(pi(r,h),(h&130023424)===h&&(s=Pd+500-Qe(),10<s)){if(Ji(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){Qt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Mh(fs.bind(null,r,nn,Dr),s);break}fs(r,nn,Dr);break;case 4:if(pi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var E=31-qt(h);g=1<<E,E=s[E],E>p&&(p=E),h&=~g}if(h=p,h=Qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*ST(h/1960))-h,10<h){r.timeoutHandle=Mh(fs.bind(null,r,nn,Dr),h);break}fs(r,nn,Dr);break;case 5:fs(r,nn,Dr);break;default:throw Error(t(329))}}}return rn(r,Qe()),r.callbackNode===u?Dg.bind(null,r):null}function Od(r,s){var u=Ua;return r.current.memoizedState.isDehydrated&&(ds(r,s).flags|=256),r=Ml(r,s),r!==2&&(s=nn,nn=u,s!==null&&Dd(s)),r}function Dd(r){nn===null?nn=r:nn.push.apply(nn,r)}function RT(r){for(var s=r;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var p=u[h],g=p.getSnapshot;p=p.value;try{if(!Fn(g(),p))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pi(r,s){for(s&=~Ad,s&=~Ol,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var u=31-qt(s),h=1<<u;r[u]=-1,s&=~h}}function Ng(r){if(Ve&6)throw Error(t(327));To();var s=Ji(r,0);if(!(s&1))return rn(r,Qe()),null;var u=Ml(r,s);if(r.tag!==0&&u===2){var h=ln(r);h!==0&&(s=h,u=Od(r,h))}if(u===1)throw u=Fa,ds(r,0),pi(r,s),rn(r,Qe()),u;if(u===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,fs(r,nn,Dr),rn(r,Qe()),null}function Nd(r,s){var u=Ve;Ve|=1;try{return r(s)}finally{Ve=u,Ve===0&&(wo=Qe()+500,cl&&ai())}}function hs(r){di!==null&&di.tag===0&&!(Ve&6)&&To();var s=Ve;Ve|=1;var u=In.transition,h=xe;try{if(In.transition=null,xe=1,r)return r()}finally{xe=h,In.transition=u,Ve=s,!(Ve&6)&&ai()}}function bd(){pn=Eo.current,Ye(Eo)}function ds(r,s){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,tT(u)),ht!==null)for(u=ht.return;u!==null;){var h=u;switch(Bh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ul();break;case 3:yo(),Ye(Zt),Ye(bt),nd();break;case 5:ed(h);break;case 4:yo();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:Gh(h.type._context);break;case 22:case 23:bd()}u=u.return}if(St=r,ht=r=mi(r.current,null),xt=pn=s,_t=0,Fa=null,Ad=Ol=cs=0,nn=Ua=null,as!==null){for(s=0;s<as.length;s++)if(u=as[s],h=u.interleaved,h!==null){u.interleaved=null;var p=h.next,g=u.pending;if(g!==null){var E=g.next;g.next=p,h.next=E}u.pending=h}as=null}return r}function bg(r,s){do{var u=ht;try{if(Kh(),El.current=Sl,wl){for(var h=rt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}wl=!1}if(ls=0,It=yt=rt=null,Da=!1,Na=0,Cd.current=null,u===null||u.return===null){_t=1,Fa=s,ht=null;break}e:{var g=r,E=u.return,R=u,x=s;if(s=xt,R.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var B=x,X=R,Z=X.tag;if(!(X.mode&1)&&(Z===0||Z===11||Z===15)){var J=X.alternate;J?(X.updateQueue=J.updateQueue,X.memoizedState=J.memoizedState,X.lanes=J.lanes):(X.updateQueue=null,X.memoizedState=null)}var ie=sg(E);if(ie!==null){ie.flags&=-257,og(ie,E,R,g,s),ie.mode&1&&ig(g,B,s),s=ie,x=B;var ce=s.updateQueue;if(ce===null){var he=new Set;he.add(x),s.updateQueue=he}else ce.add(x);break e}else{if(!(s&1)){ig(g,B,s),Ld();break e}x=Error(t(426))}}else if(Ze&&R.mode&1){var ut=sg(E);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),og(ut,E,R,g,s),Wh(_o(x,R));break e}}g=x=_o(x,R),_t!==4&&(_t=2),Ua===null?Ua=[g]:Ua.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var j=ng(g,x,s);km(g,j);break e;case 1:R=x;var N=g.type,$=g.stateNode;if(!(g.flags&128)&&(typeof N.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(hi===null||!hi.has($)))){g.flags|=65536,s&=-s,g.lanes|=s;var ee=rg(g,R,s);km(g,ee);break e}}g=g.return}while(g!==null)}Mg(u)}catch(pe){s=pe,ht===u&&u!==null&&(ht=u=u.return);continue}break}while(!0)}function Lg(){var r=xl.current;return xl.current=Sl,r===null?Sl:r}function Ld(){(_t===0||_t===3||_t===2)&&(_t=4),St===null||!(cs&268435455)&&!(Ol&268435455)||pi(St,xt)}function Ml(r,s){var u=Ve;Ve|=2;var h=Lg();(St!==r||xt!==s)&&(Dr=null,ds(r,s));do try{CT();break}catch(p){bg(r,p)}while(!0);if(Kh(),Ve=u,xl.current=h,ht!==null)throw Error(t(261));return St=null,xt=0,_t}function CT(){for(;ht!==null;)Vg(ht)}function AT(){for(;ht!==null&&!bu();)Vg(ht)}function Vg(r){var s=jg(r.alternate,r,pn);r.memoizedProps=r.pendingProps,s===null?Mg(r):ht=s,Cd.current=null}function Mg(r){var s=r;do{var u=s.alternate;if(r=s.return,s.flags&32768){if(u=ET(u,s),u!==null){u.flags&=32767,ht=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,ht=null;return}}else if(u=vT(u,s,pn),u!==null){ht=u;return}if(s=s.sibling,s!==null){ht=s;return}ht=s=r}while(s!==null);_t===0&&(_t=5)}function fs(r,s,u){var h=xe,p=In.transition;try{In.transition=null,xe=1,PT(r,s,u,h)}finally{In.transition=p,xe=h}return null}function PT(r,s,u,h){do To();while(di!==null);if(Ve&6)throw Error(t(327));u=r.finishedWork;var p=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=u.lanes|u.childLanes;if(He(r,g),r===St&&(ht=St=null,xt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Nl||(Nl=!0,$g(gn,function(){return To(),null})),g=(u.flags&15990)!==0,u.subtreeFlags&15990||g){g=In.transition,In.transition=null;var E=xe;xe=1;var R=Ve;Ve|=4,Cd.current=null,TT(r,u),Ag(u,r),Kw(Lh),ti=!!bh,Lh=bh=null,r.current=u,IT(u),_h(),Ve=R,xe=E,In.transition=g}else r.current=u;if(Nl&&(Nl=!1,di=r,bl=p),g=r.pendingLanes,g===0&&(hi=null),Mu(u.stateNode),rn(r,Qe()),s!==null)for(h=r.onRecoverableError,u=0;u<s.length;u++)p=s[u],h(p.value,{componentStack:p.stack,digest:p.digest});if(Dl)throw Dl=!1,r=kd,kd=null,r;return bl&1&&r.tag!==0&&To(),g=r.pendingLanes,g&1?r===xd?ja++:(ja=0,xd=r):ja=0,ai(),null}function To(){if(di!==null){var r=Zr(bl),s=In.transition,u=xe;try{if(In.transition=null,xe=16>r?16:r,di===null)var h=!1;else{if(r=di,di=null,bl=0,Ve&6)throw Error(t(331));var p=Ve;for(Ve|=4,ue=r.current;ue!==null;){var g=ue,E=g.child;if(ue.flags&16){var R=g.deletions;if(R!==null){for(var x=0;x<R.length;x++){var B=R[x];for(ue=B;ue!==null;){var X=ue;switch(X.tag){case 0:case 11:case 15:Ma(8,X,g)}var Z=X.child;if(Z!==null)Z.return=X,ue=Z;else for(;ue!==null;){X=ue;var J=X.sibling,ie=X.return;if(Tg(X),X===B){ue=null;break}if(J!==null){J.return=ie,ue=J;break}ue=ie}}}var ce=g.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var ut=he.sibling;he.sibling=null,he=ut}while(he!==null)}}ue=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,ue=E;else e:for(;ue!==null;){if(g=ue,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ma(9,g,g.return)}var j=g.sibling;if(j!==null){j.return=g.return,ue=j;break e}ue=g.return}}var N=r.current;for(ue=N;ue!==null;){E=ue;var $=E.child;if(E.subtreeFlags&2064&&$!==null)$.return=E,ue=$;else e:for(E=N;ue!==null;){if(R=ue,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:kl(9,R)}}catch(pe){st(R,R.return,pe)}if(R===E){ue=null;break e}var ee=R.sibling;if(ee!==null){ee.return=R.return,ue=ee;break e}ue=R.return}}if(Ve=p,ai(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Yi,r)}catch{}h=!0}return h}finally{xe=u,In.transition=s}}return!1}function Fg(r,s,u){s=_o(u,s),s=ng(r,s,1),r=li(r,s,1),s=Qt(),r!==null&&(Jr(r,1,s),rn(r,s))}function st(r,s,u){if(r.tag===3)Fg(r,r,u);else for(;s!==null;){if(s.tag===3){Fg(s,r,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(hi===null||!hi.has(h))){r=_o(u,r),r=rg(s,r,1),s=li(s,r,1),r=Qt(),s!==null&&(Jr(s,1,r),rn(s,r));break}}s=s.return}}function kT(r,s,u){var h=r.pingCache;h!==null&&h.delete(s),s=Qt(),r.pingedLanes|=r.suspendedLanes&u,St===r&&(xt&u)===u&&(_t===4||_t===3&&(xt&130023424)===xt&&500>Qe()-Pd?ds(r,0):Ad|=u),rn(r,s)}function Ug(r,s){s===0&&(r.mode&1?(s=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):s=1);var u=Qt();r=kr(r,s),r!==null&&(Jr(r,s,u),rn(r,u))}function xT(r){var s=r.memoizedState,u=0;s!==null&&(u=s.retryLane),Ug(r,u)}function OT(r,s){var u=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(u=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Ug(r,u)}var jg;jg=function(r,s,u){if(r!==null)if(r.memoizedProps!==s.pendingProps||Zt.current)tn=!0;else{if(!(r.lanes&u)&&!(s.flags&128))return tn=!1,_T(r,s,u);tn=!!(r.flags&131072)}else tn=!1,Ze&&s.flags&1048576&&vm(s,dl,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Al(r,s),r=s.pendingProps;var p=lo(s,bt.current);go(s,u),p=sd(null,s,h,r,p,u);var g=od();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,en(h)?(g=!0,ll(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Xh(s),p.updater=Rl,s.stateNode=p,p._reactInternals=s,dd(s,h,r,u),s=gd(null,s,h,!0,g,u)):(s.tag=0,Ze&&g&&zh(s),Wt(null,s,p,u),s=s.child),s;case 16:h=s.elementType;e:{switch(Al(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=NT(h),r=jn(h,r),p){case 0:s=md(null,s,h,r,u);break e;case 1:s=dg(null,s,h,r,u);break e;case 11:s=ag(null,s,h,r,u);break e;case 14:s=ug(null,s,h,jn(h.type,r),u);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:jn(h,p),md(r,s,h,p,u);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:jn(h,p),dg(r,s,h,p,u);case 3:e:{if(fg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,p=g.element,Pm(r,s),_l(s,h,null,u);var E=s.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=_o(Error(t(423)),s),s=pg(r,s,h,u,p);break e}else if(h!==p){p=_o(Error(t(424)),s),s=pg(r,s,h,u,p);break e}else for(fn=ii(s.stateNode.containerInfo.firstChild),dn=s,Ze=!0,Un=null,u=Cm(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(fo(),h===p){s=Or(r,s,u);break e}Wt(r,s,h,u)}s=s.child}return s;case 5:return Om(s),r===null&&Hh(s),h=s.type,p=s.pendingProps,g=r!==null?r.memoizedProps:null,E=p.children,Vh(h,p)?E=null:g!==null&&Vh(h,g)&&(s.flags|=32),hg(r,s),Wt(r,s,E,u),s.child;case 6:return r===null&&Hh(s),null;case 13:return mg(r,s,u);case 4:return Zh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=po(s,null,h,u):Wt(r,s,h,u),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:jn(h,p),ag(r,s,h,p,u);case 7:return Wt(r,s,s.pendingProps,u),s.child;case 8:return Wt(r,s,s.pendingProps.children,u),s.child;case 12:return Wt(r,s,s.pendingProps.children,u),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,g=s.memoizedProps,E=p.value,Ke(ml,h._currentValue),h._currentValue=E,g!==null)if(Fn(g.value,E)){if(g.children===p.children&&!Zt.current){s=Or(r,s,u);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var R=g.dependencies;if(R!==null){E=g.child;for(var x=R.firstContext;x!==null;){if(x.context===h){if(g.tag===1){x=xr(-1,u&-u),x.tag=2;var B=g.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?x.next=x:(x.next=X.next,X.next=x),B.pending=x}}g.lanes|=u,x=g.alternate,x!==null&&(x.lanes|=u),Yh(g.return,u,s),R.lanes|=u;break}x=x.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=u,R=E.alternate,R!==null&&(R.lanes|=u),Yh(E,u,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Wt(r,s,p.children,u),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,go(s,u),p=wn(p),h=h(p),s.flags|=1,Wt(r,s,h,u),s.child;case 14:return h=s.type,p=jn(h,s.pendingProps),p=jn(h.type,p),ug(r,s,h,p,u);case 15:return lg(r,s,s.type,s.pendingProps,u);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:jn(h,p),Al(r,s),s.tag=1,en(h)?(r=!0,ll(s)):r=!1,go(s,u),eg(s,h,p),dd(s,h,p,u),gd(null,s,h,!0,r,u);case 19:return yg(r,s,u);case 22:return cg(r,s,u)}throw Error(t(156,s.tag))};function $g(r,s){return zs(r,s)}function DT(r,s,u,h){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(r,s,u,h){return new DT(r,s,u,h)}function Vd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function NT(r){if(typeof r=="function")return Vd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===tt)return 14}return 2}function mi(r,s){var u=r.alternate;return u===null?(u=Sn(r.tag,s,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=s,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,s=r.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function Fl(r,s,u,h,p,g){var E=2;if(h=r,typeof r=="function")Vd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case D:return ps(u.children,p,g,s);case S:E=8,p|=8;break;case C:return r=Sn(12,u,s,p|2),r.elementType=C,r.lanes=g,r;case P:return r=Sn(13,u,s,p),r.elementType=P,r.lanes=g,r;case $e:return r=Sn(19,u,s,p),r.elementType=$e,r.lanes=g,r;case De:return Ul(u,p,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:E=10;break e;case b:E=9;break e;case L:E=11;break e;case tt:E=14;break e;case qe:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Sn(E,u,s,p),s.elementType=r,s.type=h,s.lanes=g,s}function ps(r,s,u,h){return r=Sn(7,r,h,s),r.lanes=u,r}function Ul(r,s,u,h){return r=Sn(22,r,h,s),r.elementType=De,r.lanes=u,r.stateNode={isHidden:!1},r}function Md(r,s,u){return r=Sn(6,r,null,s),r.lanes=u,r}function Fd(r,s,u){return s=Sn(4,r.children!==null?r.children:[],r.key,s),s.lanes=u,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function bT(r,s,u,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yr(0),this.expirationTimes=Yr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Ud(r,s,u,h,p,g,E,R,x){return r=new bT(r,s,u,R,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Sn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xh(g),r}function LT(r,s,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:r,containerInfo:s,implementation:u}}function zg(r){if(!r)return oi;r=r._reactInternals;e:{if(On(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(en(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var u=r.type;if(en(u))return gm(r,u,s)}return s}function Bg(r,s,u,h,p,g,E,R,x){return r=Ud(u,h,!0,r,p,g,E,R,x),r.context=zg(null),u=r.current,h=Qt(),p=fi(u),g=xr(h,p),g.callback=s??null,li(u,g,p),r.current.lanes=p,Jr(r,p,h),rn(r,h),r}function jl(r,s,u,h){var p=s.current,g=Qt(),E=fi(p);return u=zg(u),s.context===null?s.context=u:s.pendingContext=u,s=xr(g,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=li(p,s,E),r!==null&&(Bn(r,p,E,g),yl(r,p,E)),E}function $l(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function qg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<s?u:s}}function jd(r,s){qg(r,s),(r=r.alternate)&&qg(r,s)}var Hg=typeof reportError=="function"?reportError:function(r){console.error(r)};function $d(r){this._internalRoot=r}zl.prototype.render=$d.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));jl(r,s,null,null)},zl.prototype.unmount=$d.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;hs(function(){jl(null,r,null,null)}),s[Rr]=null}};function zl(r){this._internalRoot=r}zl.prototype.unstable_scheduleHydration=function(r){if(r){var s=zu();r={blockedOn:null,target:r,priority:s};for(var u=0;u<Jn.length&&s!==0&&s<Jn[u].priority;u++);Jn.splice(u,0,r),u===0&&Hu(r)}};function zd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Bl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Wg(){}function VT(r,s,u,h,p){if(p){if(typeof h=="function"){var g=h;h=function(){var B=$l(E);g.call(B)}}var E=Bg(s,h,r,0,null,!1,!1,"",Wg);return r._reactRootContainer=E,r[Rr]=E.current,Sa(r.nodeType===8?r.parentNode:r),hs(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var R=h;h=function(){var B=$l(x);R.call(B)}}var x=Ud(r,0,!1,null,null,!1,!1,"",Wg);return r._reactRootContainer=x,r[Rr]=x.current,Sa(r.nodeType===8?r.parentNode:r),hs(function(){jl(s,x,u,h)}),x}function ql(r,s,u,h,p){var g=u._reactRootContainer;if(g){var E=g;if(typeof p=="function"){var R=p;p=function(){var x=$l(E);R.call(x)}}jl(s,E,r,p)}else E=VT(u,s,r,p,h);return $l(E)}ju=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var u=Gr(s.pendingLanes);u!==0&&(Xr(s,u|1),rn(s,Qe()),!(Ve&6)&&(wo=Qe()+500,ai()))}break;case 13:hs(function(){var h=kr(r,1);if(h!==null){var p=Qt();Bn(h,r,1,p)}}),jd(r,1)}},Hs=function(r){if(r.tag===13){var s=kr(r,134217728);if(s!==null){var u=Qt();Bn(s,r,134217728,u)}jd(r,134217728)}},$u=function(r){if(r.tag===13){var s=fi(r),u=kr(r,s);if(u!==null){var h=Qt();Bn(u,r,s,h)}jd(r,s)}},zu=function(){return xe},Bu=function(r,s){var u=xe;try{return xe=r,s()}finally{xe=u}},Vs=function(r,s,u){switch(s){case"input":if(Go(r,u),s=u.name,u.type==="radio"&&s!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==r&&h.form===r.form){var p=al(h);if(!p)throw Error(t(90));xs(h),Go(h,p)}}}break;case"textarea":bs(r,u);break;case"select":s=u.value,s!=null&&yr(r,!!u.multiple,s,!1)}},Hi=Nd,sa=hs;var MT={usingClientEntryPoint:!1,Events:[Aa,ao,al,Gn,ia,Nd]},$a={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FT={bundleType:$a.bundleType,version:$a.version,rendererPackageName:$a.rendererPackageName,rendererConfig:$a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ua(r),r===null?null:r.stateNode},findFiberByHostInstance:$a.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{Yi=Hl.inject(FT),un=Hl}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MT,sn.createPortal=function(r,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zd(s))throw Error(t(200));return LT(r,s,null,u)},sn.createRoot=function(r,s){if(!zd(r))throw Error(t(299));var u=!1,h="",p=Hg;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Ud(r,1,!1,null,null,u,!1,h,p),r[Rr]=s.current,Sa(r.nodeType===8?r.parentNode:r),new $d(s)},sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ua(s),r=r===null?null:r.stateNode,r},sn.flushSync=function(r){return hs(r)},sn.hydrate=function(r,s,u){if(!Bl(s))throw Error(t(200));return ql(null,r,s,!0,u)},sn.hydrateRoot=function(r,s,u){if(!zd(r))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,p=!1,g="",E=Hg;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),s=Bg(s,null,r,1,u??null,p,!1,g,E),r[Rr]=s.current,Sa(r),h)for(r=0;r<h.length;r++)u=h[r],p=u._getVersion,p=p(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,p]:s.mutableSourceEagerHydrationData.push(u,p);return new zl(s)},sn.render=function(r,s,u){if(!Bl(s))throw Error(t(200));return ql(null,r,s,!1,u)},sn.unmountComponentAtNode=function(r){if(!Bl(r))throw Error(t(40));return r._reactRootContainer?(hs(function(){ql(null,null,r,!1,function(){r._reactRootContainer=null,r[Rr]=null})}),!0):!1},sn.unstable_batchedUpdates=Nd,sn.unstable_renderSubtreeIntoContainer=function(r,s,u,h){if(!Bl(u))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return ql(r,s,u,!1,h)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var ey;function U_(){if(ey)return Hd.exports;ey=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hd.exports=WT(),Hd.exports}var ty;function QT(){if(ty)return Wl;ty=1;var n=U_();return Wl.createRoot=n.createRoot,Wl.hydrateRoot=n.hydrateRoot,Wl}var KT=QT();const GT="modulepreload",YT=function(n){return"/appPelis/"+n},ny={},pr=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(t.map(f=>{if(f=YT(f),f in ny)return;ny[f]=!0;const y=f.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":GT,y||(w.as="script"),w.crossOrigin="",w.href=f,d&&w.setAttribute("nonce",d),document.head.appendChild(w),y)return new Promise((I,A)=>{w.addEventListener("load",I),w.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};var F=zf();const Gt=F_(F),yO=jT({__proto__:null,default:Gt},[F]);var Ba={},ry;function JT(){if(ry)return Ba;ry=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.parse=c,Ba.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function c(I,A){const O=new a,z=I.length;if(z<2)return O;const M=(A==null?void 0:A.decode)||v;let H=0;do{const Y=I.indexOf("=",H);if(Y===-1)break;const W=I.indexOf(";",H),oe=W===-1?z:W;if(Y>oe){H=I.lastIndexOf(";",Y-1)+1;continue}const ve=d(I,H,Y),ae=f(I,Y,ve),D=I.slice(ve,ae);if(O[D]===void 0){let S=d(I,Y+1,oe),C=f(I,oe,S);const k=M(I.slice(S,C));O[D]=k}H=oe+1}while(H<z);return O}function d(I,A,O){do{const z=I.charCodeAt(A);if(z!==32&&z!==9)return A}while(++A<O);return O}function f(I,A,O){for(;A>O;){const z=I.charCodeAt(--A);if(z!==32&&z!==9)return A+1}return O}function y(I,A,O){const z=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const M=z(A);if(!e.test(M))throw new TypeError(`argument val is invalid: ${A}`);let H=I+"="+M;if(!O)return H;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);H+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);H+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);H+="; Path="+O.path}if(O.expires){if(!w(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);H+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(H+="; HttpOnly"),O.secure&&(H+="; Secure"),O.partitioned&&(H+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return H}function v(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function w(I){return o.call(I)==="[object Date]"}return Ba}JT();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iy="popstate";function XT(n={}){function e(o,a){let{pathname:c="/",search:d="",hash:f=""}=Is(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),uf("",{pathname:c,search:d,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(o,a){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=o.location.href,y=f.indexOf("#");d=y===-1?f:f.slice(0,y)}return d+"#"+(typeof a=="string"?a:iu(a))}function i(o,a){An(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return eI(e,t,i,n)}function et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function An(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZT(){return Math.random().toString(36).substring(2,10)}function sy(n,e){return{usr:n.state,key:n.key,idx:e}}function uf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Is(e):e,state:t,key:e&&e.key||i||ZT()}}function iu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Is(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function eI(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,d="POP",f=null,y=v();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function v(){return(c.state||{idx:null}).idx}function w(){d="POP";let M=v(),H=M==null?null:M-y;y=M,f&&f({action:d,location:z.location,delta:H})}function I(M,H){d="PUSH";let Y=uf(z.location,M,H);t(Y,M),y=v()+1;let W=sy(Y,y),oe=z.createHref(Y);try{c.pushState(W,"",oe)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;o.location.assign(oe)}a&&f&&f({action:d,location:z.location,delta:1})}function A(M,H){d="REPLACE";let Y=uf(z.location,M,H);t(Y,M),y=v();let W=sy(Y,y),oe=z.createHref(Y);c.replaceState(W,"",oe),a&&f&&f({action:d,location:z.location,delta:0})}function O(M){let H=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof M=="string"?M:iu(M);return Y=Y.replace(/ $/,"%20"),et(H,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,H)}let z={get action(){return d},get location(){return n(o,c)},listen(M){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(iy,w),f=M,()=>{o.removeEventListener(iy,w),f=null}},createHref(M){return e(o,M)},createURL:O,encodeLocation(M){let H=O(M);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:I,replace:A,go(M){return c.go(M)}};return z}function j_(n,e,t="/"){return tI(n,e,t,!1)}function tI(n,e,t,i){let o=typeof e=="string"?Is(e):e,a=xi(o.pathname||"/",t);if(a==null)return null;let c=$_(n);nI(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let y=fI(a);d=hI(c[f],y,i)}return d}function $_(n,e=[],t=[],i=""){let o=(a,c,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};f.relativePath.startsWith("/")&&(et(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let y=Mr([i,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(et(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),$_(a.children,e,v,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:lI(y,a.index),routesMeta:v})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let f of z_(a.path))o(a,c,f)}),e}function z_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=z_(i.join("/")),d=[];return d.push(...c.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...c),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function nI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:cI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var rI=/^:[\w-]+$/,iI=3,sI=2,oI=1,aI=10,uI=-2,oy=n=>n==="*";function lI(n,e){let t=n.split("/"),i=t.length;return t.some(oy)&&(i+=uI),e&&(i+=sI),t.filter(o=>!oy(o)).reduce((o,a)=>o+(rI.test(a)?iI:a===""?oI:aI),i)}function cI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function hI(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let d=0;d<i.length;++d){let f=i[d],y=d===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=_c({path:f.relativePath,caseSensitive:f.caseSensitive,end:y},v),I=f.route;if(!w&&y&&t&&!i[i.length-1].route.index&&(w=_c({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:Mr([a,w.pathname]),pathnameBase:yI(Mr([a,w.pathnameBase])),route:I}),w.pathnameBase!=="/"&&(a=Mr([a,w.pathnameBase]))}return c}function _c(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=dI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:w},I)=>{if(v==="*"){let O=d[I]||"";c=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const A=d[I];return w&&!A?y[v]=void 0:y[v]=(A||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:n}}function dI(n,e=!1,t=!0){An(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function fI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return An(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function xi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function pI(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Is(n):n;return{pathname:t?t.startsWith("/")?t:mI(t,e):e,search:_I(i),hash:vI(o)}}function mI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Kd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Bf(n){let e=gI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function qf(n,e,t,i=!1){let o;typeof n=="string"?o=Is(n):(o={...n},et(!o.pathname||!o.pathname.includes("?"),Kd("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),Kd("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),Kd("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let w=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),w-=1;o.pathname=I.join("/")}d=w>=0?e[w]:"/"}let f=pI(o,d),y=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(y||v)&&(f.pathname+="/"),f}var Mr=n=>n.join("/").replace(/\/\/+/g,"/"),yI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_I=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,vI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function EI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var B_=["POST","PUT","PATCH","DELETE"];new Set(B_);var wI=["GET",...B_];new Set(wI);var jo=F.createContext(null);jo.displayName="DataRouter";var Wc=F.createContext(null);Wc.displayName="DataRouterState";var q_=F.createContext({isTransitioning:!1});q_.displayName="ViewTransition";var TI=F.createContext(new Map);TI.displayName="Fetchers";var II=F.createContext(null);II.displayName="Await";var Qn=F.createContext(null);Qn.displayName="Navigation";var pu=F.createContext(null);pu.displayName="Location";var Pn=F.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var Hf=F.createContext(null);Hf.displayName="RouteError";function SI(n,{relative:e}={}){et($o(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=F.useContext(Qn),{hash:o,pathname:a,search:c}=mu(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Mr([t,a])),i.createHref({pathname:d,search:c,hash:o})}function $o(){return F.useContext(pu)!=null}function Mi(){return et($o(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(pu).location}var H_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W_(n){F.useContext(Qn).static||F.useLayoutEffect(n)}function Q_(){let{isDataRoute:n}=F.useContext(Pn);return n?UI():RI()}function RI(){et($o(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(jo),{basename:e,navigator:t}=F.useContext(Qn),{matches:i}=F.useContext(Pn),{pathname:o}=Mi(),a=JSON.stringify(Bf(i)),c=F.useRef(!1);return W_(()=>{c.current=!0}),F.useCallback((f,y={})=>{if(An(c.current,H_),!c.current)return;if(typeof f=="number"){t.go(f);return}let v=qf(f,JSON.parse(a),o,y.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Mr([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,a,o,n])}var CI=F.createContext(null);function AI(n){let e=F.useContext(Pn).outlet;return e&&F.createElement(CI.Provider,{value:n},e)}function _O(){let{matches:n}=F.useContext(Pn),e=n[n.length-1];return e?e.params:{}}function mu(n,{relative:e}={}){let{matches:t}=F.useContext(Pn),{pathname:i}=Mi(),o=JSON.stringify(Bf(t));return F.useMemo(()=>qf(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function PI(n,e){return K_(n,e)}function K_(n,e,t,i){var Y;et($o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=F.useContext(Qn),{matches:c}=F.useContext(Pn),d=c[c.length-1],f=d?d.params:{},y=d?d.pathname:"/",v=d?d.pathnameBase:"/",w=d&&d.route;{let W=w&&w.path||"";G_(y,!w||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let I=Mi(),A;if(e){let W=typeof e=="string"?Is(e):e;et(v==="/"||((Y=W.pathname)==null?void 0:Y.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),A=W}else A=I;let O=A.pathname||"/",z=O;if(v!=="/"){let W=v.replace(/^\//,"").split("/");z="/"+O.replace(/^\//,"").split("/").slice(W.length).join("/")}let M=!a&&t&&t.matches&&t.matches.length>0?t.matches:j_(n,{pathname:z});An(w||M!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),An(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=NI(M&&M.map(W=>Object.assign({},W,{params:Object.assign({},f,W.params),pathname:Mr([v,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:Mr([v,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),c,t,i);return e&&H?F.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},H):H}function kI(){let n=FI(),e=EI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:a},"ErrorBoundary")," or"," ",F.createElement("code",{style:a},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,c)}var xI=F.createElement(kI,null),OI=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(Pn.Provider,{value:this.props.routeContext},F.createElement(Hf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DI({routeContext:n,match:e,children:t}){let i=F.useContext(jo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Pn.Provider,{value:n},t)}function NI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id])!==void 0);et(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(t)for(let f=0;f<o.length;f++){let y=o[f];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=f),y.route.id){let{loaderData:v,errors:w}=t,I=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||I){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,y,v)=>{let w,I=!1,A=null,O=null;t&&(w=a&&y.route.id?a[y.route.id]:void 0,A=y.route.errorElement||xI,c&&(d<0&&v===0?(G_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,O=null):d===v&&(I=!0,O=y.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,v+1)),M=()=>{let H;return w?H=A:I?H=O:y.route.Component?H=F.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=f,F.createElement(DI,{match:y,routeContext:{outlet:f,matches:z,isDataRoute:t!=null},children:H})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?F.createElement(OI,{location:t.location,revalidation:t.revalidation,component:A,error:w,children:M(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):M()},null)}function Wf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bI(n){let e=F.useContext(jo);return et(e,Wf(n)),e}function LI(n){let e=F.useContext(Wc);return et(e,Wf(n)),e}function VI(n){let e=F.useContext(Pn);return et(e,Wf(n)),e}function Qf(n){let e=VI(n),t=e.matches[e.matches.length-1];return et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function MI(){return Qf("useRouteId")}function FI(){var i;let n=F.useContext(Hf),e=LI("useRouteError"),t=Qf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function UI(){let{router:n}=bI("useNavigate"),e=Qf("useNavigate"),t=F.useRef(!1);return W_(()=>{t.current=!0}),F.useCallback(async(o,a={})=>{An(t.current,H_),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var ay={};function G_(n,e,t){!e&&!ay[n]&&(ay[n]=!0,An(!1,t))}F.memo(jI);function jI({routes:n,future:e,state:t}){return K_(n,void 0,t,e)}function lf({to:n,replace:e,state:t,relative:i}){et($o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(Qn);An(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=F.useContext(Pn),{pathname:c}=Mi(),d=Q_(),f=qf(n,Bf(a),c,i==="path"),y=JSON.stringify(f);return F.useEffect(()=>{d(JSON.parse(y),{replace:e,state:t,relative:i})},[d,y,i,e,t]),null}function $I(n){return AI(n.context)}function Ut(n){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){et(!$o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=Is(t));let{pathname:f="/",search:y="",hash:v="",state:w=null,key:I="default"}=t,A=F.useMemo(()=>{let O=xi(f,c);return O==null?null:{location:{pathname:O,search:y,hash:v,state:w,key:I},navigationType:i}},[c,f,y,v,w,I,i]);return An(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:F.createElement(Qn.Provider,{value:d},F.createElement(pu.Provider,{children:e,value:A}))}function BI({children:n,location:e}){return PI(cf(n),e)}function cf(n,e=[]){let t=[];return F.Children.forEach(n,(i,o)=>{if(!F.isValidElement(i))return;let a=[...e,o];if(i.type===F.Fragment){t.push.apply(t,cf(i.props.children,a));return}et(i.type===Ut,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=cf(i.props.children,a)),t.push(c)}),t}var tc="get",nc="application/x-www-form-urlencoded";function Qc(n){return n!=null&&typeof n.tagName=="string"}function qI(n){return Qc(n)&&n.tagName.toLowerCase()==="button"}function HI(n){return Qc(n)&&n.tagName.toLowerCase()==="form"}function WI(n){return Qc(n)&&n.tagName.toLowerCase()==="input"}function QI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function KI(n,e){return n.button===0&&(!e||e==="_self")&&!QI(n)}var Ql=null;function GI(){if(Ql===null)try{new FormData(document.createElement("form"),0),Ql=!1}catch{Ql=!0}return Ql}var YI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gd(n){return n!=null&&!YI.has(n)?(An(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nc}"`),null):n}function JI(n,e){let t,i,o,a,c;if(HI(n)){let d=n.getAttribute("action");i=d?xi(d,e):null,t=n.getAttribute("method")||tc,o=Gd(n.getAttribute("enctype"))||nc,a=new FormData(n)}else if(qI(n)||WI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(i=f?xi(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||tc,o=Gd(n.getAttribute("formenctype"))||Gd(d.getAttribute("enctype"))||nc,a=new FormData(d,n),!GI()){let{name:y,type:v,value:w}=n;if(v==="image"){let I=y?`${y}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else y&&a.append(y,w)}}else{if(Qc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=tc,i=null,o=nc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function Kf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function XI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function eS(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await XI(a,t);return c.links?c.links():[]}return[]}));return iS(i.flat(1).filter(ZI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function uy(n,e,t,i,o,a){let c=(f,y)=>t[y]?f.route.id!==t[y].route.id:!0,d=(f,y)=>{var v;return t[y].pathname!==f.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,y)=>c(f,y)||d(f,y)):a==="data"?e.filter((f,y)=>{var w;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,y)||d(f,y))return!0;if(f.route.shouldRevalidate){let I=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function tS(n,e){return nS(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function nS(n){return[...new Set(n)]}function rS(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function iS(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(rS(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function sS(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function oS(){let n=F.useContext(jo);return Kf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function aS(){let n=F.useContext(Wc);return Kf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Gf=F.createContext(void 0);Gf.displayName="FrameworkContext";function Y_(){let n=F.useContext(Gf);return Kf(n,"You must render this element inside a <HydratedRouter> element"),n}function uS(n,e){let t=F.useContext(Gf),[i,o]=F.useState(!1),[a,c]=F.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:y,onMouseLeave:v,onTouchStart:w}=e,I=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=H=>{H.forEach(Y=>{c(Y.isIntersecting)})},M=new IntersectionObserver(z,{threshold:.5});return I.current&&M.observe(I.current),()=>{M.disconnect()}}},[n]),F.useEffect(()=>{if(i){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[i]);let A=()=>{o(!0)},O=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:qa(d,A),onBlur:qa(f,O),onMouseEnter:qa(y,A),onMouseLeave:qa(v,O),onTouchStart:qa(w,A)}]:[!1,I,{}]}function qa(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function lS({page:n,...e}){let{router:t}=oS(),i=F.useMemo(()=>j_(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?F.createElement(hS,{page:n,matches:i,...e}):null}function cS(n){let{manifest:e,routeModules:t}=Y_(),[i,o]=F.useState([]);return F.useEffect(()=>{let a=!1;return eS(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function hS({page:n,matches:e,...t}){let i=Mi(),{manifest:o,routeModules:a}=Y_(),{loaderData:c,matches:d}=aS(),f=F.useMemo(()=>uy(n,e,d,o,i,"data"),[n,e,d,o,i]),y=F.useMemo(()=>uy(n,e,d,o,i,"assets"),[n,e,d,o,i]),v=F.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,O=!1;if(e.forEach(M=>{var Y;let H=o.routes[M.route.id];!H||!H.hasLoader||(!f.some(W=>W.route.id===M.route.id)&&M.route.id in c&&((Y=a[M.route.id])!=null&&Y.shouldRevalidate)||H.hasClientLoader?O=!0:A.add(M.route.id))}),A.size===0)return[];let z=sS(n);return O&&A.size>0&&z.searchParams.set("_routes",e.filter(M=>A.has(M.route.id)).map(M=>M.route.id).join(",")),[z.pathname+z.search]},[c,i,o,f,e,n,a]),w=F.useMemo(()=>tS(y,o),[y,o]),I=cS(y);return F.createElement(F.Fragment,null,v.map(A=>F.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),w.map(A=>F.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),I.map(({key:A,link:O})=>F.createElement("link",{key:A,...O})))}function dS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var J_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{J_&&(window.__reactRouterVersion="7.1.5")}catch{}function fS({basename:n,children:e,window:t}){let i=F.useRef();i.current==null&&(i.current=XT({window:t,v5Compat:!0}));let o=i.current,[a,c]=F.useState({action:o.action,location:o.location}),d=F.useCallback(f=>{F.startTransition(()=>c(f))},[c]);return F.useLayoutEffect(()=>o.listen(d),[o,d]),F.createElement(zI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var X_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z_=F.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:d,target:f,to:y,preventScrollReset:v,viewTransition:w,...I},A){let{basename:O}=F.useContext(Qn),z=typeof y=="string"&&X_.test(y),M,H=!1;if(typeof y=="string"&&z&&(M=y,J_))try{let C=new URL(window.location.href),k=y.startsWith("//")?new URL(C.protocol+y):new URL(y),b=xi(k.pathname,O);k.origin===C.origin&&b!=null?y=b+k.search+k.hash:H=!0}catch{An(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=SI(y,{relative:o}),[W,oe,ve]=uS(i,I),ae=yS(y,{replace:c,state:d,target:f,preventScrollReset:v,relative:o,viewTransition:w});function D(C){e&&e(C),C.defaultPrevented||ae(C)}let S=F.createElement("a",{...I,...ve,href:M||Y,onClick:H||a?e:D,ref:dS(A,oe),target:f,"data-discover":!z&&t==="render"?"true":void 0});return W&&!z?F.createElement(F.Fragment,null,S,F.createElement(lS,{page:Y})):S});Z_.displayName="Link";var pS=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:f,...y},v){let w=mu(c,{relative:y.relative}),I=Mi(),A=F.useContext(Wc),{navigator:O,basename:z}=F.useContext(Qn),M=A!=null&&TS(w)&&d===!0,H=O.encodeLocation?O.encodeLocation(w).pathname:w.pathname,Y=I.pathname,W=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),W=W?W.toLowerCase():null,H=H.toLowerCase()),W&&z&&(W=xi(W,z)||W);const oe=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ve=Y===H||!o&&Y.startsWith(H)&&Y.charAt(oe)==="/",ae=W!=null&&(W===H||!o&&W.startsWith(H)&&W.charAt(H.length)==="/"),D={isActive:ve,isPending:ae,isTransitioning:M},S=ve?e:void 0,C;typeof i=="function"?C=i(D):C=[i,ve?"active":null,ae?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(D):a;return F.createElement(Z_,{...y,"aria-current":S,className:C,ref:v,style:k,to:c,viewTransition:d},typeof f=="function"?f(D):f)});pS.displayName="NavLink";var mS=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=tc,action:d,onSubmit:f,relative:y,preventScrollReset:v,viewTransition:w,...I},A)=>{let O=ES(),z=wS(d,{relative:y}),M=c.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&X_.test(d),Y=W=>{if(f&&f(W),W.defaultPrevented)return;W.preventDefault();let oe=W.nativeEvent.submitter,ve=(oe==null?void 0:oe.getAttribute("formmethod"))||c;O(oe||W.currentTarget,{fetcherKey:e,method:ve,navigate:t,replace:o,state:a,relative:y,preventScrollReset:v,viewTransition:w})};return F.createElement("form",{ref:A,method:M,action:z,onSubmit:i?f:Y,...I,"data-discover":!H&&n==="render"?"true":void 0})});mS.displayName="Form";function gS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ev(n){let e=F.useContext(jo);return et(e,gS(n)),e}function yS(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let d=Q_(),f=Mi(),y=mu(n,{relative:a});return F.useCallback(v=>{if(KI(v,e)){v.preventDefault();let w=t!==void 0?t:iu(f)===iu(y);d(n,{replace:w,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[f,d,y,t,i,e,n,o,a,c])}var _S=0,vS=()=>`__${String(++_S)}__`;function ES(){let{router:n}=ev("useSubmit"),{basename:e}=F.useContext(Qn),t=MI();return F.useCallback(async(i,o={})=>{let{action:a,method:c,encType:d,formData:f,body:y}=JI(i,e);if(o.navigate===!1){let v=o.fetcherKey||vS();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function wS(n,{relative:e}={}){let{basename:t}=F.useContext(Qn),i=F.useContext(Pn);et(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...mu(n||".",{relative:e})},c=Mi();if(n==null){a.search=c.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let v=d.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Mr([t,a.pathname])),iu(a)}function TS(n,e={}){let t=F.useContext(q_);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ev("useViewTransitionState"),o=mu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=xi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=xi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return _c(o.pathname,c)!=null||_c(o.pathname,a)!=null}new TextEncoder;var IS=U_();const SS=F_(IS);let RS={data:""},CS=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||RS,AS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,PS=/\/\*[^]*?\*\/|  +/g,ly=/\n+/g,vi=(n,e)=>{let t="",i="",o="";for(let a in n){let c=n[a];a[0]=="@"?a[1]=="i"?t=a+" "+c+";":i+=a[1]=="f"?vi(c,a):a+"{"+vi(c,a[1]=="k"?"":e)+"}":typeof c=="object"?i+=vi(c,e?e.replace(/([^,])+/g,d=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):a):c!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=vi.p?vi.p(a,c):a+":"+c+";")}return t+(e&&o?e+"{"+o+"}":o)+i},Nr={},tv=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+tv(n[t]);return e}return n},kS=(n,e,t,i,o)=>{let a=tv(n),c=Nr[a]||(Nr[a]=(f=>{let y=0,v=11;for(;y<f.length;)v=101*v+f.charCodeAt(y++)>>>0;return"go"+v})(a));if(!Nr[c]){let f=a!==n?n:(y=>{let v,w,I=[{}];for(;v=AS.exec(y.replace(PS,""));)v[4]?I.shift():v[3]?(w=v[3].replace(ly," ").trim(),I.unshift(I[0][w]=I[0][w]||{})):I[0][v[1]]=v[2].replace(ly," ").trim();return I[0]})(n);Nr[c]=vi(o?{["@keyframes "+c]:f}:f,t?"":"."+c)}let d=t&&Nr.g?Nr.g:null;return t&&(Nr.g=Nr[c]),((f,y,v,w)=>{w?y.data=y.data.replace(w,f):y.data.indexOf(f)===-1&&(y.data=v?f+y.data:y.data+f)})(Nr[c],e,i,d),c},xS=(n,e,t)=>n.reduce((i,o,a)=>{let c=e[a];if(c&&c.call){let d=c(t),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=f?"."+f:d&&typeof d=="object"?d.props?"":vi(d,""):d===!1?"":d}return i+o+(c??"")},"");function Kc(n){let e=this||{},t=n.call?n(e.p):n;return kS(t.unshift?t.raw?xS(t,[].slice.call(arguments,1),e.p):t.reduce((i,o)=>Object.assign(i,o&&o.call?o(e.p):o),{}):t,CS(e.target),e.g,e.o,e.k)}let nv,hf,df;Kc.bind({g:1});let jr=Kc.bind({k:1});function OS(n,e,t,i){vi.p=e,nv=n,hf=t,df=i}function Fi(n,e){let t=this||{};return function(){let i=arguments;function o(a,c){let d=Object.assign({},a),f=d.className||o.className;t.p=Object.assign({theme:hf&&hf()},d),t.o=/ *go\d+/.test(f),d.className=Kc.apply(t,i)+(f?" "+f:"");let y=n;return n[0]&&(y=d.as||n,delete d.as),df&&y[0]&&df(d),nv(y,d)}return o}}var DS=n=>typeof n=="function",vc=(n,e)=>DS(n)?n(e):n,NS=(()=>{let n=0;return()=>(++n).toString()})(),rv=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),bS=20,iv=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,bS)};case 1:return{...n,toasts:n.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:t}=e;return iv(n,{type:n.toasts.find(a=>a.id===t.id)?1:0,toast:t});case 3:let{toastId:i}=e;return{...n,toasts:n.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let o=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},rc=[],ic={toasts:[],pausedAt:void 0},Ss=n=>{ic=iv(ic,n),rc.forEach(e=>{e(ic)})},LS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},VS=(n={})=>{let[e,t]=F.useState(ic);F.useEffect(()=>(rc.push(t),()=>{let o=rc.indexOf(t);o>-1&&rc.splice(o,1)}),[e]);let i=e.toasts.map(o=>{var a,c,d;return{...n,...n[o.type],...o,removeDelay:o.removeDelay||((a=n[o.type])==null?void 0:a.removeDelay)||(n==null?void 0:n.removeDelay),duration:o.duration||((c=n[o.type])==null?void 0:c.duration)||(n==null?void 0:n.duration)||LS[o.type],style:{...n.style,...(d=n[o.type])==null?void 0:d.style,...o.style}}});return{...e,toasts:i}},MS=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||NS()}),gu=n=>(e,t)=>{let i=MS(e,n,t);return Ss({type:2,toast:i}),i.id},Kt=(n,e)=>gu("blank")(n,e);Kt.error=gu("error");Kt.success=gu("success");Kt.loading=gu("loading");Kt.custom=gu("custom");Kt.dismiss=n=>{Ss({type:3,toastId:n})};Kt.remove=n=>Ss({type:4,toastId:n});Kt.promise=(n,e,t)=>{let i=Kt.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let a=e.success?vc(e.success,o):void 0;return a?Kt.success(a,{id:i,...t,...t==null?void 0:t.success}):Kt.dismiss(i),o}).catch(o=>{let a=e.error?vc(e.error,o):void 0;a?Kt.error(a,{id:i,...t,...t==null?void 0:t.error}):Kt.dismiss(i)}),n};var FS=(n,e)=>{Ss({type:1,toast:{id:n,height:e}})},US=()=>{Ss({type:5,time:Date.now()})},Ja=new Map,jS=1e3,$S=(n,e=jS)=>{if(Ja.has(n))return;let t=setTimeout(()=>{Ja.delete(n),Ss({type:4,toastId:n})},e);Ja.set(n,t)},zS=n=>{let{toasts:e,pausedAt:t}=VS(n);F.useEffect(()=>{if(t)return;let a=Date.now(),c=e.map(d=>{if(d.duration===1/0)return;let f=(d.duration||0)+d.pauseDuration-(a-d.createdAt);if(f<0){d.visible&&Kt.dismiss(d.id);return}return setTimeout(()=>Kt.dismiss(d.id),f)});return()=>{c.forEach(d=>d&&clearTimeout(d))}},[e,t]);let i=F.useCallback(()=>{t&&Ss({type:6,time:Date.now()})},[t]),o=F.useCallback((a,c)=>{let{reverseOrder:d=!1,gutter:f=8,defaultPosition:y}=c||{},v=e.filter(A=>(A.position||y)===(a.position||y)&&A.height),w=v.findIndex(A=>A.id===a.id),I=v.filter((A,O)=>O<w&&A.visible).length;return v.filter(A=>A.visible).slice(...d?[I+1]:[0,I]).reduce((A,O)=>A+(O.height||0)+f,0)},[e]);return F.useEffect(()=>{e.forEach(a=>{if(a.dismissed)$S(a.id,a.removeDelay);else{let c=Ja.get(a.id);c&&(clearTimeout(c),Ja.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:FS,startPause:US,endPause:i,calculateOffset:o}}},BS=jr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,qS=jr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,HS=jr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,WS=Fi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${qS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${HS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,QS=jr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,KS=Fi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${QS} 1s linear infinite;
`,GS=jr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,YS=jr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,JS=Fi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${GS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${YS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,XS=Fi("div")`
  position: absolute;
`,ZS=Fi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,e0=jr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,t0=Fi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${e0} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,n0=({toast:n})=>{let{icon:e,type:t,iconTheme:i}=n;return e!==void 0?typeof e=="string"?F.createElement(t0,null,e):e:t==="blank"?null:F.createElement(ZS,null,F.createElement(KS,{...i}),t!=="loading"&&F.createElement(XS,null,t==="error"?F.createElement(WS,{...i}):F.createElement(JS,{...i})))},r0=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,i0=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,s0="0%{opacity:0;} 100%{opacity:1;}",o0="0%{opacity:1;} 100%{opacity:0;}",a0=Fi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,u0=Fi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,l0=(n,e)=>{let t=n.includes("top")?1:-1,[i,o]=rv()?[s0,o0]:[r0(t),i0(t)];return{animation:e?`${jr(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${jr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},c0=F.memo(({toast:n,position:e,style:t,children:i})=>{let o=n.height?l0(n.position||e||"top-center",n.visible):{opacity:0},a=F.createElement(n0,{toast:n}),c=F.createElement(u0,{...n.ariaProps},vc(n.message,n));return F.createElement(a0,{className:n.className,style:{...o,...t,...n.style}},typeof i=="function"?i({icon:a,message:c}):F.createElement(F.Fragment,null,a,c))});OS(F.createElement);var h0=({id:n,className:e,style:t,onHeightUpdate:i,children:o})=>{let a=F.useCallback(c=>{if(c){let d=()=>{let f=c.getBoundingClientRect().height;i(n,f)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return F.createElement("div",{ref:a,className:e,style:t},o)},d0=(n,e)=>{let t=n.includes("top"),i=t?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:rv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...i,...o}},f0=Kc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Kl=16,p0=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:i,children:o,containerStyle:a,containerClassName:c})=>{let{toasts:d,handlers:f}=zS(t);return F.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Kl,left:Kl,right:Kl,bottom:Kl,pointerEvents:"none",...a},className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map(y=>{let v=y.position||e,w=f.calculateOffset(y,{reverseOrder:n,gutter:i,defaultPosition:e}),I=d0(v,w);return F.createElement(h0,{id:y.id,key:y.id,onHeightUpdate:f.updateHeight,className:y.visible?f0:"",style:I},y.type==="custom"?vc(y.message,y):o?o(y):F.createElement(c0,{toast:y,position:v}))}))},Rn=Kt;const m0=()=>fe.jsxs("div",{className:"lds-roller",children:[fe.jsx("div",{}),fe.jsx("div",{}),fe.jsx("div",{}),fe.jsx("div",{}),fe.jsx("div",{}),fe.jsx("div",{}),fe.jsx("div",{}),fe.jsx("div",{})]});function cy(){return fe.jsx("div",{className:"cargandoSpinner",children:fe.jsx(m0,{})})}const hy=({isAllowed:n,redirectTo:e})=>n?fe.jsx($I,{}):fe.jsx(lf,{to:e,replace:!0});var dy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},g0=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,f=o+2<n.length,y=f?n[o+2]:0,v=a>>2,w=(a&3)<<4|d>>4;let I=(d&15)<<2|y>>6,A=y&63;f||(A=64,c||(I=64)),i.push(t[v],t[w],t[I],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(sv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):g0(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||y==null||w==null)throw new y0;const I=a<<2|d>>4;if(i.push(I),y!==64){const A=d<<4&240|y>>2;if(i.push(A),w!==64){const O=y<<6&192|w;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class y0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _0=function(n){const e=sv(n);return ov.encodeByteArray(e,!0)},Ec=function(n){return _0(n).replace(/\./g,"")},av=function(n){try{return ov.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=()=>v0().__FIREBASE_DEFAULTS__,w0=()=>{if(typeof process>"u"||typeof dy>"u")return;const n=dy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},T0=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&av(n[1]);return e&&JSON.parse(e)},Gc=()=>{try{return E0()||w0()||T0()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},uv=n=>{var e,t;return(t=(e=Gc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},I0=n=>{const e=uv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},lv=()=>{var n;return(n=Gc())===null||n===void 0?void 0:n.config},cv=n=>{var e;return(e=Gc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ec(JSON.stringify(t)),Ec(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function A0(){var n;const e=(n=Gc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k0(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function x0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O0(){const n=Bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function D0(){return!A0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N0(){try{return typeof indexedDB=="object"}catch{return!1}}function b0(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="FirebaseError";class Hr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=L0,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?V0(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Hr(o,d,i)}}function V0(n,e){return n.replace(M0,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const M0=/\{\$([^}]+)}/g;function F0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(fy(a)&&fy(c)){if(!wc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function fy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ha(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Wa(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function U0(n,e){const t=new j0(n,e);return t.subscribe.bind(t)}class j0{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");$0(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Yd),o.error===void 0&&(o.error=Yd),o.complete===void 0&&(o.complete=Yd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $0(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(n){return n&&n._delegate?n._delegate:n}class _s{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new S0;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q0(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:B0(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B0(n){return n===ms?void 0:n}function q0(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new z0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pe||(Pe={}));const W0={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Q0=Pe.INFO,K0={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},G0=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=K0[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yf{constructor(e){this.name=e,this._logLevel=Q0,this._logHandler=G0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Y0=(n,e)=>e.some(t=>n instanceof t);let py,my;function J0(){return py||(py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X0(){return my||(my=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hv=new WeakMap,ff=new WeakMap,dv=new WeakMap,Jd=new WeakMap,Jf=new WeakMap;function Z0(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Ri(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&hv.set(t,n)}).catch(()=>{}),Jf.set(e,n),e}function eR(n){if(ff.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});ff.set(n,e)}let pf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ff.get(n);if(e==="objectStoreNames")return n.objectStoreNames||dv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ri(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tR(n){pf=n(pf)}function nR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Xd(this),e,...t);return dv.set(i,e.sort?e.sort():[e]),Ri(i)}:X0().includes(n)?function(...e){return n.apply(Xd(this),e),Ri(hv.get(this))}:function(...e){return Ri(n.apply(Xd(this),e))}}function rR(n){return typeof n=="function"?nR(n):(n instanceof IDBTransaction&&eR(n),Y0(n,J0())?new Proxy(n,pf):n)}function Ri(n){if(n instanceof IDBRequest)return Z0(n);if(Jd.has(n))return Jd.get(n);const e=rR(n);return e!==n&&(Jd.set(n,e),Jf.set(e,n)),e}const Xd=n=>Jf.get(n);function iR(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=Ri(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Ri(c.result),f.oldVersion,f.newVersion,Ri(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const sR=["get","getKey","getAll","getAllKeys","count"],oR=["put","add","delete","clear"],Zd=new Map;function gy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=oR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||sR.includes(t)))return;const a=async function(c,...d){const f=this.transaction(c,o?"readwrite":"readonly");let y=f.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&f.done]))[0]};return Zd.set(e,a),a}tR(n=>({...n,get:(e,t,i)=>gy(e,t)||n.get(e,t,i),has:(e,t)=>!!gy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function uR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mf="@firebase/app",yy="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Yf("@firebase/app"),lR="@firebase/app-compat",cR="@firebase/analytics-compat",hR="@firebase/analytics",dR="@firebase/app-check-compat",fR="@firebase/app-check",pR="@firebase/auth",mR="@firebase/auth-compat",gR="@firebase/database",yR="@firebase/data-connect",_R="@firebase/database-compat",vR="@firebase/functions",ER="@firebase/functions-compat",wR="@firebase/installations",TR="@firebase/installations-compat",IR="@firebase/messaging",SR="@firebase/messaging-compat",RR="@firebase/performance",CR="@firebase/performance-compat",AR="@firebase/remote-config",PR="@firebase/remote-config-compat",kR="@firebase/storage",xR="@firebase/storage-compat",OR="@firebase/firestore",DR="@firebase/vertexai",NR="@firebase/firestore-compat",bR="firebase",LR="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="[DEFAULT]",VR={[mf]:"fire-core",[lR]:"fire-core-compat",[hR]:"fire-analytics",[cR]:"fire-analytics-compat",[fR]:"fire-app-check",[dR]:"fire-app-check-compat",[pR]:"fire-auth",[mR]:"fire-auth-compat",[gR]:"fire-rtdb",[yR]:"fire-data-connect",[_R]:"fire-rtdb-compat",[vR]:"fire-fn",[ER]:"fire-fn-compat",[wR]:"fire-iid",[TR]:"fire-iid-compat",[IR]:"fire-fcm",[SR]:"fire-fcm-compat",[RR]:"fire-perf",[CR]:"fire-perf-compat",[AR]:"fire-rc",[PR]:"fire-rc-compat",[kR]:"fire-gcs",[xR]:"fire-gcs-compat",[OR]:"fire-fst",[NR]:"fire-fst-compat",[DR]:"fire-vertex","fire-js":"fire-js",[bR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,MR=new Map,yf=new Map;function _y(n,e){try{n.container.addComponent(e)}catch(t){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Do(n){const e=n.name;if(yf.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;yf.set(e,n);for(const t of Tc.values())_y(t,n);for(const t of MR.values())_y(t,n);return!0}function Xf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function or(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ci=new yu("app","Firebase",FR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=LR;function fv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:gf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ci.create("bad-app-name",{appName:String(o)});if(t||(t=lv()),!t)throw Ci.create("no-options");const a=Tc.get(o);if(a){if(wc(t,a.options)&&wc(i,a.config))return a;throw Ci.create("duplicate-app",{appName:o})}const c=new H0(o);for(const f of yf.values())c.addComponent(f);const d=new UR(t,i,c);return Tc.set(o,d),d}function pv(n=gf){const e=Tc.get(n);if(!e&&n===gf&&lv())return fv();if(!e)throw Ci.create("no-app",{appName:n});return e}function Ai(n,e,t){var i;let o=(i=VR[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(d.join(" "));return}Do(new _s(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firebase-heartbeat-database",$R=1,su="firebase-heartbeat-store";let ef=null;function mv(){return ef||(ef=iR(jR,$R,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(su)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ci.create("idb-open",{originalErrorMessage:n.message})})),ef}async function zR(n){try{const t=(await mv()).transaction(su),i=await t.objectStore(su).get(gv(n));return await t.done,i}catch(e){if(e instanceof Hr)$r.warn(e.message);else{const t=Ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(t.message)}}}async function vy(n,e){try{const i=(await mv()).transaction(su,"readwrite");await i.objectStore(su).put(e,gv(n)),await i.done}catch(t){if(t instanceof Hr)$r.warn(t.message);else{const i=Ci.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});$r.warn(i.message)}}}function gv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=1024,qR=30*24*60*60*1e3;class HR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ey();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=qR}),this._storage.overwrite(this._heartbeatsCache))}catch(i){$r.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ey(),{heartbeatsToSend:i,unsentEntries:o}=WR(this._heartbeatsCache.heartbeats),a=Ec(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return $r.warn(t),""}}}function Ey(){return new Date().toISOString().substring(0,10)}function WR(n,e=BR){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),wy(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),wy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class QR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N0()?b0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await zR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return vy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return vy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function wy(n){return Ec(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n){Do(new _s("platform-logger",e=>new aR(e),"PRIVATE")),Do(new _s("heartbeat",e=>new HR(e),"PRIVATE")),Ai(mf,yy,n),Ai(mf,yy,"esm2017"),Ai("fire-js","")}KR("");var GR="firebase",YR="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(GR,YR,"app");function Zf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function yv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JR=yv,_v=new yu("auth","Firebase",yv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Yf("@firebase/auth");function XR(n,...e){Ic.logLevel<=Pe.WARN&&Ic.warn(`Auth (${zo}): ${n}`,...e)}function sc(n,...e){Ic.logLevel<=Pe.ERROR&&Ic.error(`Auth (${zo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(n,...e){throw ep(n,...e)}function ar(n,...e){return ep(n,...e)}function vv(n,e,t){const i=Object.assign(Object.assign({},JR()),{[e]:t});return new yu("auth","Firebase",i).create(e,{appName:n.name})}function Fr(n){return vv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ep(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return _v.create(n,...e)}function Ee(n,e,...t){if(!n)throw ep(e,...t)}function br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sc(e),new Error(e)}function zr(n,e){n||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ZR(){return Ty()==="http:"||Ty()==="https:"}function Ty(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZR()||k0()||"connection"in navigator)?navigator.onLine:!0}function tC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,zr(t>e,"Short delay should be less than long delay!"),this.isMobile=C0()||x0()}get(){return eC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(n,e){zr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new vu(3e4,6e4);function Ui(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ji(n,e,t,i,o={}){return wv(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=_u(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:f},a);return P0()||(y.referrerPolicy="no-referrer"),Ev.fetch()(Tv(n,n.config.apiHost,t,d),y)})}async function wv(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},nC),e);try{const o=new sC(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Gl(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[f,y]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gl(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Gl(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Gl(n,"user-disabled",c);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw vv(n,v,y);Hn(n,v)}}catch(o){if(o instanceof Hr)throw o;Hn(n,"network-request-failed",{message:String(o)})}}async function Eu(n,e,t,i,o={}){const a=await ji(n,e,t,i,o);return"mfaPendingCredential"in a&&Hn(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Tv(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?tp(n.config,o):`${n.config.apiScheme}://${o}`}function iC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ar(this.auth,"network-request-failed")),rC.get())})}}function Gl(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ar(n,e,i);return o.customData._tokenResponse=t,o}function Iy(n){return n!==void 0&&n.enterprise!==void 0}class oC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aC(n,e){return ji(n,"GET","/v2/recaptchaConfig",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(n,e){return ji(n,"POST","/v1/accounts:delete",e)}async function Iv(n,e){return ji(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lC(n,e=!1){const t=Yt(n),i=await t.getIdToken(e),o=np(i);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Xa(tf(o.auth_time)),issuedAtTime:Xa(tf(o.iat)),expirationTime:Xa(tf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function tf(n){return Number(n)*1e3}function np(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return sc("JWT malformed, contained fewer than 3 sections"),null;try{const o=av(t);return o?JSON.parse(o):(sc("Failed to decode base64 JWT payload"),null)}catch(o){return sc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Sy(n){const e=np(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Hr&&cC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function cC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await ou(n,Iv(t,{idToken:i}));Ee(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Sv(a.providerUserInfo):[],d=fC(n.providerData,c),f=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),v=f?y:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new vf(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function dC(n){const e=Yt(n);await Sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Sv(n){return n.map(e=>{var{providerId:t}=e,i=Zf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(n,e){const t=await wv(n,{},async()=>{const i=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=Tv(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Ev.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mC(n,e){return ji(n,"POST","/v2/accounts:revokeToken",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Sy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await pC(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new Po;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ee(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ee(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Lr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Zf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new vf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lC(this,e)}reload(){return dC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Sc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await ou(this,uC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,d,f,y,v;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,z=(d=t.tenantId)!==null&&d!==void 0?d:void 0,M=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,H=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Y=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:W,emailVerified:oe,isAnonymous:ve,providerData:ae,stsTokenManager:D}=t;Ee(W&&D,e,"internal-error");const S=Po.fromJSON(this.name,D);Ee(typeof W=="string",e,"internal-error"),yi(w,e.name),yi(I,e.name),Ee(typeof oe=="boolean",e,"internal-error"),Ee(typeof ve=="boolean",e,"internal-error"),yi(A,e.name),yi(O,e.name),yi(z,e.name),yi(M,e.name),yi(H,e.name),yi(Y,e.name);const C=new Lr({uid:W,auth:e,email:I,emailVerified:oe,displayName:w,isAnonymous:ve,photoURL:O,phoneNumber:A,tenantId:z,stsTokenManager:S,createdAt:H,lastLoginAt:Y});return ae&&Array.isArray(ae)&&(C.providerData=ae.map(k=>Object.assign({},k))),M&&(C._redirectEventId=M),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new Po;o.updateFromServerResponse(t);const a=new Lr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Sc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Sv(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Po;d.updateFromIdToken(i);const f=new Lr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,y),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=new Map;function Vr(n){zr(n instanceof Function,"Expected a class definition");let e=Ry.get(n);return e?(zr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ry.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Rv.type="NONE";const Cy=Rv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(n,e,t){return`firebase:${n}:${e}:${t}`}class ko{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=oc(this.userKey,o.apiKey,a),this.fullPersistenceKey=oc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Lr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ko(Vr(Cy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||Vr(Cy);const c=oc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const v=await y._get(c);if(v){const w=Lr._fromJSON(e,v);y!==a&&(d=w),a=y;break}}catch{}const f=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ko(a,e,i):(a=f[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new ko(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ov(e))return"Blackberry";if(Dv(e))return"Webos";if(Av(e))return"Safari";if((e.includes("chrome/")||Pv(e))&&!e.includes("edge/"))return"Chrome";if(xv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Cv(n=Bt()){return/firefox\//i.test(n)}function Av(n=Bt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pv(n=Bt()){return/crios\//i.test(n)}function kv(n=Bt()){return/iemobile/i.test(n)}function xv(n=Bt()){return/android/i.test(n)}function Ov(n=Bt()){return/blackberry/i.test(n)}function Dv(n=Bt()){return/webos/i.test(n)}function rp(n=Bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gC(n=Bt()){var e;return rp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yC(){return O0()&&document.documentMode===10}function Nv(n=Bt()){return rp(n)||xv(n)||Dv(n)||Ov(n)||/windows phone/i.test(n)||kv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(n,e=[]){let t;switch(n){case"Browser":t=Ay(Bt());break;case"Worker":t=`${Ay(Bt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${zo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,d)=>{try{const f=e(a);c(f)}catch(f){d(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(n,e={}){return ji(n,"GET","/v2/passwordPolicy",Ui(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=6;class wC{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:EC,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Py(this),this.idTokenSubscription=new Py(this),this.beforeStateQueue=new _C(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_v,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Iv(this,{idToken:e}),i=await Lr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(or(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Fr(this));const t=e?Yt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vC(this),t=new wC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await mC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[Vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&XR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Rs(n){return Yt(n)}class Py{constructor(e){this.auth=e,this.observer=null,this.addObserver=U0(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IC(n){Yc=n}function Lv(n){return Yc.loadJS(n)}function SC(){return Yc.recaptchaEnterpriseScript}function RC(){return Yc.gapiScript}function CC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class AC{constructor(){this.enterprise=new PC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class PC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const kC="recaptcha-enterprise",Vv="NO_RECAPTCHA";class xC{constructor(e){this.type=kC,this.auth=Rs(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{aC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new oC(f);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(f=>{d(f)})})}function o(a,c,d){const f=window.grecaptcha;Iy(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(Vv)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AC().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(d=>{if(!t&&Iy(window.grecaptcha))o(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=SC();f.length!==0&&(f+=d),Lv(f).then(()=>{o(d,a,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function ky(n,e,t,i=!1,o=!1){const a=new xC(n);let c;if(o)c=Vv;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ef(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ky(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ky(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n,e){const t=Xf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(wc(a,e??{}))return o;Hn(o,"already-initialized")}return t.initialize({options:e})}function DC(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Vr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function NC(n,e,t){const i=Rs(n);Ee(i._canInitEmulator,i,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=Mv(e),{host:c,port:d}=bC(e),f=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${c}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),LC()}function Mv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function bC(n){const e=Mv(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:xy(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:xy(c)}}}function xy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function LC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,t){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function VC(n,e){return ji(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(n,e){return Eu(n,"POST","/v1/accounts:signInWithPassword",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(n,e){return Eu(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))}async function UC(n,e){return Eu(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends ip{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new au(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new au(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ef(e,t,"signInWithPassword",MC);case"emailLink":return FC(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ef(e,i,"signUpPassword",VC);case"emailLink":return UC(e,{idToken:t,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(n,e){return Eu(n,"POST","/v1/accounts:signInWithIdp",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="http://localhost";class vs extends ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Zf(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new vs(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return xo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,xo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xo(e,t)}buildRequest(){const e={requestUri:jC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_u(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zC(n){const e=Ha(Wa(n)).link,t=e?Ha(Wa(e)).deep_link_id:null,i=Ha(Wa(n)).deep_link_id;return(i?Ha(Wa(i)).link:null)||i||t||e||n}class sp{constructor(e){var t,i,o,a,c,d;const f=Ha(Wa(e)),y=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(i=f.oobCode)!==null&&i!==void 0?i:null,w=$C((o=f.mode)!==null&&o!==void 0?o:null);Ee(y&&v&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=f.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=zC(e);try{return new sp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,t){return au._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=sp.parseLink(t);return Ee(i,"argument-error"),au._fromEmailAndCode(e,i.code,i.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Fv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends wu{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return vs._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return wi.credential(t,i)}catch{return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends wu{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.GITHUB_SIGN_IN_METHOD="github.com";Ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends wu{constructor(){super("twitter.com")}static credential(e,t){return vs._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ii.credential(t,i)}catch{return null}}}Ii.TWITTER_SIGN_IN_METHOD="twitter.com";Ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(n,e){return Eu(n,"POST","/v1/accounts:signUp",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Lr._fromIdTokenResponse(e,i,o),c=Oy(i);return new Es({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Oy(i);return new Es({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Oy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Hr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Rc(e,t,i,o)}}function Uv(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rc._fromErrorAndOperation(n,a,e,i):a})}async function qC(n,e,t=!1){const i=await ou(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Es._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(n,e,t=!1){const{auth:i}=n;if(or(i.app))return Promise.reject(Fr(i));const o="reauthenticate";try{const a=await ou(n,Uv(i,o,e,n),t);Ee(a.idToken,i,"internal-error");const c=np(a.idToken);Ee(c,i,"internal-error");const{sub:d}=c;return Ee(n.uid===d,i,"user-mismatch"),Es._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Hn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jv(n,e,t=!1){if(or(n.app))return Promise.reject(Fr(n));const i="signIn",o=await Uv(n,i,e),a=await Es._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function WC(n,e){return jv(Rs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $v(n){const e=Rs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QC(n,e,t){if(or(n.app))return Promise.reject(Fr(n));const i=Rs(n),c=await Ef(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BC).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&$v(n),f}),d=await Es._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function KC(n,e,t){return or(n.app)?Promise.reject(Fr(n)):WC(Yt(n),Bo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&$v(n),i})}function GC(n,e,t,i){return Yt(n).onIdTokenChanged(e,t,i)}function YC(n,e,t){return Yt(n).beforeAuthStateChanged(e,t)}function JC(n,e,t,i){return Yt(n).onAuthStateChanged(e,t,i)}function XC(n){return Yt(n).signOut()}const Cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cc,"1"),this.storage.removeItem(Cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=1e3,eA=10;class Bv extends zv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);yC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eA):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ZC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bv.type="LOCAL";const tA=Bv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends zv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qv.type="SESSION";const Hv=qv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Jc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,a)),f=await nA(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,f)=>{const y=op("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(w){const I=w;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function iA(n){ur().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function sA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aA(){return Wv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="firebaseLocalStorageDb",uA=1,Ac="firebaseLocalStorage",Kv="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xc(n,e){return n.transaction([Ac],e?"readwrite":"readonly").objectStore(Ac)}function lA(){const n=indexedDB.deleteDatabase(Qv);return new Tu(n).toPromise()}function wf(){const n=indexedDB.open(Qv,uA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ac,{keyPath:Kv})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ac)?e(i):(i.close(),await lA(),e(await wf()))})})}async function Dy(n,e,t){const i=Xc(n,!0).put({[Kv]:e,value:t});return new Tu(i).toPromise()}async function cA(n,e){const t=Xc(n,!1).get(e),i=await new Tu(t).toPromise();return i===void 0?null:i.value}function Ny(n,e){const t=Xc(n,!0).delete(e);return new Tu(t).toPromise()}const hA=800,dA=3;class Gv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>dA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jc._getInstance(aA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await sA(),!this.activeServiceWorker)return;this.sender=new rA(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wf();return await Dy(e,Cc,"1"),await Ny(e,Cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Dy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>cA(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ny(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Xc(o,!1).getAll();return new Tu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gv.type="LOCAL";const fA=Gv;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n,e){return e?Vr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mA(n){return jv(n.auth,new ap(n),n.bypassAuthState)}function gA(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),HC(t,new ap(n),n.bypassAuthState)}async function yA(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),qC(t,new ap(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mA;case"linkViaPopup":case"linkViaRedirect":return yA;case"reauthViaPopup":case"reauthViaRedirect":return gA;default:Hn(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new vu(2e3,1e4);class Ao extends Yv{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_A.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="pendingRedirect",ac=new Map;class EA extends Yv{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ac.get(this.auth._key());if(!e){try{const i=await wA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ac.set(this.auth._key(),e)}return this.bypassAuthState||ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wA(n,e){const t=SA(e),i=IA(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function TA(n,e){ac.set(n._key(),e)}function IA(n){return Vr(n._redirectPersistence)}function SA(n){return oc(vA,n.config.apiKey,n.name)}async function RA(n,e,t=!1){if(or(n.app))return Promise.reject(Fr(n));const i=Rs(n),o=pA(i,e),c=await new EA(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=10*60*1e3;class AA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Jv(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ar(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CA&&this.cachedEventUids.clear(),this.cachedEventUids.has(by(e))}saveEventToCache(e){this.cachedEventUids.add(by(e)),this.lastProcessedEventTime=Date.now()}}function by(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Jv({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jv(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(n,e={}){return ji(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OA=/^https?/;async function DA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await kA(n);for(const t of e)try{if(NA(t))return}catch{}Hn(n,"unauthorized-domain")}function NA(n){const e=_f(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!OA.test(t))return!1;if(xA.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new vu(3e4,6e4);function Ly(){const n=ur().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function LA(n){return new Promise((e,t)=>{var i,o,a;function c(){Ly(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ly(),t(ar(n,"network-request-failed"))},timeout:bA.get()})}if(!((o=(i=ur().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=ur().gapi)===null||a===void 0)&&a.load)c();else{const d=CC("iframefcb");return ur()[d]=()=>{gapi.load?c():t(ar(n,"network-request-failed"))},Lv(`${RC()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw uc=null,e})}let uc=null;function VA(n){return uc=uc||LA(n),uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=new vu(5e3,15e3),FA="__/auth/iframe",UA="emulator/auth/iframe",jA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$A=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zA(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tp(e,UA):`https://${n.config.authDomain}/${FA}`,i={apiKey:e.apiKey,appName:n.name,v:zo},o=$A.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${_u(i).slice(1)}`}async function BA(n){const e=await VA(n),t=ur().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:zA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jA,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=ar(n,"network-request-failed"),d=ur().setTimeout(()=>{a(c)},MA.get());function f(){ur().clearTimeout(d),o(i)}i.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HA=500,WA=600,QA="_blank",KA="http://localhost";class Vy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GA(n,e,t,i=HA,o=WA){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},qA),{width:i.toString(),height:o.toString(),top:a,left:c}),y=Bt().toLowerCase();t&&(d=Pv(y)?QA:t),Cv(y)&&(e=e||KA,f.scrollbars="yes");const v=Object.entries(f).reduce((I,[A,O])=>`${I}${A}=${O},`,"");if(gC(y)&&d!=="_self")return YA(e||"",d),new Vy(null);const w=window.open(e||"",d,v);Ee(w,n,"popup-blocked");try{w.focus()}catch{}return new Vy(w)}function YA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="__/auth/handler",XA="emulator/auth/handler",ZA=encodeURIComponent("fac");async function My(n,e,t,i,o,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:zo,eventId:o};if(e instanceof Fv){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",F0(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))c[v]=w}if(e instanceof wu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),y=f?`#${ZA}=${encodeURIComponent(f)}`:"";return`${eP(n)}?${_u(d).slice(1)}${y}`}function eP({config:n}){return n.emulator?tp(n,XA):`https://${n.authDomain}/${JA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="webStorageSupport";class tP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hv,this._completeRedirectFn=RA,this._overrideRedirectResult=TA}async _openPopup(e,t,i,o){var a;zr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await My(e,t,i,_f(),o);return GA(e,c,op())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await My(e,t,i,_f(),o);return iA(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(zr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await BA(e),i=new AA(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nf,{type:nf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[nf];c!==void 0&&t(!!c),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Nv()||Av()||rp()}}const nP=tP;var Fy="@firebase/auth",Uy="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sP(n){Do(new _s("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bv(n)},y=new TC(i,o,a,f);return DC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Do(new _s("auth-internal",e=>{const t=Rs(e.getProvider("auth").getImmediate());return(i=>new rP(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(Fy,Uy,iP(n)),Ai(Fy,Uy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=5*60,aP=cv("authIdTokenMaxAge")||oP;let jy=null;const uP=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>aP)return;const o=t==null?void 0:t.token;jy!==o&&(jy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lP(n=pv()){const e=Xf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=OC(n,{popupRedirectResolver:nP,persistence:[fA,tA,Hv]}),i=cv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=uP(a.toString());YC(t,c,()=>c(t.currentUser)),GC(t,d=>c(d))}}const o=uv("auth");return o&&NC(t,`http://${o}`),t}function cP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}IC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=ar("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",cP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sP("Browser");var $y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pi,Xv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function C(){}C.prototype=S.prototype,D.D=S.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(k,b,L){for(var P=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)P[$e-2]=arguments[$e];return S.prototype[b].apply(k,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,S,C){C||(C=0);var k=Array(16);if(typeof S=="string")for(var b=0;16>b;++b)k[b]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(b=0;16>b;++b)k[b]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=D.g[0],C=D.g[1],b=D.g[2];var L=D.g[3],P=S+(L^C&(b^L))+k[0]+3614090360&4294967295;S=C+(P<<7&4294967295|P>>>25),P=L+(b^S&(C^b))+k[1]+3905402710&4294967295,L=S+(P<<12&4294967295|P>>>20),P=b+(C^L&(S^C))+k[2]+606105819&4294967295,b=L+(P<<17&4294967295|P>>>15),P=C+(S^b&(L^S))+k[3]+3250441966&4294967295,C=b+(P<<22&4294967295|P>>>10),P=S+(L^C&(b^L))+k[4]+4118548399&4294967295,S=C+(P<<7&4294967295|P>>>25),P=L+(b^S&(C^b))+k[5]+1200080426&4294967295,L=S+(P<<12&4294967295|P>>>20),P=b+(C^L&(S^C))+k[6]+2821735955&4294967295,b=L+(P<<17&4294967295|P>>>15),P=C+(S^b&(L^S))+k[7]+4249261313&4294967295,C=b+(P<<22&4294967295|P>>>10),P=S+(L^C&(b^L))+k[8]+1770035416&4294967295,S=C+(P<<7&4294967295|P>>>25),P=L+(b^S&(C^b))+k[9]+2336552879&4294967295,L=S+(P<<12&4294967295|P>>>20),P=b+(C^L&(S^C))+k[10]+4294925233&4294967295,b=L+(P<<17&4294967295|P>>>15),P=C+(S^b&(L^S))+k[11]+2304563134&4294967295,C=b+(P<<22&4294967295|P>>>10),P=S+(L^C&(b^L))+k[12]+1804603682&4294967295,S=C+(P<<7&4294967295|P>>>25),P=L+(b^S&(C^b))+k[13]+4254626195&4294967295,L=S+(P<<12&4294967295|P>>>20),P=b+(C^L&(S^C))+k[14]+2792965006&4294967295,b=L+(P<<17&4294967295|P>>>15),P=C+(S^b&(L^S))+k[15]+1236535329&4294967295,C=b+(P<<22&4294967295|P>>>10),P=S+(b^L&(C^b))+k[1]+4129170786&4294967295,S=C+(P<<5&4294967295|P>>>27),P=L+(C^b&(S^C))+k[6]+3225465664&4294967295,L=S+(P<<9&4294967295|P>>>23),P=b+(S^C&(L^S))+k[11]+643717713&4294967295,b=L+(P<<14&4294967295|P>>>18),P=C+(L^S&(b^L))+k[0]+3921069994&4294967295,C=b+(P<<20&4294967295|P>>>12),P=S+(b^L&(C^b))+k[5]+3593408605&4294967295,S=C+(P<<5&4294967295|P>>>27),P=L+(C^b&(S^C))+k[10]+38016083&4294967295,L=S+(P<<9&4294967295|P>>>23),P=b+(S^C&(L^S))+k[15]+3634488961&4294967295,b=L+(P<<14&4294967295|P>>>18),P=C+(L^S&(b^L))+k[4]+3889429448&4294967295,C=b+(P<<20&4294967295|P>>>12),P=S+(b^L&(C^b))+k[9]+568446438&4294967295,S=C+(P<<5&4294967295|P>>>27),P=L+(C^b&(S^C))+k[14]+3275163606&4294967295,L=S+(P<<9&4294967295|P>>>23),P=b+(S^C&(L^S))+k[3]+4107603335&4294967295,b=L+(P<<14&4294967295|P>>>18),P=C+(L^S&(b^L))+k[8]+1163531501&4294967295,C=b+(P<<20&4294967295|P>>>12),P=S+(b^L&(C^b))+k[13]+2850285829&4294967295,S=C+(P<<5&4294967295|P>>>27),P=L+(C^b&(S^C))+k[2]+4243563512&4294967295,L=S+(P<<9&4294967295|P>>>23),P=b+(S^C&(L^S))+k[7]+1735328473&4294967295,b=L+(P<<14&4294967295|P>>>18),P=C+(L^S&(b^L))+k[12]+2368359562&4294967295,C=b+(P<<20&4294967295|P>>>12),P=S+(C^b^L)+k[5]+4294588738&4294967295,S=C+(P<<4&4294967295|P>>>28),P=L+(S^C^b)+k[8]+2272392833&4294967295,L=S+(P<<11&4294967295|P>>>21),P=b+(L^S^C)+k[11]+1839030562&4294967295,b=L+(P<<16&4294967295|P>>>16),P=C+(b^L^S)+k[14]+4259657740&4294967295,C=b+(P<<23&4294967295|P>>>9),P=S+(C^b^L)+k[1]+2763975236&4294967295,S=C+(P<<4&4294967295|P>>>28),P=L+(S^C^b)+k[4]+1272893353&4294967295,L=S+(P<<11&4294967295|P>>>21),P=b+(L^S^C)+k[7]+4139469664&4294967295,b=L+(P<<16&4294967295|P>>>16),P=C+(b^L^S)+k[10]+3200236656&4294967295,C=b+(P<<23&4294967295|P>>>9),P=S+(C^b^L)+k[13]+681279174&4294967295,S=C+(P<<4&4294967295|P>>>28),P=L+(S^C^b)+k[0]+3936430074&4294967295,L=S+(P<<11&4294967295|P>>>21),P=b+(L^S^C)+k[3]+3572445317&4294967295,b=L+(P<<16&4294967295|P>>>16),P=C+(b^L^S)+k[6]+76029189&4294967295,C=b+(P<<23&4294967295|P>>>9),P=S+(C^b^L)+k[9]+3654602809&4294967295,S=C+(P<<4&4294967295|P>>>28),P=L+(S^C^b)+k[12]+3873151461&4294967295,L=S+(P<<11&4294967295|P>>>21),P=b+(L^S^C)+k[15]+530742520&4294967295,b=L+(P<<16&4294967295|P>>>16),P=C+(b^L^S)+k[2]+3299628645&4294967295,C=b+(P<<23&4294967295|P>>>9),P=S+(b^(C|~L))+k[0]+4096336452&4294967295,S=C+(P<<6&4294967295|P>>>26),P=L+(C^(S|~b))+k[7]+1126891415&4294967295,L=S+(P<<10&4294967295|P>>>22),P=b+(S^(L|~C))+k[14]+2878612391&4294967295,b=L+(P<<15&4294967295|P>>>17),P=C+(L^(b|~S))+k[5]+4237533241&4294967295,C=b+(P<<21&4294967295|P>>>11),P=S+(b^(C|~L))+k[12]+1700485571&4294967295,S=C+(P<<6&4294967295|P>>>26),P=L+(C^(S|~b))+k[3]+2399980690&4294967295,L=S+(P<<10&4294967295|P>>>22),P=b+(S^(L|~C))+k[10]+4293915773&4294967295,b=L+(P<<15&4294967295|P>>>17),P=C+(L^(b|~S))+k[1]+2240044497&4294967295,C=b+(P<<21&4294967295|P>>>11),P=S+(b^(C|~L))+k[8]+1873313359&4294967295,S=C+(P<<6&4294967295|P>>>26),P=L+(C^(S|~b))+k[15]+4264355552&4294967295,L=S+(P<<10&4294967295|P>>>22),P=b+(S^(L|~C))+k[6]+2734768916&4294967295,b=L+(P<<15&4294967295|P>>>17),P=C+(L^(b|~S))+k[13]+1309151649&4294967295,C=b+(P<<21&4294967295|P>>>11),P=S+(b^(C|~L))+k[4]+4149444226&4294967295,S=C+(P<<6&4294967295|P>>>26),P=L+(C^(S|~b))+k[11]+3174756917&4294967295,L=S+(P<<10&4294967295|P>>>22),P=b+(S^(L|~C))+k[2]+718787259&4294967295,b=L+(P<<15&4294967295|P>>>17),P=C+(L^(b|~S))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(b+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+L&4294967295}i.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var C=S-this.blockSize,k=this.B,b=this.h,L=0;L<S;){if(b==0)for(;L<=C;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<S;)if(k[b++]=D.charCodeAt(L++),b==this.blockSize){o(this,k),b=0;break}}else for(;L<S;)if(k[b++]=D[L++],b==this.blockSize){o(this,k),b=0;break}}this.h=b,this.o+=S},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var C=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=C&255,C/=256;for(this.u(D),D=Array(16),S=C=0;4>S;++S)for(var k=0;32>k;k+=8)D[C++]=this.g[S]>>>k&255;return D};function a(D,S){var C=d;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=S(D)}function c(D,S){this.h=S;for(var C=[],k=!0,b=D.length-1;0<=b;b--){var L=D[b]|0;k&&L==S||(C[b]=L,k=!1)}this.g=C}var d={};function f(D){return-128<=D&&128>D?a(D,function(S){return new c([S|0],0>S?-1:0)}):new c([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return M(y(-D));for(var S=[],C=1,k=0;D>=C;k++)S[k]=D/C|0,C*=4294967296;return new c(S,0)}function v(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return M(v(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(S,8)),k=w,b=0;b<D.length;b+=8){var L=Math.min(8,D.length-b),P=parseInt(D.substring(b,b+L),S);8>L?(L=y(Math.pow(S,L)),k=k.j(L).add(y(P))):(k=k.j(C),k=k.add(y(P)))}return k}var w=f(0),I=f(1),A=f(16777216);n=c.prototype,n.m=function(){if(z(this))return-M(this).m();for(var D=0,S=1,C=0;C<this.g.length;C++){var k=this.i(C);D+=(0<=k?k:4294967296+k)*S,S*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O(this))return"0";if(z(this))return"-"+M(this).toString(D);for(var S=y(Math.pow(D,6)),C=this,k="";;){var b=oe(C,S).g;C=H(C,b.j(S));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=b,O(C))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function O(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function z(D){return D.h==-1}n.l=function(D){return D=H(this,D),z(D)?-1:O(D)?0:1};function M(D){for(var S=D.g.length,C=[],k=0;k<S;k++)C[k]=~D.g[k];return new c(C,~D.h).add(I)}n.abs=function(){return z(this)?M(this):this},n.add=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],k=0,b=0;b<=S;b++){var L=k+(this.i(b)&65535)+(D.i(b)&65535),P=(L>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);k=P>>>16,L&=65535,P&=65535,C[b]=P<<16|L}return new c(C,C[C.length-1]&-2147483648?-1:0)};function H(D,S){return D.add(M(S))}n.j=function(D){if(O(this)||O(D))return w;if(z(this))return z(D)?M(this).j(M(D)):M(M(this).j(D));if(z(D))return M(this.j(M(D)));if(0>this.l(A)&&0>D.l(A))return y(this.m()*D.m());for(var S=this.g.length+D.g.length,C=[],k=0;k<2*S;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var b=0;b<D.g.length;b++){var L=this.i(k)>>>16,P=this.i(k)&65535,$e=D.i(b)>>>16,tt=D.i(b)&65535;C[2*k+2*b]+=P*tt,Y(C,2*k+2*b),C[2*k+2*b+1]+=L*tt,Y(C,2*k+2*b+1),C[2*k+2*b+1]+=P*$e,Y(C,2*k+2*b+1),C[2*k+2*b+2]+=L*$e,Y(C,2*k+2*b+2)}for(k=0;k<S;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=S;k<2*S;k++)C[k]=0;return new c(C,0)};function Y(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function W(D,S){this.g=D,this.h=S}function oe(D,S){if(O(S))throw Error("division by zero");if(O(D))return new W(w,w);if(z(D))return S=oe(M(D),S),new W(M(S.g),M(S.h));if(z(S))return S=oe(D,M(S)),new W(M(S.g),S.h);if(30<D.g.length){if(z(D)||z(S))throw Error("slowDivide_ only works with positive integers.");for(var C=I,k=S;0>=k.l(D);)C=ve(C),k=ve(k);var b=ae(C,1),L=ae(k,1);for(k=ae(k,2),C=ae(C,2);!O(k);){var P=L.add(k);0>=P.l(D)&&(b=b.add(C),L=P),k=ae(k,1),C=ae(C,1)}return S=H(D,b.j(S)),new W(b,S)}for(b=w;0<=D.l(S);){for(C=Math.max(1,Math.floor(D.m()/S.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=y(C),P=L.j(S);z(P)||0<P.l(D);)C-=k,L=y(C),P=L.j(S);O(L)&&(L=I),b=b.add(L),D=H(D,P)}return new W(b,D)}n.A=function(D){return oe(this,D).h},n.and=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)&D.i(k);return new c(C,this.h&D.h)},n.or=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)|D.i(k);return new c(C,this.h|D.h)},n.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)^D.i(k);return new c(C,this.h^D.h)};function ve(D){for(var S=D.g.length+1,C=[],k=0;k<S;k++)C[k]=D.i(k)<<1|D.i(k-1)>>>31;return new c(C,D.h)}function ae(D,S){var C=S>>5;S%=32;for(var k=D.g.length-C,b=[],L=0;L<k;L++)b[L]=0<S?D.i(L+C)>>>S|D.i(L+C+1)<<32-S:D.i(L+C);return new c(b,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Xv=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,Pi=c}).apply(typeof $y<"u"?$y:typeof self<"u"?self:typeof window<"u"?window:{});var Yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zv,Qa,eE,lc,Tf,tE,nE,rE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,_){return l==Array.prototype||l==Object.prototype||(l[m]=_.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yl=="object"&&Yl];for(var m=0;m<l.length;++m){var _=l[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(l,m){if(m)e:{var _=i;l=l.split(".");for(var T=0;T<l.length-1;T++){var U=l[T];if(!(U in _))break e;_=_[U]}l=l[l.length-1],T=_[l],m=m(T),m!=T&&m!=null&&e(_,l,{configurable:!0,writable:!0,value:m})}}function a(l,m){l instanceof String&&(l+="");var _=0,T=!1,U={next:function(){if(!T&&_<l.length){var q=_++;return{value:m(q,l[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(l){return l||function(){return a(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function f(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function y(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function v(l,m,_){return l.call.apply(l.bind,arguments)}function w(l,m,_){if(!l)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),l.apply(m,U)}}return function(){return l.apply(m,arguments)}}function I(l,m,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,I.apply(null,arguments)}function A(l,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function O(l,m){function _(){}_.prototype=m.prototype,l.aa=m.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(T,U,q){for(var ne=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ne[Be-2]=arguments[Be];return m.prototype[U].apply(T,ne)}}function z(l){const m=l.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=l[T];return _}return[]}function M(l,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(f(T)){const U=l.length||0,q=T.length||0;l.length=U+q;for(let ne=0;ne<q;ne++)l[U+ne]=T[ne]}else l.push(T)}}class H{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(l){return/^[\s\xa0]*$/.test(l)}function W(){var l=d.navigator;return l&&(l=l.userAgent)?l:""}function oe(l){return oe[" "](l),l}oe[" "]=function(){};var ve=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ae(l,m,_){for(const T in l)m.call(_,l[T],T,l)}function D(l,m){for(const _ in l)m.call(void 0,l[_],_,l)}function S(l){const m={};for(const _ in l)m[_]=l[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,m){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)l[_]=T[_];for(let q=0;q<C.length;q++)_=C[q],Object.prototype.hasOwnProperty.call(T,_)&&(l[_]=T[_])}}function b(l){var m=1;l=l.split(":");const _=[];for(;0<m&&l.length;)_.push(l.shift()),m--;return l.length&&_.push(l.join(":")),_}function L(l){d.setTimeout(()=>{throw l},0)}function P(){var l=de;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class $e{constructor(){this.h=this.g=null}add(m,_){const T=tt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var tt=new H(()=>new qe,l=>l.reset());class qe{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let De,te=!1,de=new $e,re=()=>{const l=d.Promise.resolve(void 0);De=()=>{l.then(V)}};var V=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(_){L(_)}var m=tt;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}te=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return l}();function Ce(l,m){if(me.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(ve){e:{try{oe(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=l.fromElement:_=="mouseout"&&(m=l.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ne[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ce.aa.h.call(this)}}O(Ce,me);var Ne={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function We(l,m,_,T,U){this.listener=l,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function wt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function mr(l){this.src=l,this.g={},this.h=0}mr.prototype.add=function(l,m,_,T,U){var q=l.toString();l=this.g[q],l||(l=this.g[q]=[],this.h++);var ne=Wr(l,m,T,U);return-1<ne?(m=l[ne],_||(m.fa=!1)):(m=new We(m,this.src,q,!!T,U),m.fa=_,l.push(m)),m};function xs(l,m){var _=m.type;if(_ in l.g){var T=l.g[_],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(T,U,1),q&&(wt(m),l.g[_].length==0&&(delete l.g[_],l.h--))}}function Wr(l,m,_,T){for(var U=0;U<l.length;++U){var q=l[U];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==T)return U}return-1}var $i="closure_lm_"+(1e6*Math.random()|0),Os={};function Ko(l,m,_,T,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Ko(l,m[q],_,T,U);return null}return _=Jo(_),l&&l[Fe]?l.K(m,_,y(T)?!!T.capture:!1,U):Go(l,m,_,!1,T,U)}function Go(l,m,_,T,U,q){if(!m)throw Error("Invalid event type");var ne=y(U)?!!U.capture:!!U,Be=Ns(l);if(Be||(l[$i]=Be=new mr(l)),_=Be.add(m,_,T,ne,q),_.proxy)return _;if(T=Ou(),_.proxy=T,T.src=l,T.listener=_,l.addEventListener)Re||(U=ne),U===void 0&&(U=!1),l.addEventListener(m.toString(),T,U);else if(l.attachEvent)l.attachEvent(yr(m.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ou(){function l(_){return m.call(l.src,l.listener,_)}const m=Yo;return l}function Ds(l,m,_,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ds(l,m[q],_,T,U);else T=y(T)?!!T.capture:!!T,_=Jo(_),l&&l[Fe]?(l=l.i,m=String(m).toString(),m in l.g&&(q=l.g[m],_=Wr(q,_,T,U),-1<_&&(wt(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete l.g[m],l.h--)))):l&&(l=Ns(l))&&(m=l.g[m.toString()],l=-1,m&&(l=Wr(m,_,T,U)),(_=-1<l?m[l]:null)&&gr(_))}function gr(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[Fe])xs(m.i,l);else{var _=l.type,T=l.proxy;m.removeEventListener?m.removeEventListener(_,T,l.capture):m.detachEvent?m.detachEvent(yr(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Ns(m))?(xs(_,l),_.h==0&&(_.src=null,m[$i]=null)):wt(l)}}}function yr(l){return l in Os?Os[l]:Os[l]="on"+l}function Yo(l,m){if(l.da)l=!0;else{m=new Ce(m,this);var _=l.listener,T=l.ha||l.src;l.fa&&gr(l),l=_.call(T,m)}return l}function Ns(l){return l=l[$i],l instanceof mr?l:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jo(l){return typeof l=="function"?l:(l[bs]||(l[bs]=function(m){return l.handleEvent(m)}),l[bs])}function pt(){Q.call(this),this.i=new mr(this),this.M=this,this.F=null}O(pt,Q),pt.prototype[Fe]=!0,pt.prototype.removeEventListener=function(l,m,_,T){Ds(this,l,m,_,T)};function mt(l,m){var _,T=l.F;if(T)for(_=[];T;T=T.F)_.push(T);if(l=l.M,T=m.type||m,typeof m=="string")m=new me(m,l);else if(m instanceof me)m.target=m.target||l;else{var U=m;m=new me(T,l),k(m,U)}if(U=!0,_)for(var q=_.length-1;0<=q;q--){var ne=m.g=_[q];U=_r(ne,T,!0,m)&&U}if(ne=m.g=l,U=_r(ne,T,!0,m)&&U,U=_r(ne,T,!1,m)&&U,_)for(q=0;q<_.length;q++)ne=m.g=_[q],U=_r(ne,T,!1,m)&&U}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var _=l.g[m],T=0;T<_.length;T++)wt(_[T]);delete l.g[m],l.h--}}this.F=null},pt.prototype.K=function(l,m,_,T){return this.i.add(String(l),m,!1,_,T)},pt.prototype.L=function(l,m,_,T){return this.i.add(String(l),m,!0,_,T)};function _r(l,m,_,T){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var ne=m[q];if(ne&&!ne.da&&ne.capture==_){var Be=ne.listener,gt=ne.ha||ne.src;ne.fa&&xs(l.i,ne),U=Be.call(gt,T)!==!1&&U}}return U&&!T.defaultPrevented}function Xo(l,m,_){if(typeof l=="function")_&&(l=I(l,_));else if(l&&typeof l.handleEvent=="function")l=I(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(l,m||0)}function Qr(l){l.g=Xo(()=>{l.g=null,l.i&&(l.i=!1,Qr(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class zi extends Q{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Qr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bi(l){Q.call(this),this.h=l,this.g={}}O(Bi,Q);var Zo=[];function ea(l){ae(l.g,function(m,_){this.g.hasOwnProperty(_)&&gr(m)},l),l.g={}}Bi.prototype.N=function(){Bi.aa.N.call(this),ea(this)},Bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ta=d.JSON.stringify,na=d.JSON.parse,ra=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function qi(){}qi.prototype.h=null;function Ls(l){return l.h||(l.h=l.i())}function Vs(){}var mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){me.call(this,"d")}O(Kn,me);function Ms(){me.call(this,"c")}O(Ms,me);var Gn={},ia=null;function Hi(){return ia=ia||new pt}Gn.La="serverreachability";function sa(l){me.call(this,Gn.La,l)}O(sa,me);function vr(l){const m=Hi();mt(m,new sa(m))}Gn.STAT_EVENT="statevent";function oa(l,m){me.call(this,Gn.STAT_EVENT,l),this.stat=m}O(oa,me);function at(l){const m=Hi();mt(m,new oa(m,l))}Gn.Ma="timingevent";function Fs(l,m){me.call(this,Gn.Ma,l),this.size=m}O(Fs,me);function kn(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},m)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function Qi(l,m,_,T,U,q){l.info(function(){if(l.g)if(q)for(var ne="",Be=q.split("&"),gt=0;gt<Be.length;gt++){var be=Be[gt].split("=");if(1<be.length){var Tt=be[0];be=be[1];var ct=Tt.split("_");ne=2<=ct.length&&ct[1]=="type"?ne+(Tt+"="+be+"&"):ne+(Tt+"=redacted&")}}else ne=null;else ne=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+_+`
`+ne})}function Us(l,m,_,T,U,q,ne){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+_+`
`+q+" "+ne})}function xn(l,m,_,T){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+yh(l,_)+(T?" "+T:"")})}function aa(l,m){l.info(function(){return"TIMEOUT: "+m})}Wi.prototype.info=function(){};function yh(l,m){if(!l.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var T=_[l];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ne=1;ne<U.length;ne++)U[ne]=""}}}}return ta(_)}catch{return m}}var js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Du={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function Ki(){}O(Ki,qi),Ki.prototype.g=function(){return new XMLHttpRequest},Ki.prototype.i=function(){return{}},On=new Ki;function Dn(l,m,_,T){this.j=l,this.i=m,this.l=_,this.R=T||1,this.U=new Bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nu}function Nu(){this.i=null,this.g="",this.h=!1}var ua={},$s={};function zs(l,m,_){l.L=1,l.v=Xr(ln(m)),l.m=_,l.P=!0,la(l,null)}function la(l,m){l.F=Date.now(),Qe(l),l.A=ln(l.v);var _=l.A,T=l.R;Array.isArray(T)||(T=[String(T)]),ei(_.i,"t",T),l.C=0,_=l.j.J,l.h=new Nu,l.g=Ju(l.j,_?m:null,!l.m),0<l.O&&(l.M=new zi(I(l.Y,l,l.g),l.O)),m=l.U,_=l.g,T=l.ca;var U="readystatechange";Array.isArray(U)||(U&&(Zo[0]=U.toString()),U=Zo);for(var q=0;q<U.length;q++){var ne=Ko(_,U[q],T||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=l.H?S(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),vr(),Qi(l.i,l.u,l.A,l.l,l.R,l.m)}Dn.prototype.ca=function(l){l=l.target;const m=this.M;m&&Xt(l)==3?m.j():this.Y(l)},Dn.prototype.Y=function(l){try{if(l==this.g)e:{const ct=Xt(this.g);var m=this.g.Ba();const _n=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||ma(this.g)))){this.J||ct!=4||m==7||(m==8||0>=_n?vr(3):vr(2)),Gi(this);var _=this.g.Z();this.X=_;t:if(bu(this)){var T=ma(this.g);l="";var U=T.length,q=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),Kr(this);var ne="";break t}this.h.i=new d.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,l+=this.h.i.decode(T[m],{stream:!(q&&m==U-1)});T.length=0,this.h.g+=l,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=_==200,Us(this.i,this.u,this.A,this.l,this.R,ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,gt=this.g;if((Be=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Be)){var be=Be;break t}}be=null}if(_=be)xn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ca(this,_);else{this.o=!1,this.s=3,at(12),gn(this),Kr(this);break e}}if(this.P){_=!0;let hn;for(;!this.J&&this.C<ne.length;)if(hn=_h(this,ne),hn==$s){ct==4&&(this.s=4,at(14),_=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==ua){this.s=4,at(15),xn(this.i,this.l,ne,"[Invalid Chunk]"),_=!1;break}else xn(this.i,this.l,hn,null),ca(this,hn);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||ne.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)xn(this.i,this.l,ne,"[Invalid Chunked Response]"),gn(this),Kr(this);else if(0<ne.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),ya(Tt),Tt.M=!0,at(11))}}else xn(this.i,this.l,ne,null),ca(this,ne);ct==4&&gn(this),this.o&&!this.J&&(ct==4?Zs(this.j,this):(this.o=!1,Qe(this)))}else Ks(this.g),_==400&&0<ne.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),gn(this),Kr(this)}}}catch{}finally{}};function bu(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function _h(l,m){var _=l.C,T=m.indexOf(`
`,_);return T==-1?$s:(_=Number(m.substring(_,T)),isNaN(_)?ua:(T+=1,T+_>m.length?$s:(m=m.slice(T,T+_),l.C=T+_,m)))}Dn.prototype.cancel=function(){this.J=!0,gn(this)};function Qe(l){l.S=Date.now()+l.I,Lu(l,l.I)}function Lu(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=kn(I(l.ba,l),m)}function Gi(l){l.B&&(d.clearTimeout(l.B),l.B=null)}Dn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(aa(this.i,this.A),this.L!=2&&(vr(),at(17)),gn(this),this.s=2,Kr(this)):Lu(this,this.S-l)};function Kr(l){l.j.G==0||l.J||Zs(l.j,l)}function gn(l){Gi(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,ea(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function ca(l,m){try{var _=l.j;if(_.G!=0&&(_.g==l||qt(_.h,l))){if(!l.K&&qt(_.h,l)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)Xs(_),Mn(_);else break e;Js(_),at(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=kn(I(_.Za,_),6e3));if(1>=Mu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Sr(_,11)}else if((l.K||_.g==l)&&Xs(_),!Y(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let be=U[m];if(_.T=be[0],be=be[1],_.G==2)if(be[0]=="c"){_.K=be[1],_.ia=be[2];const Tt=be[3];Tt!=null&&(_.la=Tt,_.j.info("VER="+_.la));const ct=be[4];ct!=null&&(_.Aa=ct,_.j.info("SVER="+_.Aa));const _n=be[5];_n!=null&&typeof _n=="number"&&0<_n&&(T=1.5*_n,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const hn=l.g;if(hn){const ns=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ns){var q=T.h;q.g||ns.indexOf("spdy")==-1&&ns.indexOf("quic")==-1&&ns.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ha(q,q.h),q.h=null))}if(T.D){const to=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(T.ya=to,He(T.I,T.D,to))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var ne=l;if(T.qa=Yu(T,T.J?T.ia:null,T.W),ne.K){Fu(T.h,ne);var Be=ne,gt=T.L;gt&&(Be.I=gt),Be.B&&(Gi(Be),Qe(Be)),T.g=ne}else ts(T);0<_.i.length&&Zn(_)}else be[0]!="stop"&&be[0]!="close"||Sr(_,7);else _.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Sr(_,7):Pt(_):be[0]!="noop"&&_.l&&_.l.ta(be),_.v=0)}}vr(4)}catch{}}var Vu=class{constructor(l,m){this.g=l,this.map=m}};function Yi(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function un(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Mu(l){return l.h?1:l.g?l.g.size:0}function qt(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function ha(l,m){l.g?l.g.add(m):l.h=m}function Fu(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}Yi.prototype.cancel=function(){if(this.i=Uu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Uu(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const _ of l.g.values())m=m.concat(_.D);return m}return z(l.i)}function Bs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(f(l)){for(var m=[],_=l.length,T=0;T<_;T++)m.push(l[T]);return m}m=[],_=0;for(T in l)m[_++]=l[T];return m}function qs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(f(l)||typeof l=="string"){var m=[];l=l.length;for(var _=0;_<l;_++)m.push(_);return m}m=[],_=0;for(const T in l)m[_++]=T;return m}}}function Gr(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(f(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var _=qs(l),T=Bs(l),U=T.length,q=0;q<U;q++)m.call(void 0,T[q],_&&_[q],l)}var Ji=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vh(l,m){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var T=l[_].indexOf("="),U=null;if(0<=T){var q=l[_].substring(0,T);U=l[_].substring(T+1)}else q=l[_];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Er(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Er){this.h=l.h,Xi(this,l.j),this.o=l.o,this.g=l.g,Yr(this,l.s),this.l=l.l;var m=l.i,_=new Yn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Jr(this,_),this.m=l.m}else l&&(m=String(l).match(Ji))?(this.h=!1,Xi(this,m[1]||"",!0),this.o=xe(m[2]||""),this.g=xe(m[3]||"",!0),Yr(this,m[4]),this.l=xe(m[5]||"",!0),Jr(this,m[6]||"",!0),this.m=xe(m[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}Er.prototype.toString=function(){var l=[],m=this.j;m&&l.push(Zr(m,Hs,!0),":");var _=this.g;return(_||m=="file")&&(l.push("//"),(m=this.o)&&l.push(Zr(m,Hs,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(Zr(_,_.charAt(0)=="/"?zu:$u,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",Zr(_,da)),l.join("")};function ln(l){return new Er(l)}function Xi(l,m,_){l.j=_?xe(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function Yr(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function Jr(l,m,_){m instanceof Yn?(l.i=m,Jn(l.i,l.h)):(_||(m=Zr(m,Bu)),l.i=new Yn(m,l.h))}function He(l,m,_){l.i.set(m,_)}function Xr(l){return He(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function xe(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Zr(l,m,_){return typeof l=="string"?(l=encodeURI(l).replace(m,ju),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ju(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Hs=/[#\/\?@]/g,$u=/[#\?:]/g,zu=/[#\?]/g,Bu=/[#\?@]/g,da=/#/g;function Yn(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function At(l){l.g||(l.g=new Map,l.h=0,l.i&&vh(l.i,function(m,_){l.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=Yn.prototype,n.add=function(l,m){At(this),this.i=null,l=yn(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(m),this.h+=1,this};function Nn(l,m){At(l),m=yn(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function bn(l,m){return At(l),m=yn(l,m),l.g.has(m)}n.forEach=function(l,m){At(this),this.g.forEach(function(_,T){_.forEach(function(U){l.call(m,U,T,this)},this)},this)},n.na=function(){At(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const U=l[T];for(let q=0;q<U.length;q++)_.push(m[T])}return _},n.V=function(l){At(this);let m=[];if(typeof l=="string")bn(this,l)&&(m=m.concat(this.g.get(yn(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)m=m.concat(l[_])}return m},n.set=function(l,m){return At(this),this.i=null,l=yn(this,l),bn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},n.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function ei(l,m,_){Nn(l,m),0<_.length&&(l.i=null,l.g.set(yn(l,m),z(_)),l.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const q=encodeURIComponent(String(T)),ne=this.V(T);for(T=0;T<ne.length;T++){var U=q;ne[T]!==""&&(U+="="+encodeURIComponent(String(ne[T]))),l.push(U)}}return this.i=l.join("&")};function yn(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function Jn(l,m){m&&!l.j&&(At(l),l.i=null,l.g.forEach(function(_,T){var U=T.toLowerCase();T!=U&&(Nn(this,T),ei(this,U,_))},l)),l.j=m}function Eh(l,m){const _=new Wi;if(d.Image){const T=new Image;T.onload=A(Jt,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Jt,_,"TestLoadImage: error",!1,m,T),T.onabort=A(Jt,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Jt,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else m(!1)}function qu(l,m){const _=new Wi,T=new AbortController,U=setTimeout(()=>{T.abort(),Jt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?Jt(_,"TestPingServer: ok",!0,m):Jt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Jt(_,"TestPingServer: error",!1,m)})}function Jt(l,m,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function wh(){this.g=new ra}function Hu(l,m,_){const T=_||"";try{Gr(l,function(U,q){let ne=U;y(U)&&(ne=ta(U)),m.push(T+q+"="+encodeURIComponent(ne))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function wr(l){this.l=l.Ub||null,this.j=l.eb||!1}O(wr,qi),wr.prototype.g=function(){return new Zi(this.l,this.j)},wr.prototype.i=function(l){return function(){return l}}({});function Zi(l,m){pt.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Zi,pt),n=Zi.prototype,n.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,Vn(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ln(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Vn(this)),this.g&&(this.readyState=3,Vn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wu(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wu(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?Ln(this):Vn(this),this.readyState==3&&Wu(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Ln(this))},n.Qa=function(l){this.g&&(this.response=l,Ln(this))},n.ga=function(){this.g&&Ln(this)};function Ln(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Vn(l)}n.setRequestHeader=function(l,m){this.u.append(l,m)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=m.next();return l.join(`\r
`)};function Vn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Tr(l){let m="";return ae(l,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function ti(l,m,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=Tr(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):He(l,m,_))}function Xe(l){pt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Xe,pt);var Th=/^https?$/i,fa=["POST","PUT"];n=Xe.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?Ls(this.o):Ls(On),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(q){es(this,q);return}if(l=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&l instanceof d.FormData,!(0<=Array.prototype.indexOf.call(fa,m,void 0))||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of _)this.g.setRequestHeader(q,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(l),this.u=!1}catch(q){es(this,q)}};function es(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,Ws(l),cn(l)}function Ws(l){l.A||(l.A=!0,mt(l,"complete"),mt(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,mt(this,"complete"),mt(this,"abort"),cn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?pa(this):this.bb())},n.bb=function(){pa(this)};function pa(l){if(l.h&&typeof c<"u"&&(!l.v[1]||Xt(l)!=4||l.Z()!=2)){if(l.u&&Xt(l)==4)Xo(l.Ea,0,l);else if(mt(l,"readystatechange"),Xt(l)==4){l.h=!1;try{const ne=l.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var T;if(T=ne===0){var U=String(l.D).match(Ji)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),T=!Th.test(U?U.toLowerCase():"")}_=T}if(_)mt(l,"complete"),mt(l,"success");else{l.m=6;try{var q=2<Xt(l)?l.g.statusText:""}catch{q=""}l.l=q+" ["+l.Z()+"]",Ws(l)}}finally{cn(l)}}}}function cn(l,m){if(l.g){Qs(l);const _=l.g,T=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||mt(l,"ready");try{_.onreadystatechange=T}catch{}}}function Qs(l){l.I&&(d.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Xt(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),na(m)}};function ma(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ks(l){const m={};l=(l.g&&2<=Xt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(Y(l[T]))continue;var _=b(l[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[U]||[];m[U]=q,q.push(_)}D(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xn(l,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||m}function ga(l){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xn("baseRetryDelayMs",5e3,l),this.cb=Xn("retryDelaySeedMs",1e4,l),this.Wa=Xn("forwardChannelMaxRetries",2,l),this.wa=Xn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Yi(l&&l.concurrentRequestLimit),this.Da=new wh,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ga.prototype,n.la=8,n.G=1,n.connect=function(l,m,_,T){at(0),this.W=l,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=Yu(this,null,this.W),Zn(this)};function Pt(l){if(Gs(l),l.G==3){var m=l.U++,_=ln(l.I);if(He(_,"SID",l.K),He(_,"RID",m),He(_,"TYPE","terminate"),Ir(l,_),m=new Dn(l,l.j,m),m.L=2,m.v=Xr(ln(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.v,_=!0),_||(m.g=Ju(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Qe(m)}Gu(l)}function Mn(l){l.g&&(ya(l),l.g.cancel(),l.g=null)}function Gs(l){Mn(l),l.u&&(d.clearTimeout(l.u),l.u=null),Xs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&d.clearTimeout(l.s),l.s=null)}function Zn(l){if(!un(l.h)&&!l.s){l.s=!0;var m=l.Ga;De||re(),te||(De(),te=!0),de.add(m,l),l.B=0}}function Ih(l,m){return Mu(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=kn(I(l.Ga,l,m),Ku(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const U=new Dn(this,this.j,l);let q=this.o;if(this.S&&(q?(q=S(q),k(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=ni(this,U,m),_=ln(this.I),He(_,"RID",l),He(_,"CVER",22),this.D&&He(_,"X-HTTP-Session-Id",this.D),Ir(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(Tr(q)))+"&"+m:this.m&&ti(_,this.m,q)),ha(this.h,U),this.Ua&&He(_,"TYPE","init"),this.P?(He(_,"$req",m),He(_,"SID","null"),U.T=!0,zs(U,_,null)):zs(U,_,m),this.G=2}}else this.G==3&&(l?Ys(this,l):this.i.length==0||un(this.h)||Ys(this))};function Ys(l,m){var _;m?_=m.l:_=l.U++;const T=ln(l.I);He(T,"SID",l.K),He(T,"RID",_),He(T,"AID",l.T),Ir(l,T),l.m&&l.o&&ti(T,l.m,l.o),_=new Dn(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),m&&(l.i=m.D.concat(l.i)),m=ni(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ha(l.h,_),zs(_,T,m)}function Ir(l,m){l.H&&ae(l.H,function(_,T){He(m,T,_)}),l.l&&Gr({},function(_,T){He(m,T,_)})}function ni(l,m,_){_=Math.min(l.i.length,_);var T=l.l?I(l.l.Na,l.l,l):null;e:{var U=l.i;let q=-1;for(;;){const ne=["count="+_];q==-1?0<_?(q=U[0].g,ne.push("ofs="+q)):q=0:ne.push("ofs="+q);let Be=!0;for(let gt=0;gt<_;gt++){let be=U[gt].g;const Tt=U[gt].map;if(be-=q,0>be)q=Math.max(0,U[gt].g-100),Be=!1;else try{Hu(Tt,ne,"req"+be+"_")}catch{T&&T(Tt)}}if(Be){T=ne.join("&");break e}}}return l=l.i.splice(0,_),m.D=l,T}function ts(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;De||re(),te||(De(),te=!0),de.add(m,l),l.v=0}}function Js(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=kn(I(l.Fa,l),Ku(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,Qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=kn(I(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Mn(this),Qu(this))};function ya(l){l.A!=null&&(d.clearTimeout(l.A),l.A=null)}function Qu(l){l.g=new Dn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=ln(l.qa);He(m,"RID","rpc"),He(m,"SID",l.K),He(m,"AID",l.T),He(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&He(m,"TO",l.ja),He(m,"TYPE","xmlhttp"),Ir(l,m),l.m&&l.o&&ti(m,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=Xr(ln(m)),_.m=null,_.P=!0,la(_,l)}n.Za=function(){this.C!=null&&(this.C=null,Mn(this),Js(this),at(19))};function Xs(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function Zs(l,m){var _=null;if(l.g==m){Xs(l),ya(l),l.g=null;var T=2}else if(qt(l.h,m))_=m.D,Fu(l.h,m),T=1;else return;if(l.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=l.B;T=Hi(),mt(T,new Fs(T,_)),Zn(l)}else ts(l);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Ih(l,m)||T==2&&Js(l)))switch(_&&0<_.length&&(m=l.h,m.i=m.i.concat(_)),U){case 1:Sr(l,5);break;case 4:Sr(l,10);break;case 3:Sr(l,6);break;default:Sr(l,2)}}}function Ku(l,m){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*m}function Sr(l,m){if(l.j.info("Error code "+m),m==2){var _=I(l.fb,l),T=l.Xa;const U=!T;T=new Er(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Xi(T,"https"),Xr(T),U?Eh(T.toString(),_):qu(T.toString(),_)}else at(2);l.G=0,l.l&&l.l.sa(m),Gu(l),Gs(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Gu(l){if(l.G=0,l.ka=[],l.l){const m=Uu(l.h);(m.length!=0||l.i.length!=0)&&(M(l.ka,m),M(l.ka,l.i),l.h.i.length=0,z(l.i),l.i.length=0),l.l.ra()}}function Yu(l,m,_){var T=_ instanceof Er?ln(_):new Er(_);if(T.g!="")m&&(T.g=m+"."+T.g),Yr(T,T.s);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new Er(null);T&&Xi(q,T),m&&(q.g=m),U&&Yr(q,U),_&&(q.l=_),T=q}return _=l.D,m=l.ya,_&&m&&He(T,_,m),He(T,"VER",l.la),Ir(l,T),T}function Ju(l,m,_){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new Xe(new wr({eb:_})):new Xe(l.pa),m.Ha(l.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _a(){}n=_a.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function eo(){}eo.prototype.g=function(l,m){return new Ht(l,m)};function Ht(l,m){pt.call(this),this.g=new ga(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!Y(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Y(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new er(this)}O(Ht,pt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Pt(this.g)},Ht.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=ta(l),l=_);m.i.push(new Vu(m.Ya++,l)),m.G==3&&Zn(m)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Pt(this.g),delete this.g,Ht.aa.N.call(this)};function Xu(l){Kn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const _ in m){l=_;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}O(Xu,Kn);function Zu(){Ms.call(this),this.status=1}O(Zu,Ms);function er(l){this.g=l}O(er,_a),er.prototype.ua=function(){mt(this.g,"a")},er.prototype.ta=function(l){mt(this.g,new Xu(l))},er.prototype.sa=function(l){mt(this.g,new Zu)},er.prototype.ra=function(){mt(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,rE=function(){return new eo},nE=function(){return Hi()},tE=Gn,Tf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,lc=js,Du.COMPLETE="complete",eE=Du,Vs.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Qa=Vs,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Zv=Xe}).apply(typeof Yl<"u"?Yl:typeof self<"u"?self:typeof window<"u"?window:{});const zy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Yf("@firebase/firestore");function Io(){return ws.logLevel}function se(n,...e){if(ws.logLevel<=Pe.DEBUG){const t=e.map(up);ws.debug(`Firestore (${qo}): ${n}`,...t)}}function Br(n,...e){if(ws.logLevel<=Pe.ERROR){const t=e.map(up);ws.error(`Firestore (${qo}): ${n}`,...t)}}function No(n,...e){if(ws.logLevel<=Pe.WARN){const t=e.map(up);ws.warn(`Firestore (${qo}): ${n}`,...t)}}function up(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: `+n;throw Br(e),new Error(e)}function ze(n,e){n||Te()}function Se(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Hr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($t.UNAUTHENTICATED))}shutdown(){}}class dP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fP{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ur,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ur)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ze(typeof i.accessToken=="string"),new iE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new $t(e)}}class pP{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mP{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new pP(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ze(this.o===void 0);const i=a=>{a.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string"),this.R=t.token,new gP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=_P(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Oe(n,e){return n<e?-1:n>e?1:0}function bo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new vt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new vt(0,0))}static max(){return new Ie(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(),i===void 0?i=e.length-t:i>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return sr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=sr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=sr.isNumericId(e),o=sr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?sr.extractNumericId(e).compare(sr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pi.fromString(e.substring(4,e.length-2))}}class Je extends sr{construct(e,t,i){return new Je(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(G.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const vP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends sr{construct(e,t,i){return new Dt(e,t,i)}static isValidIdentifier(e){return vP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new le(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new le(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new le(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Je.fromString(e))}static fromName(e){return new ge(Je.fromString(e).popFirst(5))}static empty(){return new ge(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Je(e.slice()))}}function EP(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new vt(t+1,0):new vt(t,i));return new Oi(o,ge.empty(),e)}function wP(n){return new Oi(n.readTime,n.key,-1)}class Oi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Oi(Ie.min(),ge.empty(),-1)}static max(){return new Oi(Ie.max(),ge.empty(),-1)}}function TP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==IP)throw n;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,i)=>{t(e)})}static reject(e){return new K((t,i)=>{i(e)})}static waitFor(e){return new K((t,i)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},f=>i(f))}),c=!0,a===o&&t()})}static or(e){let t=K.resolve(!1);for(const i of e)t=t.next(o=>o?K.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new K((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let f=0;f<a;f++){const y=f;t(e[y]).next(v=>{c[y]=v,++d,d===a&&i(c)},v=>o(v))}})}static doWhile(e,t){return new K((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function RP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Zc.oe=-1;function eh(n){return n==null}function Pc(n){return n===0&&1/n==-1/0}function CP(n){return typeof n=="number"&&Number.isInteger(n)&&!Pc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=By(e)),e=PP(n.get(t),e);return By(e)}function PP(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function By(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function oE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jl(this.root,e,this.comparator,!0)}}class Jl{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Ot.RED,this.left=o??Ot.EMPTY,this.right=a??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Ot(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hy(this.data.getIterator())}getIteratorFrom(e){return new Hy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class Hy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new qn([])}unionWith(e){let t=new Et(Dt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new aE("Invalid base64 string: "+a):a}}(e);return new Nt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Nt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const kP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(n){if(ze(!!n),typeof n=="string"){let e=0;const t=kP.exec(n);if(ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lt(n.seconds),nanos:lt(n.nanos)}}function lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ni(n){return typeof n=="string"?Nt.fromBase64String(n):Nt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function th(n){const e=n.mapValue.fields.__previous_value__;return lp(e)?th(e):e}function uu(n){const e=Di(n.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t,i,o,a,c,d,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=y}}class lu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lp(n)?4:DP(n)?9007199254740991:OP(n)?10:11:Te()}function fr(n,e){if(n===e)return!0;const t=bi(n);if(t!==bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return uu(n).isEqual(uu(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Di(o.timestampValue),d=Di(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ni(o.bytesValue).isEqual(Ni(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return lt(o.geoPointValue.latitude)===lt(a.geoPointValue.latitude)&&lt(o.geoPointValue.longitude)===lt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return lt(o.integerValue)===lt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=lt(o.doubleValue),d=lt(a.doubleValue);return c===d?Pc(c)===Pc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return bo(n.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(qy(c)!==qy(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!fr(c[f],d[f])))return!1;return!0}(n,e);default:return Te()}}function cu(n,e){return(n.values||[]).find(t=>fr(t,e))!==void 0}function Lo(n,e){if(n===e)return 0;const t=bi(n),i=bi(e);if(t!==i)return Oe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=lt(a.integerValue||a.doubleValue),f=lt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Wy(n.timestampValue,e.timestampValue);case 4:return Wy(uu(n),uu(e));case 5:return Oe(n.stringValue,e.stringValue);case 6:return function(a,c){const d=Ni(a),f=Ni(c);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),f=c.split("/");for(let y=0;y<d.length&&y<f.length;y++){const v=Oe(d[y],f[y]);if(v!==0)return v}return Oe(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=Oe(lt(a.latitude),lt(c.latitude));return d!==0?d:Oe(lt(a.longitude),lt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Qy(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,f,y,v;const w=a.fields||{},I=c.fields||{},A=(d=w.value)===null||d===void 0?void 0:d.arrayValue,O=(f=I.value)===null||f===void 0?void 0:f.arrayValue,z=Oe(((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:Qy(A,O)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===Xl.mapValue&&c===Xl.mapValue)return 0;if(a===Xl.mapValue)return 1;if(c===Xl.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),y=c.fields||{},v=Object.keys(y);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const I=Oe(f[w],v[w]);if(I!==0)return I;const A=Lo(d[f[w]],y[v[w]]);if(A!==0)return A}return Oe(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Te()}}function Wy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=Di(n),i=Di(e),o=Oe(t.seconds,i.seconds);return o!==0?o:Oe(t.nanos,i.nanos)}function Qy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Lo(t[o],i[o]);if(a)return a}return Oe(t.length,i.length)}function Vo(n){return If(n)}function If(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Di(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ni(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ge.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=If(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${If(t.fields[c])}`;return o+"}"}(n.mapValue):Te()}function cc(n){switch(bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=th(n);return e?16+cc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ni(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+cc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Cs(i.fields,(a,c)=>{o+=a.length+cc(c)}),o}(n.mapValue);default:throw Te()}}function Ky(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sf(n){return!!n&&"integerValue"in n}function cp(n){return!!n&&"arrayValue"in n}function Gy(n){return!!n&&"nullValue"in n}function Yy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hc(n){return!!n&&"mapValue"in n}function OP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Za(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Cs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Za(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Za(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!hc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Za(t)}setAll(e){let t=Dt.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=Za(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());hc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Cs(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Cn(Za(this.value))}}function uE(n){const e=[];return Cs(n.fields,(t,i)=>{const o=new Dt([t]);if(hc(i)){const a=uE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,i,o,a,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new zt(e,0,Ie.min(),Ie.min(),Ie.min(),Cn.empty(),0)}static newFoundDocument(e,t,i,o){return new zt(e,1,t,Ie.min(),i,o,0)}static newNoDocument(e,t){return new zt(e,2,t,Ie.min(),Ie.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Ie.min(),Ie.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t){this.position=e,this.inclusive=t}}function Jy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=ge.comparator(ge.fromName(c.referenceValue),t.key):i=Lo(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Xy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function NP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{}class ft extends lE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new LP(e,t,i):t==="array-contains"?new FP(e,i):t==="in"?new UP(e,i):t==="not-in"?new jP(e,i):t==="array-contains-any"?new $P(e,i):new ft(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new VP(e,i):new MP(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Lo(t,this.value)):t!==null&&bi(this.value)===bi(t)&&this.matchesComparison(Lo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends lE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Wn(e,t)}matches(e){return cE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cE(n){return n.op==="and"}function hE(n){return bP(n)&&cE(n)}function bP(n){for(const e of n.filters)if(e instanceof Wn)return!1;return!0}function Rf(n){if(n instanceof ft)return n.field.canonicalString()+n.op.toString()+Vo(n.value);if(hE(n))return n.filters.map(e=>Rf(e)).join(",");{const e=n.filters.map(t=>Rf(t)).join(",");return`${n.op}(${e})`}}function dE(n,e){return n instanceof ft?function(i,o){return o instanceof ft&&i.op===o.op&&i.field.isEqual(o.field)&&fr(i.value,o.value)}(n,e):n instanceof Wn?function(i,o){return o instanceof Wn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,d)=>a&&dE(c,o.filters[d]),!0):!1}(n,e):void Te()}function fE(n){return n instanceof ft?function(t){return`${t.field.canonicalString()} ${t.op} ${Vo(t.value)}`}(n):n instanceof Wn?function(t){return t.op.toString()+" {"+t.getFilters().map(fE).join(" ,")+"}"}(n):"Filter"}class LP extends ft{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class VP extends ft{constructor(e,t){super(e,"in",t),this.keys=pE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class MP extends ft{constructor(e,t){super(e,"not-in",t),this.keys=pE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ge.fromName(i.referenceValue))}class FP extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cp(t)&&cu(t.arrayValue,this.value)}}class UP extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cu(this.value.arrayValue,t)}}class jP extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!cu(this.value.arrayValue,t)}}class $P extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>cu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.ue=null}}function Zy(n,e=null,t=[],i=[],o=null,a=null,c=null){return new zP(n,e,t,i,o,a,c)}function hp(n){const e=Se(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Rf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),eh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Vo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Vo(i)).join(",")),e.ue=t}return e.ue}function dp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Xy(n.startAt,e.startAt)&&Xy(n.endAt,e.endAt)}function Cf(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t=null,i=[],o=[],a=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BP(n,e,t,i,o,a,c,d){return new Iu(n,e,t,i,o,a,c,d)}function fp(n){return new Iu(n)}function e_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mE(n){return n.collectionGroup!==null}function eu(n){const e=Se(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Et(Dt.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new xc(a,i))}),t.has(Dt.keyField().canonicalString())||e.ce.push(new xc(Dt.keyField(),i))}return e.ce}function lr(n){const e=Se(n);return e.le||(e.le=qP(e,eu(n))),e.le}function qP(n,e){if(n.limitType==="F")return Zy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new xc(o.field,a)});const t=n.endAt?new kc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new kc(n.startAt.position,n.startAt.inclusive):null;return Zy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Af(n,e){const t=n.filters.concat([e]);return new Iu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Pf(n,e,t){return new Iu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nh(n,e){return dp(lr(n),lr(e))&&n.limitType===e.limitType}function gE(n){return`${hp(lr(n))}|lt:${n.limitType}`}function So(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>fE(o)).join(", ")}]`),eh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Vo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Vo(o)).join(",")),`Target(${i})`}(lr(n))}; limitType=${n.limitType})`}function rh(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ge.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of eu(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,f){const y=Jy(c,d,f);return c.inclusive?y<=0:y<0}(i.startAt,eu(i),o)||i.endAt&&!function(c,d,f){const y=Jy(c,d,f);return c.inclusive?y>=0:y>0}(i.endAt,eu(i),o))}(n,e)}function HP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yE(n){return(e,t)=>{let i=!1;for(const o of eu(n)){const a=WP(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function WP(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):function(a,c,d){const f=c.data.field(a),y=d.data.field(a);return f!==null&&y!==null?Lo(f,y):Te()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return oE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new it(ge.comparator);function qr(){return QP}const _E=new it(ge.comparator);function Ka(...n){let e=_E;for(const t of n)e=e.insert(t.key,t);return e}function vE(n){let e=_E;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function gs(){return tu()}function EE(){return tu()}function tu(){return new As(n=>n.toString(),(n,e)=>n.isEqual(e))}const KP=new it(ge.comparator),GP=new Et(ge.comparator);function ke(...n){let e=GP;for(const t of n)e=e.add(t);return e}const YP=new Et(Oe);function JP(){return YP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(e)?"-0":e}}function wE(n){return{integerValue:""+n}}function XP(n,e){return CP(e)?wE(e):pp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this._=void 0}}function ZP(n,e,t){return n instanceof Oc?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&lp(a)&&(a=th(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof hu?IE(n,e):n instanceof du?SE(n,e):function(o,a){const c=TE(o,a),d=t_(c)+t_(o.Pe);return Sf(c)&&Sf(o.Pe)?wE(d):pp(o.serializer,d)}(n,e)}function ek(n,e,t){return n instanceof hu?IE(n,e):n instanceof du?SE(n,e):t}function TE(n,e){return n instanceof Dc?function(i){return Sf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Oc extends ih{}class hu extends ih{constructor(e){super(),this.elements=e}}function IE(n,e){const t=RE(e);for(const i of n.elements)t.some(o=>fr(o,i))||t.push(i);return{arrayValue:{values:t}}}class du extends ih{constructor(e){super(),this.elements=e}}function SE(n,e){let t=RE(e);for(const i of n.elements)t=t.filter(o=>!fr(o,i));return{arrayValue:{values:t}}}class Dc extends ih{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function t_(n){return lt(n.integerValue||n.doubleValue)}function RE(n){return cp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function tk(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof hu&&o instanceof hu||i instanceof du&&o instanceof du?bo(i.elements,o.elements,fr):i instanceof Dc&&o instanceof Dc?fr(i.Pe,o.Pe):i instanceof Oc&&o instanceof Oc}(n.transform,e.transform)}class nk{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let sh=class{};function CE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new mp(n.key,cr.none()):new Su(n.key,n.data,cr.none());{const t=n.data,i=Cn.empty();let o=new Et(Dt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new Ps(n.key,i,new qn(o.toArray()),cr.none())}}function rk(n,e,t){n instanceof Su?function(o,a,c){const d=o.value.clone(),f=r_(o.fieldTransforms,a,c.transformResults);d.setAll(f),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ps?function(o,a,c){if(!dc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=r_(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(AE(o)),f.setAll(d),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function nu(n,e,t,i){return n instanceof Su?function(a,c,d,f){if(!dc(a.precondition,c))return d;const y=a.value.clone(),v=i_(a.fieldTransforms,f,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ps?function(a,c,d,f){if(!dc(a.precondition,c))return d;const y=i_(a.fieldTransforms,f,c),v=c.data;return v.setAll(AE(a)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(a,c,d){return dc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function ik(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=TE(i.transform,o||null);a!=null&&(t===null&&(t=Cn.empty()),t.set(i.field,a))}return t||null}function n_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&bo(i,o,(a,c)=>tk(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Su extends sh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ps extends sh{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function AE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function r_(n,e,t){const i=new Map;ze(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,ek(c,d,t[o]))}return i}function i_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,ZP(a,c,e))}return i}class mp extends sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sk extends sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&rk(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=nu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=nu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=EE();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const f=CE(c,d);f!==null&&i.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(t,i)=>n_(t,i))&&bo(this.baseMutations,e.baseMutations,(t,i)=>n_(t,i))}}class gp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){ze(e.mutations.length===i.length);let o=function(){return KP}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new gp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Le;function lk(n){switch(n){default:return Te();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function PE(n){if(n===void 0)return Br("GRPC error has no .code"),G.UNKNOWN;switch(n){case dt.OK:return G.OK;case dt.CANCELLED:return G.CANCELLED;case dt.UNKNOWN:return G.UNKNOWN;case dt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case dt.INTERNAL:return G.INTERNAL;case dt.UNAVAILABLE:return G.UNAVAILABLE;case dt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case dt.NOT_FOUND:return G.NOT_FOUND;case dt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case dt.ABORTED:return G.ABORTED;case dt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case dt.DATA_LOSS:return G.DATA_LOSS;default:return Te()}}(Le=dt||(dt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new Pi([4294967295,4294967295],0);function s_(n){const e=ck().encode(n),t=new Xv;return t.update(e),new Uint8Array(t.digest())}function o_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Pi([t,i],0),new Pi([o,a],0)]}class yp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ga(`Invalid padding: ${t}`);if(i<0)throw new Ga(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Pi.fromNumber(this.Te)}de(e,t,i){let o=e.add(t.multiply(Pi.fromNumber(i)));return o.compare(hk)===1&&(o=new Pi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=s_(e),[i,o]=o_(t);for(let a=0;a<this.hashCount;a++){const c=this.de(i,o,a);if(!this.Ee(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new yp(a,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=s_(e),[i,o]=o_(t);for(let a=0;a<this.hashCount;a++){const c=this.de(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new oh(Ie.min(),o,new it(Oe),qr(),ke())}}class Ru{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ru(i,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class kE{constructor(e,t){this.targetId=e,this.me=t}}class xE{constructor(e,t,i=Nt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class a_{constructor(){this.fe=0,this.ge=u_(),this.pe=Nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),t=ke(),i=ke();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te()}}),new Ru(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=u_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dk{constructor(e){this.Be=e,this.Le=new Map,this.ke=qr(),this.qe=Zl(),this.Qe=Zl(),this.Ke=new it(Oe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(Cf(a))if(i===0){const c=new ge(a.path);this.We(t,c,zt.newNoDocument(c,Ie.min()))}else ze(i===1);else{const c=this.Ze(t);if(c!==i){const d=this.Xe(e),f=d?this.et(d,e,c):1;if(f!==0){this.He(t);const y=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=Ni(i).toUint8Array()}catch(f){if(f instanceof aE)return No("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new yp(c,o,a)}catch(f){return No(f instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Be.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.Be.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Le.forEach((a,c)=>{const d=this.Ye(c);if(d){if(a.current&&Cf(d.target)){const f=new ge(d.target.path);this.st(f).has(c)||this.ot(c,f)||this.We(c,f,zt.newNoDocument(f,e))}a.be&&(t.set(c,a.ve()),a.Ce())}});let i=ke();this.Qe.forEach((a,c)=>{let d=!0;c.forEachWhile(f=>{const y=this.Ye(f);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new oh(e,t,this.Ke,this.ke,i);return this.ke=qr(),this.qe=Zl(),this.Qe=Zl(),this.Ke=new it(Oe),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new a_,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(Oe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(Oe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||se("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new a_),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Zl(){return new it(ge.comparator)}function u_(){return new it(ge.comparator)}const fk={asc:"ASCENDING",desc:"DESCENDING"},pk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mk={and:"AND",or:"OR"};class gk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kf(n,e){return n.useProto3Json||eh(e)?e:{value:e}}function Nc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yk(n,e){return Nc(n,e.toTimestamp())}function hr(n){return ze(!!n),Ie.fromTimestamp(function(t){const i=Di(t);return new vt(i.seconds,i.nanos)}(n))}function _p(n,e){return xf(n,e).canonicalString()}function xf(n,e){const t=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function DE(n){const e=Je.fromString(n);return ze(ME(e)),e}function Of(n,e){return _p(n.databaseId,e.path)}function rf(n,e){const t=DE(e);if(t.get(1)!==n.databaseId.projectId)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(bE(t))}function NE(n,e){return _p(n.databaseId,e)}function _k(n){const e=DE(n);return e.length===4?Je.emptyPath():bE(e)}function Df(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bE(n){return ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function l_(n,e,t){return{name:Of(n,e),fields:t.value.mapValue.fields}}function vk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,v){return y.useProto3Json?(ze(v===void 0||typeof v=="string"),Nt.fromBase64String(v||"")):(ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Nt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const v=y.code===void 0?G.UNKNOWN:PE(y.code);return new le(v,y.message||"")}(c);t=new xE(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=rf(n,i.document.name),a=hr(i.document.updateTime),c=i.document.createTime?hr(i.document.createTime):Ie.min(),d=new Cn({mapValue:{fields:i.document.fields}}),f=zt.newFoundDocument(o,a,c,d),y=i.targetIds||[],v=i.removedTargetIds||[];t=new fc(y,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=rf(n,i.document),a=i.readTime?hr(i.readTime):Ie.min(),c=zt.newNoDocument(o,a),d=i.removedTargetIds||[];t=new fc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=rf(n,i.document),a=i.removedTargetIds||[];t=new fc([],a,o,null)}else{if(!("filter"in e))return Te();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new uk(o,a),d=i.targetId;t=new kE(d,c)}}return t}function Ek(n,e){let t;if(e instanceof Su)t={update:l_(n,e.key,e.value)};else if(e instanceof mp)t={delete:Of(n,e.key)};else if(e instanceof Ps)t={update:l_(n,e.key,e.data),updateMask:kk(e.fieldMask)};else{if(!(e instanceof sk))return Te();t={verify:Of(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const d=c.transform;if(d instanceof Oc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof hu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof du)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Dc)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Te()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:yk(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te()}(n,e.precondition)),t}function wk(n,e){return n&&n.length>0?(ze(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?hr(o.updateTime):hr(a);return c.isEqual(Ie.min())&&(c=hr(a)),new nk(c,o.transformResults||[])}(t,e))):[]}function Tk(n,e){return{documents:[NE(n,e.path)]}}function Ik(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=NE(n,o);const a=function(y){if(y.length!==0)return VE(Wn.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(y){if(y.length!==0)return y.map(v=>function(I){return{field:Ro(I.field),direction:Ck(I.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=kf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function Sk(n){let e=_k(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){ze(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const I=LE(w);return I instanceof Wn&&hE(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(I=>function(O){return new xc(Co(O.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(w){let I;return I=typeof w=="object"?w.value:w,eh(I)?null:I}(t.limit));let f=null;t.startAt&&(f=function(w){const I=!!w.before,A=w.values||[];return new kc(A,I)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const I=!w.before,A=w.values||[];return new kc(A,I)}(t.endAt)),BP(e,o,c,a,d,"F",f,y)}function Rk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function LE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Co(t.unaryFilter.field);return ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(t.unaryFilter.field);return ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Co(t.unaryFilter.field);return ft.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Co(t.unaryFilter.field);return ft.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return ft.create(Co(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Wn.create(t.compositeFilter.filters.map(i=>LE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function Ck(n){return fk[n]}function Ak(n){return pk[n]}function Pk(n){return mk[n]}function Ro(n){return{fieldPath:n.canonicalString()}}function Co(n){return Dt.fromServerFormat(n.fieldPath)}function VE(n){return n instanceof ft?function(t){if(t.op==="=="){if(Yy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(Gy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Yy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(Gy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:Ak(t.op),value:t.value}}}(n):n instanceof Wn?function(t){const i=t.getFilters().map(o=>VE(o));return i.length===1?i[0]:{compositeFilter:{op:Pk(t.op),filters:i}}}(n):Te()}function kk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ME(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t,i,o,a=Ie.min(),c=Ie.min(),d=Nt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.ht=e}}function Ok(n){const e=Sk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.ln=new Nk}addToCollectionParentIndex(e,t){return this.ln.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Oi.min())}updateCollectionGroup(e,t,i){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class Nk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Et(Je.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Et(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Mo(0)}static Qn(){return new Mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_([n,e],[t,i]){const o=Oe(n,t);return o===0?Oe(e,i):o}class bk{constructor(e){this.Gn=e,this.buffer=new Et(h_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();h_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wo(t)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ho(t)}await this.Yn(3e5)})}}class Vk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return K.resolve(Zc.oe);const i=new bk(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(c_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,c,d,f,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,d=Date.now(),this.removeTargets(e,i,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(y=Date.now(),Io()<=Pe.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(y-f)+`ms
Total Duration: ${y-v}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function Mk(n,e){return new Vk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.changes=new As(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?K.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&nu(i.mutation,o,qn.empty(),vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ke()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ke()){const o=gs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=Ka();return a.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=gs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ke()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let a=qr();const c=tu(),d=function(){return tu()}();return t.forEach((f,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Ps)?a=a.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),nu(v.mutation,y,v.mutation.getFieldMask(),vt.now())):c.set(y.key,qn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((y,v)=>c.set(y,v)),t.forEach((y,v)=>{var w;return d.set(y,new Uk(v,(w=c.get(y))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const i=tu();let o=new it((c,d)=>c-d),a=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(f=>{const y=t.get(f);if(y===null)return;let v=i.get(f)||qn.empty();v=d.applyToLocalView(y,v),i.set(f,v);const w=(o.get(d.batchId)||ke()).add(f);o=o.insert(d.batchId,w)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),y=f.key,v=f.value,w=EE();v.forEach(I=>{if(!a.has(I)){const A=CE(t.get(I),i.get(I));A!==null&&w.set(I,A),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,w))}return K.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ge.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):K.resolve(gs());let d=-1,f=a;return c.next(y=>K.forEach(y,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(v)?K.resolve():this.remoteDocumentCache.getEntry(e,v).next(I=>{f=f.insert(v,I)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,f,y,ke())).next(v=>({batchId:d,changes:vE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(i=>{let o=Ka();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Ka();return this.indexManager.getCollectionParents(e,a).next(d=>K.forEach(d,f=>{const y=function(w,I){return new Iu(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(v=>{v.forEach((w,I)=>{c=c.insert(w,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((f,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,zt.newInvalidDocument(v)))});let d=Ka();return c.forEach((f,y)=>{const v=a.get(f);v!==void 0&&nu(v.mutation,y,qn.empty(),vt.now()),rh(t,y)&&(d=d.insert(f,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return K.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:hr(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:Ok(o.bundledQuery),readTime:hr(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.overlays=new it(ge.comparator),this.dr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const i=gs();return K.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),K.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.dr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(i)),K.resolve()}getOverlaysForCollection(e,t,i){const o=gs(),a=t.length+1,c=new ge(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,y=f.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new it((y,v)=>y-v);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=a.get(y.largestBatchId);v===null&&(v=gs(),a=a.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=gs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((y,v)=>d.set(y,v)),!(d.size()>=o)););return K.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.dr.get(o.largestBatchId).delete(i.key);this.dr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new ak(t,i));let a=this.dr.get(t);a===void 0&&(a=ke(),this.dr.set(t,a)),this.dr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.Er=new Et(Ct.Ar),this.Rr=new Et(Ct.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const i=new Ct(e,t);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Ct(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ge(new Je([])),i=new Ct(t,e),o=new Ct(t,e+1),a=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ge(new Je([])),i=new Ct(t,e),o=new Ct(t,e+1);let a=ke();return this.Rr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Ct(e,0),i=this.Er.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ct{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ge.comparator(e.key,t.key)||Oe(e.br,t.br)}static Vr(e,t){return Oe(e.br,t.br)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(Ct.Ar)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ok(a,t,i,o);this.mutationQueue.push(c);for(const d of o)this.vr=this.vr.add(new Ct(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(c)}lookupMutationBatch(e,t){return K.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],c=>{const d=this.Cr(c.br);a.push(d)}),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Et(Oe);return t.forEach(o=>{const a=new Ct(o,0),c=new Ct(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],d=>{i=i.add(d.br)})}),K.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;ge.isDocumentKey(a)||(a=a.child(""));const c=new Ct(new ge(a),0);let d=new Et(Oe);return this.vr.forEachWhile(f=>{const y=f.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(f.br)),!0)},c),K.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ze(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return K.forEach(t.mutations,o=>{const a=new Ct(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,t){const i=new Ct(t,0),o=this.vr.firstAfterOrEqual(i);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.Nr=e,this.docs=function(){return new it(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return K.resolve(i?i.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let i=qr();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():zt.newInvalidDocument(o))}),K.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=qr();const c=t.path,d=new ge(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:y,value:{document:v}}=f.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||TP(wP(v),i)<=0||(o.has(v.key)||rh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Te()}Br(e,t){return K.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Wk(this)}getSize(e){return K.resolve(this.size)}}class Wk extends Fk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),K.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.persistence=e,this.Lr=new As(t=>hp(t),dp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new vp,this.targetCount=0,this.Qr=Mo.qn()}forEachTarget(e,t){return this.Lr.forEach((i,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),K.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Mo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Un(t),K.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Lr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Lr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),K.waitFor(a).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const i=this.Lr.get(t)||null;return K.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),K.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),K.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return K.resolve(i)}containsKey(e,t){return K.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Zc(0),this.Ur=!1,this.Ur=!0,this.Wr=new Bk,this.referenceDelegate=e(this),this.Gr=new Qk(this),this.indexManager=new Dk,this.remoteDocumentCache=function(o){return new Hk(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new xk(t),this.jr=new $k(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new qk(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){se("MemoryPersistence","Starting transaction:",e);const o=new Kk(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return K.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class Kk extends SP{constructor(e){super(),this.currentSequenceNumber=e}}class Ep{constructor(e){this.persistence=e,this.Zr=new vp,this.Xr=null}static ei(e){return new Ep(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),K.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),K.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ti,i=>{const o=ge.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Ie.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return K.or([()=>K.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class bc{constructor(e,t){this.persistence=e,this.ri=new As(i=>AP(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Mk(this,t)}static ei(e,t){return new bc(e,t)}Hr(){}Jr(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return K.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?K.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Br(e,c=>this.ir(e,c,t).next(d=>{d||(i++,a.removeEntry(c,Ie.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),K.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cc(e.data.value)),t}ir(e,t,i){return K.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return K.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=ke(),o=ke();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new wp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return D0()?8:RP(Bt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new Gk;return this.ts(e,t,c).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Io()<=Pe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",So(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),K.resolve()):(Io()<=Pe.DEBUG&&se("QueryEngine","Query:",So(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Io()<=Pe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",So(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(t))):K.resolve())}Xi(e,t){if(e_(t))return K.resolve(null);let i=lr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Pf(t,null,"F"),i=lr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=ke(...a);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const y=this.rs(t,d);return this.ss(t,y,c,f.readTime)?this.Xi(e,Pf(t,null,"F")):this.os(e,y,t,f)}))})))}es(e,t,i,o){return e_(t)||o.isEqual(Ie.min())?K.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const c=this.rs(t,a);return this.ss(t,c,i,o)?K.resolve(null):(Io()<=Pe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),So(t)),this.os(e,c,t,EP(o,-1)).next(d=>d))})}rs(e,t){let i=new Et(yE(e));return t.forEach((o,a)=>{rh(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return Io()<=Pe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",So(t)),this.Zi.getDocumentsMatchingQuery(e,t,Oi.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new it(Oe),this.cs=new As(a=>hp(a),dp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Xk(n,e,t,i){return new Jk(n,e,t,i)}async function UE(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],d=[];let f=ke();for(const y of o){c.push(y.batchId);for(const v of y.mutations)f=f.add(v.key)}for(const y of a){d.push(y.batchId);for(const v of y.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(i,f).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:d}))})})}function Zk(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,f,y,v){const w=y.batch,I=w.keys();let A=K.resolve();return I.forEach(O=>{A=A.next(()=>v.getEntry(f,O)).next(z=>{const M=y.docVersions.get(O);ze(M!==null),z.version.compareTo(M)<0&&(w.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),v.addEntry(z)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(f,w))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let f=ke();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(f=f.add(d.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function jE(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function e1(n,e){const t=Se(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((v,w)=>{const I=o.get(w);if(!I)return;d.push(t.Gr.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(a,v.addedDocuments,w)));let A=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(Nt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),o=o.insert(w,A),function(z,M,H){return z.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(I,A,v)&&d.push(t.Gr.updateTargetData(a,A))});let f=qr(),y=ke();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(t1(a,c,e.documentUpdates).next(v=>{f=v.Is,y=v.ds})),!i.isEqual(Ie.min())){const v=t.Gr.getLastRemoteSnapshotVersion(a).next(w=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(v)}return K.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,y)).next(()=>f)}).then(a=>(t.us=o,a))}function t1(n,e,t){let i=ke(),o=ke();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=qr();return t.forEach((d,f)=>{const y=a.get(d);f.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||f.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):se("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",f.version)}),{Is:c,ds:o}})}function n1(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function r1(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,K.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new Si(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Nf(n,e,t){const i=Se(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Wo(c))throw c;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function d_(n,e,t){const i=Se(n);let o=Ie.min(),a=ke();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,y,v){const w=Se(f),I=w.cs.get(v);return I!==void 0?K.resolve(w.us.get(I)):w.Gr.getTargetData(y,v)}(i,c,lr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,d.targetId).next(f=>{a=f})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Ie.min(),t?a:ke())).next(d=>(i1(i,HP(e),d),{documents:d,Es:a})))}function i1(n,e,t){let i=n.ls.get(e)||Ie.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class f_{constructor(){this.activeTargetIds=JP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s1{constructor(){this._o=new f_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new f_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec=null;function sf(){return ec===null?ec=function(){return 268435456+Math.round(2147483648*Math.random())}():ec++,"0x"+ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class l1 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,c){const d=sf(),f=this.No(t,i.toUriEncodedString());se("RestConnection",`Sending RPC '${t}' ${d}:`,f,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(y,a,c),this.Lo(t,f,y,o).then(v=>(se("RestConnection",`Received RPC '${t}' ${d}: `,v),v),v=>{throw No("RestConnection",`RPC '${t}' ${d} failed with error: `,v,"url: ",f,"request:",o),v})}ko(t,i,o,a,c,d){return this.Oo(t,i,o,a,c)}Bo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>t[c]=a),o&&o.headers.forEach((a,c)=>t[c]=a)}No(t,i){const o=a1[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,i,o){const a=sf();return new Promise((c,d)=>{const f=new Zv;f.setWithCredentials(!0),f.listenOnce(eE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case lc.NO_ERROR:const v=f.getResponseJson();se(Ft,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),c(v);break;case lc.TIMEOUT:se(Ft,`RPC '${e}' ${a} timed out`),d(new le(G.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const w=f.getStatus();if(se(Ft,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let I=f.getResponseJson();Array.isArray(I)&&(I=I[0]);const A=I==null?void 0:I.error;if(A&&A.status&&A.message){const O=function(M){const H=M.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(H)>=0?H:G.UNKNOWN}(A.status);d(new le(O,A.message))}else d(new le(G.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new le(G.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{se(Ft,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);se(Ft,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",y,i,15)})}qo(e,t,i){const o=sf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=rE(),d=nE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Bo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=a.join("");se(Ft,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=c.createWebChannel(v,f);let I=!1,A=!1;const O=new u1({Eo:M=>{A?se(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(I||(se(Ft,`Opening RPC '${e}' stream ${o} transport.`),w.open(),I=!0),se(Ft,`RPC '${e}' stream ${o} sending:`,M),w.send(M))},Ao:()=>w.close()}),z=(M,H,Y)=>{M.listen(H,W=>{try{Y(W)}catch(oe){setTimeout(()=>{throw oe},0)}})};return z(w,Qa.EventType.OPEN,()=>{A||(se(Ft,`RPC '${e}' stream ${o} transport opened.`),O.So())}),z(w,Qa.EventType.CLOSE,()=>{A||(A=!0,se(Ft,`RPC '${e}' stream ${o} transport closed`),O.Do())}),z(w,Qa.EventType.ERROR,M=>{A||(A=!0,No(Ft,`RPC '${e}' stream ${o} transport errored:`,M),O.Do(new le(G.UNAVAILABLE,"The operation could not be completed")))}),z(w,Qa.EventType.MESSAGE,M=>{var H;if(!A){const Y=M.data[0];ze(!!Y);const W=Y,oe=(W==null?void 0:W.error)||((H=W[0])===null||H===void 0?void 0:H.error);if(oe){se(Ft,`RPC '${e}' stream ${o} received error:`,oe);const ve=oe.status;let ae=function(C){const k=dt[C];if(k!==void 0)return PE(k)}(ve),D=oe.message;ae===void 0&&(ae=G.INTERNAL,D="Unknown error status: "+ve+" with message "+oe.message),A=!0,O.Do(new le(ae,D)),w.close()}else se(Ft,`RPC '${e}' stream ${o} received:`,Y),O.vo(Y)}}),z(d,tE.STAT_EVENT,M=>{M.stat===Tf.PROXY?se(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===Tf.NOPROXY&&se(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n){return new gk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t,i,o,a,c,d,f){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new $E(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new le(G.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.d_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c1 extends zE{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=vk(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ie.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?hr(c.readTime):Ie.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Df(this.serializer),t.addTarget=function(a,c){let d;const f=c.target;if(d=Cf(f)?{documents:Tk(a,f)}:{query:Ik(a,f).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=OE(a,c.resumeToken);const y=kf(a,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Nc(a,c.snapshotVersion.toTimestamp());const y=kf(a,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=Rk(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Df(this.serializer),t.removeTarget=e,this.c_(t)}}class h1 extends zE{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=wk(e.writeResults,e.commitTime),i=hr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Df(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Ek(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1 extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,xf(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(G.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,xf(t,i),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(G.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class f1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Br(t),this.C_=!1):se("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{ks(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(f){const y=Se(f);y.k_.add(4),await Cu(y),y.K_.set("Unknown"),y.k_.delete(4),await uh(y)}(this))})}),this.K_=new f1(i,o)}}async function uh(n){if(ks(n))for(const e of n.q_)await e(!0)}async function Cu(n){for(const e of n.q_)await e(!1)}function BE(n,e){const t=Se(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Rp(t)?Sp(t):Qo(t).s_()&&Ip(t,e))}function Tp(n,e){const t=Se(n),i=Qo(t);t.L_.delete(e),i.s_()&&qE(t,e),t.L_.size===0&&(i.s_()?i.a_():ks(t)&&t.K_.set("Unknown"))}function Ip(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Qo(n).V_(e)}function qE(n,e){n.U_.xe(e),Qo(n).m_(e)}function Sp(n){n.U_=new dk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Qo(n).start(),n.K_.F_()}function Rp(n){return ks(n)&&!Qo(n).i_()&&n.L_.size>0}function ks(n){return Se(n).k_.size===0}function HE(n){n.U_=void 0}async function m1(n){n.K_.set("Online")}async function g1(n){n.L_.forEach((e,t)=>{Ip(n,e)})}async function y1(n,e){HE(n),Rp(n)?(n.K_.O_(e),Sp(n)):n.K_.set("Unknown")}async function _1(n,e,t){if(n.K_.set("Online"),e instanceof xE&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o.L_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.L_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Lc(n,i)}else if(e instanceof fc?n.U_.$e(e):e instanceof kE?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ie.min()))try{const i=await jE(n.localStore);t.compareTo(i)>=0&&await function(a,c){const d=a.U_.it(c);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.L_.get(y);v&&a.L_.set(y,v.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach((f,y)=>{const v=a.L_.get(f);if(!v)return;a.L_.set(f,v.withResumeToken(Nt.EMPTY_BYTE_STRING,v.snapshotVersion)),qE(a,f);const w=new Si(v.target,f,y,v.sequenceNumber);Ip(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){se("RemoteStore","Failed to raise snapshot:",i),await Lc(n,i)}}async function Lc(n,e,t){if(!Wo(e))throw e;n.k_.add(1),await Cu(n),n.K_.set("Offline"),t||(t=()=>jE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await uh(n)})}function WE(n,e){return e().catch(t=>Lc(n,t,e))}async function lh(n){const e=Se(n),t=Li(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;v1(e);)try{const o=await n1(e.localStore,i);if(o===null){e.B_.length===0&&t.a_();break}i=o.batchId,E1(e,o)}catch(o){await Lc(e,o)}QE(e)&&KE(e)}function v1(n){return ks(n)&&n.B_.length<10}function E1(n,e){n.B_.push(e);const t=Li(n);t.s_()&&t.f_&&t.g_(e.mutations)}function QE(n){return ks(n)&&!Li(n).i_()&&n.B_.length>0}function KE(n){Li(n).start()}async function w1(n){Li(n).w_()}async function T1(n){const e=Li(n);for(const t of n.B_)e.g_(t.mutations)}async function I1(n,e,t){const i=n.B_.shift(),o=gp.from(i,e,t);await WE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await lh(n)}async function S1(n,e){e&&Li(n).f_&&await async function(i,o){if(function(c){return lk(c)&&c!==G.ABORTED}(o.code)){const a=i.B_.shift();Li(i).__(),await WE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await lh(i)}}(n,e),QE(n)&&KE(n)}async function m_(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const i=ks(t);t.k_.add(3),await Cu(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await uh(t)}async function R1(n,e){const t=Se(n);e?(t.k_.delete(2),await uh(t)):e||(t.k_.add(2),await Cu(t),t.K_.set("Unknown"))}function Qo(n){return n.W_||(n.W_=function(t,i,o){const a=Se(t);return a.b_(),new c1(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:m1.bind(null,n),mo:g1.bind(null,n),po:y1.bind(null,n),R_:_1.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Rp(n)?Sp(n):n.K_.set("Unknown")):(await n.W_.stop(),HE(n))})),n.W_}function Li(n){return n.G_||(n.G_=function(t,i,o){const a=Se(t);return a.b_(),new h1(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:w1.bind(null,n),po:S1.bind(null,n),p_:T1.bind(null,n),y_:I1.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await lh(n)):(await n.G_.stop(),n.B_.length>0&&(se("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,d=new Cp(e,t,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ap(n,e){if(Br("AsyncQueue",`${e}: ${n}`),Wo(n))return new le(G.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=Ka(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Oo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.z_=new it(ge.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Fo{constructor(e,t,i,o,a,c,d,f,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Fo(e,t,Oo.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class A1{constructor(){this.queries=y_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Se(t),a=o.queries;o.queries=y_(),a.forEach((c,d)=>{for(const f of d.J_)f.onError(i)})})(this,new le(G.ABORTED,"Firestore shutting down"))}}function y_(){return new As(n=>gE(n),nh)}async function GE(n,e){const t=Se(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new C1,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Ap(c,`Initialization of query '${So(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Pp(t)}async function YE(n,e){const t=Se(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function P1(n,e){const t=Se(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.J_)d.ta(o)&&(i=!0);c.H_=o}}i&&Pp(t)}function k1(n,e,t){const i=Se(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function Pp(n){n.X_.forEach(e=>{e.next()})}var bf,__;(__=bf||(bf={})).na="default",__.Cache="cache";class JE{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Fo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==bf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.key=e}}class ZE{constructor(e){this.key=e}}class x1{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ke(),this.mutatedKeys=ke(),this.Va=yE(e),this.ma=new Oo(this.Va)}get fa(){return this.Ea}ga(e,t){const i=t?t.pa:new g_,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const I=o.get(v),A=rh(this.query,w)?w:null,O=!!I&&this.mutatedKeys.has(I.key),z=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;I&&A?I.data.isEqual(A.data)?O!==z&&(i.track({type:3,doc:A}),M=!0):this.ya(I,A)||(i.track({type:2,doc:A}),M=!0,(f&&this.Va(A,f)>0||y&&this.Va(A,y)<0)&&(d=!0)):!I&&A?(i.track({type:0,doc:A}),M=!0):I&&!A&&(i.track({type:1,doc:I}),M=!0,(f||y)&&(d=!0)),M&&(A?(c=c.add(A),a=z?a.add(v):a.delete(v)):(c=c.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{ma:c,pa:i,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((v,w)=>function(A,O){const z=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return z(A)-z(O)}(v.type,w.type)||this.Va(v.doc,w.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],f=this.Ra.size===0&&this.current&&!o?1:0,y=f!==this.Aa;return this.Aa=f,c.length!==0||y?{snapshot:new Fo(this.query,e.ma,a,c,e.mutatedKeys,f===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new g_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ke(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new ZE(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new XE(i))}),t}va(e){this.Ea=e.Es,this.Ra=ke();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Fo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class O1{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class D1{constructor(e){this.key=e,this.Fa=!1}}class N1{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new As(d=>gE(d),nh),this.Oa=new Map,this.Na=new Set,this.Ba=new it(ge.comparator),this.La=new Map,this.ka=new vp,this.qa={},this.Qa=new Map,this.Ka=Mo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function b1(n,e,t=!0){const i=sw(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await ew(i,e,t,!0),o}async function L1(n,e){const t=sw(n);await ew(t,e,!0,!1)}async function ew(n,e,t,i){const o=await r1(n.localStore,lr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await V1(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&BE(n.remoteStore,o),d}async function V1(n,e,t,i,o){n.Ua=(w,I,A)=>async function(z,M,H,Y){let W=M.view.ga(H);W.ss&&(W=await d_(z.localStore,M.query,!1).then(({documents:D})=>M.view.ga(D,W)));const oe=Y&&Y.targetChanges.get(M.targetId),ve=Y&&Y.targetMismatches.get(M.targetId)!=null,ae=M.view.applyChanges(W,z.isPrimaryClient,oe,ve);return E_(z,M.targetId,ae.ba),ae.snapshot}(n,w,I,A);const a=await d_(n.localStore,e,!0),c=new x1(e,a.Es),d=c.ga(a.documents),f=Ru.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,f);E_(n,t,y.ba);const v=new O1(e,t,c);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function M1(n,e,t){const i=Se(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(c=>!nh(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Nf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Tp(i.remoteStore,o.targetId),Lf(i,o.targetId)}).catch(Ho)):(Lf(i,o.targetId),await Nf(i.localStore,o.targetId,!0))}async function F1(n,e){const t=Se(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Tp(t.remoteStore,i.targetId))}async function U1(n,e,t){const i=W1(n);try{const o=await function(c,d){const f=Se(c),y=vt.now(),v=d.reduce((A,O)=>A.add(O.key),ke());let w,I;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let O=qr(),z=ke();return f.hs.getEntries(A,v).next(M=>{O=M,O.forEach((H,Y)=>{Y.isValidDocument()||(z=z.add(H))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,O)).next(M=>{w=M;const H=[];for(const Y of d){const W=ik(Y,w.get(Y.key).overlayedDocument);W!=null&&H.push(new Ps(Y.key,W,uE(W.value.mapValue),cr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,y,H,d)}).next(M=>{I=M;const H=M.applyToLocalDocumentSet(w,z);return f.documentOverlayCache.saveOverlays(A,M.batchId,H)})}).then(()=>({batchId:I.batchId,changes:vE(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,f){let y=c.qa[c.currentUser.toKey()];y||(y=new it(Oe)),y=y.insert(d,f),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,t),await Au(i,o.changes),await lh(i.remoteStore)}catch(o){const a=Ap(o,"Failed to persist write");t.reject(a)}}async function tw(n,e){const t=Se(n);try{const i=await e1(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.La.get(a);c&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?ze(c.Fa):o.removedDocuments.size>0&&(ze(c.Fa),c.Fa=!1))}),await Au(t,i,e)}catch(i){await Ho(i)}}function v_(n,e,t){const i=Se(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,c)=>{const d=c.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const f=Se(c);f.onlineState=d;let y=!1;f.queries.forEach((v,w)=>{for(const I of w.J_)I.ea(d)&&(y=!0)}),y&&Pp(f)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function j1(n,e,t){const i=Se(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.La.get(e),a=o&&o.key;if(a){let c=new it(ge.comparator);c=c.insert(a,zt.newNoDocument(a,Ie.min()));const d=ke().add(a),f=new oh(Ie.min(),new Map,new it(Oe),c,d);await tw(i,f),i.Ba=i.Ba.remove(a),i.La.delete(e),kp(i)}else await Nf(i.localStore,e,!1).then(()=>Lf(i,e,t)).catch(Ho)}async function $1(n,e){const t=Se(n),i=e.batch.batchId;try{const o=await Zk(t.localStore,e);rw(t,i,null),nw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Au(t,o)}catch(o){await Ho(o)}}async function z1(n,e,t){const i=Se(n);try{const o=await function(c,d){const f=Se(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return f.mutationQueue.lookupMutationBatch(y,d).next(w=>(ze(w!==null),v=w.keys(),f.mutationQueue.removeMutationBatch(y,w))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>f.localDocuments.getDocuments(y,v))})}(i.localStore,e);rw(i,e,t),nw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Au(i,o)}catch(o){await Ho(o)}}function nw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function rw(n,e,t){const i=Se(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Lf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||iw(n,i)})}function iw(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Tp(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),kp(n))}function E_(n,e,t){for(const i of t)i instanceof XE?(n.ka.addReference(i.key,e),B1(n,i)):i instanceof ZE?(se("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||iw(n,i.key)):Te()}function B1(n,e){const t=e.key,i=t.path.canonicalString();n.Ba.get(t)||n.Na.has(i)||(se("SyncEngine","New document in limbo: "+t),n.Na.add(i),kp(n))}function kp(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ge(Je.fromString(e)),i=n.Ka.next();n.La.set(i,new D1(t)),n.Ba=n.Ba.insert(t,i),BE(n.remoteStore,new Si(lr(fp(t.path)),i,"TargetPurposeLimboResolution",Zc.oe))}}async function Au(n,e,t){const i=Se(n),o=[],a=[],c=[];i.xa.isEmpty()||(i.xa.forEach((d,f)=>{c.push(i.Ua(f,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const w=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(y){o.push(y);const w=wp.zi(f.targetId,y);a.push(w)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(f,y){const v=Se(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>K.forEach(y,I=>K.forEach(I.Wi,A=>v.persistence.referenceDelegate.addReference(w,I.targetId,A)).next(()=>K.forEach(I.Gi,A=>v.persistence.referenceDelegate.removeReference(w,I.targetId,A)))))}catch(w){if(!Wo(w))throw w;se("LocalStore","Failed to update sequence numbers: "+w)}for(const w of y){const I=w.targetId;if(!w.fromCache){const A=v.us.get(I),O=A.snapshotVersion,z=A.withLastLimboFreeSnapshotVersion(O);v.us=v.us.insert(I,z)}}}(i.localStore,a))}async function q1(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const i=await UE(t.localStore,e);t.currentUser=e,function(a,c){a.Qa.forEach(d=>{d.forEach(f=>{f.reject(new le(G.CANCELLED,c))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Au(t,i.Ts)}}function H1(n,e){const t=Se(n),i=t.La.get(e);if(i&&i.Fa)return ke().add(i.key);{let o=ke();const a=t.Oa.get(e);if(!a)return o;for(const c of a){const d=t.xa.get(c);o=o.unionWith(d.view.fa)}return o}}function sw(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j1.bind(null,e),e.Ma.R_=P1.bind(null,e.eventManager),e.Ma.Wa=k1.bind(null,e.eventManager),e}function W1(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z1.bind(null,e),e}class Vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ah(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Xk(this.persistence,new Yk,e.initialUser,this.serializer)}ja(e){return new FE(Ep.ei,this.serializer)}za(e){return new s1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vc.provider={build:()=>new Vc};class Q1 extends Vc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ze(this.persistence.referenceDelegate instanceof bc);const i=this.persistence.referenceDelegate.garbageCollector;return new Lk(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new FE(i=>bc.ei(i,t),this.serializer)}}class Vf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>v_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=q1.bind(null,this.syncEngine),await R1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A1}()}createDatastore(e){const t=ah(e.databaseInfo.databaseId),i=function(a){return new l1(a)}(e.databaseInfo);return function(a,c,d,f){return new d1(a,c,d,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,d){return new p1(i,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>v_(this.syncEngine,t,0),function(){return p_.p()?new p_:new o1}())}createSyncEngine(e,t){return function(o,a,c,d,f,y,v){const w=new N1(o,a,c,d,f,y);return v&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Se(o);se("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Cu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Vf.provider={build:()=>new Vf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=sE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{se("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(se("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ap(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function af(n,e){n.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await UE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function w_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await G1(n);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>m_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>m_(e.remoteStore,o)),n._onlineComponents=e}async function G1(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await af(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await af(n,new Vc)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await af(n,new Q1(void 0));return n._offlineComponents}async function aw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await w_(n,n._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await w_(n,new Vf))),n._onlineComponents}function Y1(n){return aw(n).then(e=>e.syncEngine)}async function uw(n){const e=await aw(n),t=e.eventManager;return t.onListen=b1.bind(null,e.syncEngine),t.onUnlisten=M1.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=L1.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=F1.bind(null,e.syncEngine),t}function J1(n,e,t={}){const i=new Ur;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,f,y){const v=new ow({next:I=>{v.eu(),c.enqueueAndForget(()=>YE(a,w));const A=I.docs.has(d);!A&&I.fromCache?y.reject(new le(G.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&I.fromCache&&f&&f.source==="server"?y.reject(new le(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),w=new JE(fp(d.path),v,{includeMetadataChanges:!0,ua:!0});return GE(a,w)}(await uw(n),n.asyncQueue,e,t,i)),i.promise}function X1(n,e,t={}){const i=new Ur;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,f,y){const v=new ow({next:I=>{v.eu(),c.enqueueAndForget(()=>YE(a,w)),I.fromCache&&f.source==="server"?y.reject(new le(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),w=new JE(d,v,{includeMetadataChanges:!0,ua:!0});return GE(a,w)}(await uw(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n,e,t){if(!t)throw new le(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Z1(n,e,t,i){if(e===!0&&i===!0)throw new le(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function I_(n){if(!ge.isDocumentKey(n))throw new le(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function S_(n){if(ge.isDocumentKey(n))throw new le(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ch(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function Vi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new le(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ch(n);throw new le(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new le(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new hP;switch(i.type){case"firstParty":return new mP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=T_.get(t);i&&(se("ComponentProvider","Removing Datastore"),T_.delete(t),i.terminate())}(this),Promise.resolve()}}function ex(n,e,t,i={}){var o;const a=(n=Vi(n,hh))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let d,f;if(typeof i.mockUserToken=="string")d=i.mockUserToken,f=$t.MOCK_USER;else{d=R0(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new le(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $t(y)}n._authCredentials=new dP(new iE(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=class hw{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new hw(this.firestore,e,this._query)}};class an{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class ki extends dh{constructor(e,t,i){super(e,t,fp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new ge(e))}withConverter(e){return new ki(this.firestore,e,this._path)}}function fh(n,e,...t){if(n=Yt(n),cw("collection","path",e),n instanceof hh){const i=Je.fromString(e,...t);return S_(i),new ki(n,null,i)}{if(!(n instanceof an||n instanceof ki))throw new le(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return S_(i),new ki(n.firestore,null,i)}}function Ts(n,e,...t){if(n=Yt(n),arguments.length===1&&(e=sE.newId()),cw("doc","path",e),n instanceof hh){const i=Je.fromString(e,...t);return I_(i),new an(n,null,new ge(i))}{if(!(n instanceof an||n instanceof ki))throw new le(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return I_(i),new an(n.firestore,n instanceof ki?n.converter:null,new ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new $E(this,"async_queue_retry"),this.fu=()=>{const i=of();i&&se("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=of();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=of();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Ur;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Wo(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Br("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Cp.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.Eu.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class Pu extends hh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new C_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C_(e),this._firestoreClient=void 0,await e}}}function tx(n,e){const t=typeof n=="object"?n:pv(),i=typeof n=="string"?n:"(default)",o=Xf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=I0("firestore");a&&ex(o,...a)}return o}function xp(n){if(n._terminated)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nx(n),n._firestoreClient}function nx(n){var e,t,i;const o=n._freezeSettings(),a=function(d,f,y,v){return new xP(d,f,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,lw(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new K1(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(Nt.fromBase64String(e))}catch(t){throw new le(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uo(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=/^__.*__$/;class ix{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new Su(e,this.data,t,this.fieldTransforms)}}function fw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class bp{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new bp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Bu(e),o}Lu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Mc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(fw(this.Mu)&&rx.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class sx{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ah(e)}$u(e,t,i,o=!1){return new bp({Mu:e,methodName:t,Ku:i,path:Dt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pw(n){const e=n._freezeSettings(),t=ah(n._databaseId);return new sx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ox(n,e,t,i,o,a={}){const c=n.$u(a.merge||a.mergeFields?2:0,e,t,o);yw("Data must be an object, but it was:",c,i);const d=mw(i,c);let f,y;if(a.merge)f=new qn(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const I=ux(e,w,t);if(!c.contains(I))throw new le(G.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);cx(v,I)||v.push(I)}f=new qn(v),y=c.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,y=c.fieldTransforms;return new ix(new Cn(d),f,y)}function ax(n,e,t,i=!1){return Lp(t,n.$u(i?4:3,e))}function Lp(n,e){if(gw(n=Yt(n)))return yw("Unsupported field value:",e,n),mw(n,e);if(n instanceof dw)return function(i,o){if(!fw(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const d of i){let f=Lp(d,o.ku(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=Yt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return XP(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=vt.fromDate(i);return{timestampValue:Nc(o.serializer,a)}}if(i instanceof vt){const a=new vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nc(o.serializer,a)}}if(i instanceof Dp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Uo)return{bytesValue:OE(o.serializer,i._byteString)};if(i instanceof an){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_p(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Np)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(f=>{if(typeof f!="number")throw d.qu("VectorValues must only contain numeric values.");return pp(d.serializer,f)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${ch(i)}`)}(n,e)}function mw(n,e){const t={};return oE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(n,(i,o)=>{const a=Lp(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function gw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof Dp||n instanceof Uo||n instanceof an||n instanceof dw||n instanceof Np)}function yw(n,e,t){if(!gw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=ch(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function ux(n,e,t){if((e=Yt(e))instanceof Op)return e._internalPath;if(typeof e=="string")return _w(n,e);throw Mc("Field path arguments must be of type string or ",n,!1,void 0,t)}const lx=new RegExp("[~\\*/\\[\\]]");function _w(n,e,t){if(e.search(lx)>=0)throw Mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Op(...e.split("."))._internalPath}catch{throw Mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mc(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${i}`),c&&(f+=` in document ${o}`),f+=")"),new le(G.INVALID_ARGUMENT,d+n+f)}function cx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class hx extends vw{data(){return super.data()}}function Vp(n,e){return typeof e=="string"?_w(n,e):e instanceof Op?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new le(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mp{}class fx extends Mp{}function px(n,e,...t){let i=[];e instanceof Mp&&i.push(e),i=i.concat(t),function(a){const c=a.filter(f=>f instanceof Fp).length,d=a.filter(f=>f instanceof ph).length;if(c>1||c>0&&d>0)throw new le(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class ph extends fx{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new ph(e,t,i)}_apply(e){const t=this._parse(e);return Ew(e._query,t),new dh(e.firestore,e.converter,Af(e._query,t))}_parse(e){const t=pw(e.firestore);return function(a,c,d,f,y,v,w){let I;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new le(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){P_(w,v);const A=[];for(const O of w)A.push(A_(f,a,O));I={arrayValue:{values:A}}}else I=A_(f,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||P_(w,v),I=ax(d,c,w,v==="in"||v==="not-in");return ft.create(y,v,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function mx(n,e,t){const i=e,o=Vp("where",n);return ph._create(o,i,t)}class Fp extends Mp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Fp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const d=a.getFlattenedFilters();for(const f of d)Ew(c,f),c=Af(c,f)}(e._query,t),new dh(e.firestore,e.converter,Af(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function A_(n,e,t){if(typeof(t=Yt(t))=="string"){if(t==="")throw new le(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mE(e)&&t.indexOf("/")!==-1)throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Je.fromString(t));if(!ge.isDocumentKey(i))throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ky(n,new ge(i))}if(t instanceof an)return Ky(n,t._key);throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(t)}.`)}function P_(n,e){if(!Array.isArray(n)||n.length===0)throw new le(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ew(n,e){const t=function(o,a){for(const c of o)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class gx{convertValue(e,t="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Cs(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>lt(c.doubleValue));return new Np(a)}convertGeoPoint(e){return new Dp(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=th(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const t=Di(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Je.fromString(e);ze(ME(i));const o=new lu(i.get(1),i.get(3)),a=new ge(i.popFirst(5));return o.isEqual(t)||Br(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ww extends vw{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Vp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class pc extends ww{data(e={}){return super.data(e)}}class _x{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ya(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new pc(this._firestore,this._userDataWriter,i.key,i,new Ya(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const f=new pc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ya(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new pc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ya(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:vx(d.type),doc:f,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(n){n=Vi(n,an);const e=Vi(n.firestore,Pu);return J1(xp(e),n._key).then(t=>Ex(e,n,t))}class Tw extends gx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,t)}}function fu(n){n=Vi(n,dh);const e=Vi(n.firestore,Pu),t=xp(e),i=new Tw(e);return dx(n._query),X1(t,n._query).then(o=>new _x(e,i,n,o))}function Mf(n,e,t){n=Vi(n,an);const i=Vi(n.firestore,Pu),o=yx(n.converter,e);return Iw(i,[ox(pw(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,cr.none())])}function Fc(n){return Iw(Vi(n.firestore,Pu),[new mp(n._key,cr.none())])}function Iw(n,e){return function(i,o){const a=new Ur;return i.asyncQueue.enqueueAndForget(async()=>U1(await Y1(i),o,a)),a.promise}(xp(n),e)}function Ex(n,e,t){const i=t.docs.get(e._key),o=new Tw(n);return new ww(n,o,e._key,i,new Ya(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){qo=o})(zo),Do(new _s("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new Pu(new fP(i.getProvider("auth-internal")),new yP(i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(y.options.projectId,v)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Ai(zy,"4.7.6",e),Ai(zy,"4.7.6","esm2017")})();const wx={apiKey:"AIzaSyAMOZ2lT6WunF54ztIYhSzzYB_unxDEJhY",authDomain:"users-justflix.firebaseapp.com",projectId:"users-justflix",storageBucket:"users-justflix.firebasestorage.app",messagingSenderId:"62394278641",appId:"1:62394278641:web:63a1f34494c08b2c3d3f50",measurementId:"G-DZY0NFTXD2"},Sw=fv(wx),Uc=lP(Sw),dr=tx(Sw),IO=async(n,e)=>{try{return await QC(Uc,n,e)}catch{return null}},Tx=async n=>{try{const e=fh(dr,`users/${n}/profiles`);return(await fu(e)).docs.map(i=>({id:i.id,...i.data()}))}catch{return[]}},SO=async(n,e)=>{try{const i=(await KC(Uc,n,e)).user,o=Ts(dr,"users",i.uid),a=await mh(o);return a.exists()?{id:i.uid,...a.data()}:null}catch{return null}},RO=async(n,e,t,i)=>{try{const o=fh(dr,`users/${n}/profiles`);if((await fu(o)).size>=5)return Rn.error("Has alcanzado el límite de 5 perfiles."),!1;const c=px(o,mx("name","==",e));if(!(await fu(c)).empty)return Rn.error("Ya existe un perfil con ese nombre"),!1;const f=Ts(o);return await Mf(f,{profile_id:f.id,name:e,imagen:t,type:i}),!0}catch{return!1}},CO=async(n,e)=>{try{const t=fh(dr,`users/${n}/profiles/${e}/favorites`),o=(await fu(t)).docs.map(a=>Fc(Ts(dr,a.ref.path)));return await Promise.all(o),await Fc(Ts(dr,`users/${n}/profiles/${e}`)),!0}catch{return!1}},AO=async(n,e,t)=>{try{if(!n||!e||!t)return;const i=Ts(dr,`users/${n}/profiles/${e}/favorites/${t.id}`),o=await mh(i);if("title"in t){if(o.exists()){Rn.error(`La película "${t.title}" ya está en favoritos`);return}await Mf(i,t),Rn.success(`Película "${t.title}" añadida a favoritos`)}else if("name"in t){if(o.exists()){Rn.error(`La serie "${t.name}" ya está en favoritos`);return}await Mf(i,t),Rn.success(`Serie "${t.name}" añadida a favoritos`)}}catch{Rn.error("Error al añadir a favoritos")}},PO=async(n,e,t)=>{try{if(!n||!e||!t)return;const i=Ts(dr,`users/${n}/profiles/${e}/favorites/${t.id}`),o=await mh(i);if("title"in t){if(!o.exists()){Rn.error(`La película "${t.title}" ya está eliminada de favoritos`);return}Rn.success(`Película ${t.title} eliminada de favoritos`),await Fc(i)}else if("name"in t){if(!o.exists()){Rn.error(`La serie "${t.name}" ya se eliminó`);return}Rn.success(`Serie ${t.name} eliminada de favoritos`),await Fc(i)}return!0}catch{return Rn.error("Error al eliminar de favoritos"),!1}},kO=async(n,e)=>{try{const t=fh(dr,`users/${n}/profiles/${e}/favorites`);return(await fu(t)).docs.map(o=>({...o.data()}))}catch{return[]}},Rw=F.createContext(void 0),Ix=({children:n})=>{const[e,t]=F.useState(null),[i,o]=F.useState(()=>{const w=sessionStorage.getItem("currentPerfil");return w?JSON.parse(w):null}),[a,c]=F.useState(!1),[d,f]=F.useState(!0);F.useEffect(()=>{const w=JC(Uc,async I=>{if(I){const A=Ts(dr,"users",I.uid),O=await mh(A);if(O.exists()){const z=O.data();t({...z,id:I.uid}),c(!0)}else v()}else t(null),o(null),c(!1);f(!1)});return()=>w()},[]),F.useEffect(()=>{i?sessionStorage.setItem("currentPerfil",JSON.stringify(i)):sessionStorage.removeItem("currentPerfil")},[i]);const y=w=>{t(w),c(!0)},v=()=>{XC(Uc),t(null),o(null),c(!1),sessionStorage.removeItem("currentPerfil")};return fe.jsx(Rw.Provider,{value:{currentUser:e,isLoggedIn:a,loading:d,loginAuth:y,logout:v,currentPerfil:i,setCurrentPerfil:o},children:n})},Sx=()=>{const n=F.useContext(Rw);if(!n)throw new Error("useAuth debe usarse dentro de un AuthProvider");return n};function Ff(n,e){return Ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Ff(n,e)}function ku(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Ff(n,e)}var xu=function(){function n(){this.listeners=[]}var e=n.prototype;return e.subscribe=function(i){var o=this,a=i||function(){};return this.listeners.push(a),this.onSubscribe(),function(){o.listeners=o.listeners.filter(function(c){return c!==a}),o.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},n}();function je(){return je=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},je.apply(null,arguments)}var jc=typeof window>"u";function jt(){}function Rx(n,e){return typeof n=="function"?n(e):n}function Uf(n){return typeof n=="number"&&n>=0&&n!==1/0}function $c(n){return Array.isArray(n)?n:[n]}function Cw(n,e){return Math.max(n+(e||0)-Date.now(),0)}function mc(n,e,t){return gh(n)?typeof e=="function"?je({},t,{queryKey:n,queryFn:e}):je({},e,{queryKey:n}):n}function _i(n,e,t){return gh(n)?[je({},e,{queryKey:n}),t]:[n||{},e]}function Cx(n,e){if(n===!0&&e===!0||n==null&&e==null)return"all";if(n===!1&&e===!1)return"none";var t=n??!e;return t?"active":"inactive"}function k_(n,e){var t=n.active,i=n.exact,o=n.fetching,a=n.inactive,c=n.predicate,d=n.queryKey,f=n.stale;if(gh(d)){if(i){if(e.queryHash!==Up(d,e.options))return!1}else if(!zc(e.queryKey,d))return!1}var y=Cx(t,a);if(y==="none")return!1;if(y!=="all"){var v=e.isActive();if(y==="active"&&!v||y==="inactive"&&v)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||typeof o=="boolean"&&e.isFetching()!==o||c&&!c(e))}function x_(n,e){var t=n.exact,i=n.fetching,o=n.predicate,a=n.mutationKey;if(gh(a)){if(!e.options.mutationKey)return!1;if(t){if(ys(e.options.mutationKey)!==ys(a))return!1}else if(!zc(e.options.mutationKey,a))return!1}return!(typeof i=="boolean"&&e.state.status==="loading"!==i||o&&!o(e))}function Up(n,e){var t=(e==null?void 0:e.queryKeyHashFn)||ys;return t(n)}function ys(n){var e=$c(n);return Ax(e)}function Ax(n){return JSON.stringify(n,function(e,t){return jf(t)?Object.keys(t).sort().reduce(function(i,o){return i[o]=t[o],i},{}):t})}function zc(n,e){return Aw($c(n),$c(e))}function Aw(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(function(t){return!Aw(n[t],e[t])}):!1}function Bc(n,e){if(n===e)return n;var t=Array.isArray(n)&&Array.isArray(e);if(t||jf(n)&&jf(e)){for(var i=t?n.length:Object.keys(n).length,o=t?e:Object.keys(e),a=o.length,c=t?[]:{},d=0,f=0;f<a;f++){var y=t?f:o[f];c[y]=Bc(n[y],e[y]),c[y]===n[y]&&d++}return i===a&&d===i?n:c}return e}function Px(n,e){if(n&&!e||e&&!n)return!1;for(var t in n)if(n[t]!==e[t])return!1;return!0}function jf(n){if(!O_(n))return!1;var e=n.constructor;if(typeof e>"u")return!0;var t=e.prototype;return!(!O_(t)||!t.hasOwnProperty("isPrototypeOf"))}function O_(n){return Object.prototype.toString.call(n)==="[object Object]"}function gh(n){return typeof n=="string"||Array.isArray(n)}function kx(n){return new Promise(function(e){setTimeout(e,n)})}function D_(n){Promise.resolve().then(n).catch(function(e){return setTimeout(function(){throw e})})}function Pw(){if(typeof AbortController=="function")return new AbortController}var xx=function(n){ku(e,n);function e(){var i;return i=n.call(this)||this,i.setup=function(o){var a;if(!jc&&((a=window)!=null&&a.addEventListener)){var c=function(){return o()};return window.addEventListener("visibilitychange",c,!1),window.addEventListener("focus",c,!1),function(){window.removeEventListener("visibilitychange",c),window.removeEventListener("focus",c)}}},i}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var o;(o=this.cleanup)==null||o.call(this),this.cleanup=void 0}},t.setEventListener=function(o){var a,c=this;this.setup=o,(a=this.cleanup)==null||a.call(this),this.cleanup=o(function(d){typeof d=="boolean"?c.setFocused(d):c.onFocus()})},t.setFocused=function(o){this.focused=o,o&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(o){o()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(xu),ru=new xx,Ox=function(n){ku(e,n);function e(){var i;return i=n.call(this)||this,i.setup=function(o){var a;if(!jc&&((a=window)!=null&&a.addEventListener)){var c=function(){return o()};return window.addEventListener("online",c,!1),window.addEventListener("offline",c,!1),function(){window.removeEventListener("online",c),window.removeEventListener("offline",c)}}},i}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var o;(o=this.cleanup)==null||o.call(this),this.cleanup=void 0}},t.setEventListener=function(o){var a,c=this;this.setup=o,(a=this.cleanup)==null||a.call(this),this.cleanup=o(function(d){typeof d=="boolean"?c.setOnline(d):c.onOnline()})},t.setOnline=function(o){this.online=o,o&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(o){o()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(xu),gc=new Ox;function Dx(n){return Math.min(1e3*Math.pow(2,n),3e4)}function qc(n){return typeof(n==null?void 0:n.cancel)=="function"}var kw=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function yc(n){return n instanceof kw}var xw=function(e){var t=this,i=!1,o,a,c,d;this.abort=e.abort,this.cancel=function(I){return o==null?void 0:o(I)},this.cancelRetry=function(){i=!0},this.continueRetry=function(){i=!1},this.continue=function(){return a==null?void 0:a()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(I,A){c=I,d=A});var f=function(A){t.isResolved||(t.isResolved=!0,e.onSuccess==null||e.onSuccess(A),a==null||a(),c(A))},y=function(A){t.isResolved||(t.isResolved=!0,e.onError==null||e.onError(A),a==null||a(),d(A))},v=function(){return new Promise(function(A){a=A,t.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){a=void 0,t.isPaused=!1,e.onContinue==null||e.onContinue()})},w=function I(){if(!t.isResolved){var A;try{A=e.fn()}catch(O){A=Promise.reject(O)}o=function(z){if(!t.isResolved&&(y(new kw(z)),t.abort==null||t.abort(),qc(A)))try{A.cancel()}catch{}},t.isTransportCancelable=qc(A),Promise.resolve(A).then(f).catch(function(O){var z,M;if(!t.isResolved){var H=(z=e.retry)!=null?z:3,Y=(M=e.retryDelay)!=null?M:Dx,W=typeof Y=="function"?Y(t.failureCount,O):Y,oe=H===!0||typeof H=="number"&&t.failureCount<H||typeof H=="function"&&H(t.failureCount,O);if(i||!oe){y(O);return}t.failureCount++,e.onFail==null||e.onFail(t.failureCount,O),kx(W).then(function(){if(!ru.isFocused()||!gc.isOnline())return v()}).then(function(){i?y(O):I()})}})}};w()},Nx=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var e=n.prototype;return e.batch=function(i){var o;this.transactions++;try{o=i()}finally{this.transactions--,this.transactions||this.flush()}return o},e.schedule=function(i){var o=this;this.transactions?this.queue.push(i):D_(function(){o.notifyFn(i)})},e.batchCalls=function(i){var o=this;return function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];o.schedule(function(){i.apply(void 0,c)})}},e.flush=function(){var i=this,o=this.queue;this.queue=[],o.length&&D_(function(){i.batchNotifyFn(function(){o.forEach(function(a){i.notifyFn(a)})})})},e.setNotifyFunction=function(i){this.notifyFn=i},e.setBatchNotifyFunction=function(i){this.batchNotifyFn=i},n}(),ot=new Nx,Ow=console;function Hc(){return Ow}function bx(n){Ow=n}var Lx=function(){function n(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var e=n.prototype;return e.setOptions=function(i){var o;this.options=je({},this.defaultOptions,i),this.meta=i==null?void 0:i.meta,this.cacheTime=Math.max(this.cacheTime||0,(o=this.options.cacheTime)!=null?o:5*60*1e3)},e.setDefaultOptions=function(i){this.defaultOptions=i},e.scheduleGc=function(){var i=this;this.clearGcTimeout(),Uf(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){i.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(i,o){var a,c,d=this.state.data,f=Rx(i,d);return(a=(c=this.options).isDataEqual)!=null&&a.call(c,d,f)?f=d:this.options.structuralSharing!==!1&&(f=Bc(d,f)),this.dispatch({data:f,type:"success",dataUpdatedAt:o==null?void 0:o.updatedAt}),f},e.setState=function(i,o){this.dispatch({type:"setState",state:i,setStateOptions:o})},e.cancel=function(i){var o,a=this.promise;return(o=this.retryer)==null||o.cancel(i),a?a.then(jt).catch(jt):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(i){return i.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(i){return i.getCurrentResult().isStale})},e.isStaleByTime=function(i){return i===void 0&&(i=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Cw(this.state.dataUpdatedAt,i)},e.onFocus=function(){var i,o=this.observers.find(function(a){return a.shouldFetchOnWindowFocus()});o&&o.refetch(),(i=this.retryer)==null||i.continue()},e.onOnline=function(){var i,o=this.observers.find(function(a){return a.shouldFetchOnReconnect()});o&&o.refetch(),(i=this.retryer)==null||i.continue()},e.addObserver=function(i){this.observers.indexOf(i)===-1&&(this.observers.push(i),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:i}))},e.removeObserver=function(i){this.observers.indexOf(i)!==-1&&(this.observers=this.observers.filter(function(o){return o!==i}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:i}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(i,o){var a=this,c,d,f;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(o!=null&&o.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var y;return(y=this.retryer)==null||y.continueRetry(),this.promise}}if(i&&this.setOptions(i),!this.options.queryFn){var v=this.observers.find(function(Y){return Y.options.queryFn});v&&this.setOptions(v.options)}var w=$c(this.queryKey),I=Pw(),A={queryKey:w,pageParam:void 0,meta:this.meta};Object.defineProperty(A,"signal",{enumerable:!0,get:function(){if(I)return a.abortSignalConsumed=!0,I.signal}});var O=function(){return a.options.queryFn?(a.abortSignalConsumed=!1,a.options.queryFn(A)):Promise.reject("Missing queryFn")},z={fetchOptions:o,options:this.options,queryKey:w,state:this.state,fetchFn:O,meta:this.meta};if((c=this.options.behavior)!=null&&c.onFetch){var M;(M=this.options.behavior)==null||M.onFetch(z)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((d=z.fetchOptions)==null?void 0:d.meta)){var H;this.dispatch({type:"fetch",meta:(H=z.fetchOptions)==null?void 0:H.meta})}return this.retryer=new xw({fn:z.fetchFn,abort:I==null||(f=I.abort)==null?void 0:f.bind(I),onSuccess:function(W){a.setData(W),a.cache.config.onSuccess==null||a.cache.config.onSuccess(W,a),a.cacheTime===0&&a.optionalRemove()},onError:function(W){yc(W)&&W.silent||a.dispatch({type:"error",error:W}),yc(W)||(a.cache.config.onError==null||a.cache.config.onError(W,a),Hc().error(W)),a.cacheTime===0&&a.optionalRemove()},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:z.options.retry,retryDelay:z.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(i){var o=this;this.state=this.reducer(this.state,i),ot.batch(function(){o.observers.forEach(function(a){a.onQueryUpdate(i)}),o.cache.notify({query:o,type:"queryUpdated",action:i})})},e.getDefaultState=function(i){var o=typeof i.initialData=="function"?i.initialData():i.initialData,a=typeof i.initialData<"u",c=a?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0,d=typeof o<"u";return{data:o,dataUpdateCount:0,dataUpdatedAt:d?c??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:d?"success":"idle"}},e.reducer=function(i,o){var a,c;switch(o.type){case"failed":return je({},i,{fetchFailureCount:i.fetchFailureCount+1});case"pause":return je({},i,{isPaused:!0});case"continue":return je({},i,{isPaused:!1});case"fetch":return je({},i,{fetchFailureCount:0,fetchMeta:(a=o.meta)!=null?a:null,isFetching:!0,isPaused:!1},!i.dataUpdatedAt&&{error:null,status:"loading"});case"success":return je({},i,{data:o.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:(c=o.dataUpdatedAt)!=null?c:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var d=o.error;return yc(d)&&d.revert&&this.revertState?je({},this.revertState):je({},i,{error:d,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return je({},i,{isInvalidated:!0});case"setState":return je({},i,o.state);default:return i}},n}(),Vx=function(n){ku(e,n);function e(i){var o;return o=n.call(this)||this,o.config=i||{},o.queries=[],o.queriesMap={},o}var t=e.prototype;return t.build=function(o,a,c){var d,f=a.queryKey,y=(d=a.queryHash)!=null?d:Up(f,a),v=this.get(y);return v||(v=new Lx({cache:this,queryKey:f,queryHash:y,options:o.defaultQueryOptions(a),state:c,defaultOptions:o.getQueryDefaults(f),meta:a.meta}),this.add(v)),v},t.add=function(o){this.queriesMap[o.queryHash]||(this.queriesMap[o.queryHash]=o,this.queries.push(o),this.notify({type:"queryAdded",query:o}))},t.remove=function(o){var a=this.queriesMap[o.queryHash];a&&(o.destroy(),this.queries=this.queries.filter(function(c){return c!==o}),a===o&&delete this.queriesMap[o.queryHash],this.notify({type:"queryRemoved",query:o}))},t.clear=function(){var o=this;ot.batch(function(){o.queries.forEach(function(a){o.remove(a)})})},t.get=function(o){return this.queriesMap[o]},t.getAll=function(){return this.queries},t.find=function(o,a){var c=_i(o,a),d=c[0];return typeof d.exact>"u"&&(d.exact=!0),this.queries.find(function(f){return k_(d,f)})},t.findAll=function(o,a){var c=_i(o,a),d=c[0];return Object.keys(d).length>0?this.queries.filter(function(f){return k_(d,f)}):this.queries},t.notify=function(o){var a=this;ot.batch(function(){a.listeners.forEach(function(c){c(o)})})},t.onFocus=function(){var o=this;ot.batch(function(){o.queries.forEach(function(a){a.onFocus()})})},t.onOnline=function(){var o=this;ot.batch(function(){o.queries.forEach(function(a){a.onOnline()})})},e}(xu),Mx=function(){function n(t){this.options=je({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||Fx(),this.meta=t.meta}var e=n.prototype;return e.setState=function(i){this.dispatch({type:"setState",state:i})},e.addObserver=function(i){this.observers.indexOf(i)===-1&&this.observers.push(i)},e.removeObserver=function(i){this.observers=this.observers.filter(function(o){return o!==i})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(jt).catch(jt)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var i=this,o,a=this.state.status==="loading",c=Promise.resolve();return a||(this.dispatch({type:"loading",variables:this.options.variables}),c=c.then(function(){i.mutationCache.config.onMutate==null||i.mutationCache.config.onMutate(i.state.variables,i)}).then(function(){return i.options.onMutate==null?void 0:i.options.onMutate(i.state.variables)}).then(function(d){d!==i.state.context&&i.dispatch({type:"loading",context:d,variables:i.state.variables})})),c.then(function(){return i.executeMutation()}).then(function(d){o=d,i.mutationCache.config.onSuccess==null||i.mutationCache.config.onSuccess(o,i.state.variables,i.state.context,i)}).then(function(){return i.options.onSuccess==null?void 0:i.options.onSuccess(o,i.state.variables,i.state.context)}).then(function(){return i.options.onSettled==null?void 0:i.options.onSettled(o,null,i.state.variables,i.state.context)}).then(function(){return i.dispatch({type:"success",data:o}),o}).catch(function(d){return i.mutationCache.config.onError==null||i.mutationCache.config.onError(d,i.state.variables,i.state.context,i),Hc().error(d),Promise.resolve().then(function(){return i.options.onError==null?void 0:i.options.onError(d,i.state.variables,i.state.context)}).then(function(){return i.options.onSettled==null?void 0:i.options.onSettled(void 0,d,i.state.variables,i.state.context)}).then(function(){throw i.dispatch({type:"error",error:d}),d})})},e.executeMutation=function(){var i=this,o;return this.retryer=new xw({fn:function(){return i.options.mutationFn?i.options.mutationFn(i.state.variables):Promise.reject("No mutationFn found")},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:(o=this.options.retry)!=null?o:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(i){var o=this;this.state=Ux(this.state,i),ot.batch(function(){o.observers.forEach(function(a){a.onMutationUpdate(i)}),o.mutationCache.notify(o)})},n}();function Fx(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Ux(n,e){switch(e.type){case"failed":return je({},n,{failureCount:n.failureCount+1});case"pause":return je({},n,{isPaused:!0});case"continue":return je({},n,{isPaused:!1});case"loading":return je({},n,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return je({},n,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return je({},n,{data:void 0,error:e.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return je({},n,e.state);default:return n}}var jx=function(n){ku(e,n);function e(i){var o;return o=n.call(this)||this,o.config=i||{},o.mutations=[],o.mutationId=0,o}var t=e.prototype;return t.build=function(o,a,c){var d=new Mx({mutationCache:this,mutationId:++this.mutationId,options:o.defaultMutationOptions(a),state:c,defaultOptions:a.mutationKey?o.getMutationDefaults(a.mutationKey):void 0,meta:a.meta});return this.add(d),d},t.add=function(o){this.mutations.push(o),this.notify(o)},t.remove=function(o){this.mutations=this.mutations.filter(function(a){return a!==o}),o.cancel(),this.notify(o)},t.clear=function(){var o=this;ot.batch(function(){o.mutations.forEach(function(a){o.remove(a)})})},t.getAll=function(){return this.mutations},t.find=function(o){return typeof o.exact>"u"&&(o.exact=!0),this.mutations.find(function(a){return x_(o,a)})},t.findAll=function(o){return this.mutations.filter(function(a){return x_(o,a)})},t.notify=function(o){var a=this;ot.batch(function(){a.listeners.forEach(function(c){c(o)})})},t.onFocus=function(){this.resumePausedMutations()},t.onOnline=function(){this.resumePausedMutations()},t.resumePausedMutations=function(){var o=this.mutations.filter(function(a){return a.state.isPaused});return ot.batch(function(){return o.reduce(function(a,c){return a.then(function(){return c.continue().catch(jt)})},Promise.resolve())})},e}(xu);function $x(){return{onFetch:function(e){e.fetchFn=function(){var t,i,o,a,c,d,f=(t=e.fetchOptions)==null||(i=t.meta)==null?void 0:i.refetchPage,y=(o=e.fetchOptions)==null||(a=o.meta)==null?void 0:a.fetchMore,v=y==null?void 0:y.pageParam,w=(y==null?void 0:y.direction)==="forward",I=(y==null?void 0:y.direction)==="backward",A=((c=e.state.data)==null?void 0:c.pages)||[],O=((d=e.state.data)==null?void 0:d.pageParams)||[],z=Pw(),M=z==null?void 0:z.signal,H=O,Y=!1,W=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},oe=function($e,tt,qe,De){return H=De?[tt].concat(H):[].concat(H,[tt]),De?[qe].concat($e):[].concat($e,[qe])},ve=function($e,tt,qe,De){if(Y)return Promise.reject("Cancelled");if(typeof qe>"u"&&!tt&&$e.length)return Promise.resolve($e);var te={queryKey:e.queryKey,signal:M,pageParam:qe,meta:e.meta},de=W(te),re=Promise.resolve(de).then(function(Q){return oe($e,qe,Q,De)});if(qc(de)){var V=re;V.cancel=de.cancel}return re},ae;if(!A.length)ae=ve([]);else if(w){var D=typeof v<"u",S=D?v:N_(e.options,A);ae=ve(A,D,S)}else if(I){var C=typeof v<"u",k=C?v:zx(e.options,A);ae=ve(A,C,k,!0)}else(function(){H=[];var P=typeof e.options.getNextPageParam>"u",$e=f&&A[0]?f(A[0],0,A):!0;ae=$e?ve([],P,O[0]):Promise.resolve(oe([],O[0],A[0]));for(var tt=function(te){ae=ae.then(function(de){var re=f&&A[te]?f(A[te],te,A):!0;if(re){var V=P?O[te]:N_(e.options,de);return ve(de,P,V)}return Promise.resolve(oe(de,O[te],A[te]))})},qe=1;qe<A.length;qe++)tt(qe)})();var b=ae.then(function(P){return{pages:P,pageParams:H}}),L=b;return L.cancel=function(){Y=!0,z==null||z.abort(),qc(ae)&&ae.cancel()},b}}}}function N_(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function zx(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}var Bx=function(){function n(t){t===void 0&&(t={}),this.queryCache=t.queryCache||new Vx,this.mutationCache=t.mutationCache||new jx,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=n.prototype;return e.mount=function(){var i=this;this.unsubscribeFocus=ru.subscribe(function(){ru.isFocused()&&gc.isOnline()&&(i.mutationCache.onFocus(),i.queryCache.onFocus())}),this.unsubscribeOnline=gc.subscribe(function(){ru.isFocused()&&gc.isOnline()&&(i.mutationCache.onOnline(),i.queryCache.onOnline())})},e.unmount=function(){var i,o;(i=this.unsubscribeFocus)==null||i.call(this),(o=this.unsubscribeOnline)==null||o.call(this)},e.isFetching=function(i,o){var a=_i(i,o),c=a[0];return c.fetching=!0,this.queryCache.findAll(c).length},e.isMutating=function(i){return this.mutationCache.findAll(je({},i,{fetching:!0})).length},e.getQueryData=function(i,o){var a;return(a=this.queryCache.find(i,o))==null?void 0:a.state.data},e.getQueriesData=function(i){return this.getQueryCache().findAll(i).map(function(o){var a=o.queryKey,c=o.state,d=c.data;return[a,d]})},e.setQueryData=function(i,o,a){var c=mc(i),d=this.defaultQueryOptions(c);return this.queryCache.build(this,d).setData(o,a)},e.setQueriesData=function(i,o,a){var c=this;return ot.batch(function(){return c.getQueryCache().findAll(i).map(function(d){var f=d.queryKey;return[f,c.setQueryData(f,o,a)]})})},e.getQueryState=function(i,o){var a;return(a=this.queryCache.find(i,o))==null?void 0:a.state},e.removeQueries=function(i,o){var a=_i(i,o),c=a[0],d=this.queryCache;ot.batch(function(){d.findAll(c).forEach(function(f){d.remove(f)})})},e.resetQueries=function(i,o,a){var c=this,d=_i(i,o,a),f=d[0],y=d[1],v=this.queryCache,w=je({},f,{active:!0});return ot.batch(function(){return v.findAll(f).forEach(function(I){I.reset()}),c.refetchQueries(w,y)})},e.cancelQueries=function(i,o,a){var c=this,d=_i(i,o,a),f=d[0],y=d[1],v=y===void 0?{}:y;typeof v.revert>"u"&&(v.revert=!0);var w=ot.batch(function(){return c.queryCache.findAll(f).map(function(I){return I.cancel(v)})});return Promise.all(w).then(jt).catch(jt)},e.invalidateQueries=function(i,o,a){var c,d,f,y=this,v=_i(i,o,a),w=v[0],I=v[1],A=je({},w,{active:(c=(d=w.refetchActive)!=null?d:w.active)!=null?c:!0,inactive:(f=w.refetchInactive)!=null?f:!1});return ot.batch(function(){return y.queryCache.findAll(w).forEach(function(O){O.invalidate()}),y.refetchQueries(A,I)})},e.refetchQueries=function(i,o,a){var c=this,d=_i(i,o,a),f=d[0],y=d[1],v=ot.batch(function(){return c.queryCache.findAll(f).map(function(I){return I.fetch(void 0,je({},y,{meta:{refetchPage:f==null?void 0:f.refetchPage}}))})}),w=Promise.all(v).then(jt);return y!=null&&y.throwOnError||(w=w.catch(jt)),w},e.fetchQuery=function(i,o,a){var c=mc(i,o,a),d=this.defaultQueryOptions(c);typeof d.retry>"u"&&(d.retry=!1);var f=this.queryCache.build(this,d);return f.isStaleByTime(d.staleTime)?f.fetch(d):Promise.resolve(f.state.data)},e.prefetchQuery=function(i,o,a){return this.fetchQuery(i,o,a).then(jt).catch(jt)},e.fetchInfiniteQuery=function(i,o,a){var c=mc(i,o,a);return c.behavior=$x(),this.fetchQuery(c)},e.prefetchInfiniteQuery=function(i,o,a){return this.fetchInfiniteQuery(i,o,a).then(jt).catch(jt)},e.cancelMutations=function(){var i=this,o=ot.batch(function(){return i.mutationCache.getAll().map(function(a){return a.cancel()})});return Promise.all(o).then(jt).catch(jt)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(i){return this.mutationCache.build(this,i).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(i){this.defaultOptions=i},e.setQueryDefaults=function(i,o){var a=this.queryDefaults.find(function(c){return ys(i)===ys(c.queryKey)});a?a.defaultOptions=o:this.queryDefaults.push({queryKey:i,defaultOptions:o})},e.getQueryDefaults=function(i){var o;return i?(o=this.queryDefaults.find(function(a){return zc(i,a.queryKey)}))==null?void 0:o.defaultOptions:void 0},e.setMutationDefaults=function(i,o){var a=this.mutationDefaults.find(function(c){return ys(i)===ys(c.mutationKey)});a?a.defaultOptions=o:this.mutationDefaults.push({mutationKey:i,defaultOptions:o})},e.getMutationDefaults=function(i){var o;return i?(o=this.mutationDefaults.find(function(a){return zc(i,a.mutationKey)}))==null?void 0:o.defaultOptions:void 0},e.defaultQueryOptions=function(i){if(i!=null&&i._defaulted)return i;var o=je({},this.defaultOptions.queries,this.getQueryDefaults(i==null?void 0:i.queryKey),i,{_defaulted:!0});return!o.queryHash&&o.queryKey&&(o.queryHash=Up(o.queryKey,o)),o},e.defaultQueryObserverOptions=function(i){return this.defaultQueryOptions(i)},e.defaultMutationOptions=function(i){return i!=null&&i._defaulted?i:je({},this.defaultOptions.mutations,this.getMutationDefaults(i==null?void 0:i.mutationKey),i,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}(),qx=function(n){ku(e,n);function e(i,o){var a;return a=n.call(this)||this,a.client=i,a.options=o,a.trackedProps=[],a.selectError=null,a.bindMethods(),a.setOptions(o),a}var t=e.prototype;return t.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},t.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),b_(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.shouldFetchOnReconnect=function(){return $f(this.currentQuery,this.options,this.options.refetchOnReconnect)},t.shouldFetchOnWindowFocus=function(){return $f(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},t.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},t.setOptions=function(o,a){var c=this.options,d=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(o),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=c.queryKey),this.updateQuery();var f=this.hasListeners();f&&L_(this.currentQuery,d,this.options,c)&&this.executeFetch(),this.updateResult(a),f&&(this.currentQuery!==d||this.options.enabled!==c.enabled||this.options.staleTime!==c.staleTime)&&this.updateStaleTimeout();var y=this.computeRefetchInterval();f&&(this.currentQuery!==d||this.options.enabled!==c.enabled||y!==this.currentRefetchInterval)&&this.updateRefetchInterval(y)},t.getOptimisticResult=function(o){var a=this.client.defaultQueryObserverOptions(o),c=this.client.getQueryCache().build(this.client,a);return this.createResult(c,a)},t.getCurrentResult=function(){return this.currentResult},t.trackResult=function(o,a){var c=this,d={},f=function(v){c.trackedProps.includes(v)||c.trackedProps.push(v)};return Object.keys(o).forEach(function(y){Object.defineProperty(d,y,{configurable:!1,enumerable:!0,get:function(){return f(y),o[y]}})}),(a.useErrorBoundary||a.suspense)&&f("error"),d},t.getNextResult=function(o){var a=this;return new Promise(function(c,d){var f=a.subscribe(function(y){y.isFetching||(f(),y.isError&&(o!=null&&o.throwOnError)?d(y.error):c(y))})})},t.getCurrentQuery=function(){return this.currentQuery},t.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},t.refetch=function(o){return this.fetch(je({},o,{meta:{refetchPage:o==null?void 0:o.refetchPage}}))},t.fetchOptimistic=function(o){var a=this,c=this.client.defaultQueryObserverOptions(o),d=this.client.getQueryCache().build(this.client,c);return d.fetch().then(function(){return a.createResult(d,c)})},t.fetch=function(o){var a=this;return this.executeFetch(o).then(function(){return a.updateResult(),a.currentResult})},t.executeFetch=function(o){this.updateQuery();var a=this.currentQuery.fetch(this.options,o);return o!=null&&o.throwOnError||(a=a.catch(jt)),a},t.updateStaleTimeout=function(){var o=this;if(this.clearStaleTimeout(),!(jc||this.currentResult.isStale||!Uf(this.options.staleTime))){var a=Cw(this.currentResult.dataUpdatedAt,this.options.staleTime),c=a+1;this.staleTimeoutId=setTimeout(function(){o.currentResult.isStale||o.updateResult()},c)}},t.computeRefetchInterval=function(){var o;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(o=this.options.refetchInterval)!=null?o:!1},t.updateRefetchInterval=function(o){var a=this;this.clearRefetchInterval(),this.currentRefetchInterval=o,!(jc||this.options.enabled===!1||!Uf(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(a.options.refetchIntervalInBackground||ru.isFocused())&&a.executeFetch()},this.currentRefetchInterval))},t.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},t.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},t.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},t.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},t.createResult=function(o,a){var c=this.currentQuery,d=this.options,f=this.currentResult,y=this.currentResultState,v=this.currentResultOptions,w=o!==c,I=w?o.state:this.currentQueryInitialState,A=w?this.currentResult:this.previousQueryResult,O=o.state,z=O.dataUpdatedAt,M=O.error,H=O.errorUpdatedAt,Y=O.isFetching,W=O.status,oe=!1,ve=!1,ae;if(a.optimisticResults){var D=this.hasListeners(),S=!D&&b_(o,a),C=D&&L_(o,c,a,d);(S||C)&&(Y=!0,z||(W="loading"))}if(a.keepPreviousData&&!O.dataUpdateCount&&(A!=null&&A.isSuccess)&&W!=="error")ae=A.data,z=A.dataUpdatedAt,W=A.status,oe=!0;else if(a.select&&typeof O.data<"u")if(f&&O.data===(y==null?void 0:y.data)&&a.select===this.selectFn)ae=this.selectResult;else try{this.selectFn=a.select,ae=a.select(O.data),a.structuralSharing!==!1&&(ae=Bc(f==null?void 0:f.data,ae)),this.selectResult=ae,this.selectError=null}catch(L){Hc().error(L),this.selectError=L}else ae=O.data;if(typeof a.placeholderData<"u"&&typeof ae>"u"&&(W==="loading"||W==="idle")){var k;if(f!=null&&f.isPlaceholderData&&a.placeholderData===(v==null?void 0:v.placeholderData))k=f.data;else if(k=typeof a.placeholderData=="function"?a.placeholderData():a.placeholderData,a.select&&typeof k<"u")try{k=a.select(k),a.structuralSharing!==!1&&(k=Bc(f==null?void 0:f.data,k)),this.selectError=null}catch(L){Hc().error(L),this.selectError=L}typeof k<"u"&&(W="success",ae=k,ve=!0)}this.selectError&&(M=this.selectError,ae=this.selectResult,H=Date.now(),W="error");var b={status:W,isLoading:W==="loading",isSuccess:W==="success",isError:W==="error",isIdle:W==="idle",data:ae,dataUpdatedAt:z,error:M,errorUpdatedAt:H,failureCount:O.fetchFailureCount,errorUpdateCount:O.errorUpdateCount,isFetched:O.dataUpdateCount>0||O.errorUpdateCount>0,isFetchedAfterMount:O.dataUpdateCount>I.dataUpdateCount||O.errorUpdateCount>I.errorUpdateCount,isFetching:Y,isRefetching:Y&&W!=="loading",isLoadingError:W==="error"&&O.dataUpdatedAt===0,isPlaceholderData:ve,isPreviousData:oe,isRefetchError:W==="error"&&O.dataUpdatedAt!==0,isStale:jp(o,a),refetch:this.refetch,remove:this.remove};return b},t.shouldNotifyListeners=function(o,a){if(!a)return!0;var c=this.options,d=c.notifyOnChangeProps,f=c.notifyOnChangePropsExclusions;if(!d&&!f||d==="tracked"&&!this.trackedProps.length)return!0;var y=d==="tracked"?this.trackedProps:d;return Object.keys(o).some(function(v){var w=v,I=o[w]!==a[w],A=y==null?void 0:y.some(function(z){return z===v}),O=f==null?void 0:f.some(function(z){return z===v});return I&&!O&&(!y||A)})},t.updateResult=function(o){var a=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Px(this.currentResult,a)){var c={cache:!0};(o==null?void 0:o.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,a)&&(c.listeners=!0),this.notify(je({},c,o))}},t.updateQuery=function(){var o=this.client.getQueryCache().build(this.client,this.options);if(o!==this.currentQuery){var a=this.currentQuery;this.currentQuery=o,this.currentQueryInitialState=o.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(a==null||a.removeObserver(this),o.addObserver(this))}},t.onQueryUpdate=function(o){var a={};o.type==="success"?a.onSuccess=!0:o.type==="error"&&!yc(o.error)&&(a.onError=!0),this.updateResult(a),this.hasListeners()&&this.updateTimers()},t.notify=function(o){var a=this;ot.batch(function(){o.onSuccess?(a.options.onSuccess==null||a.options.onSuccess(a.currentResult.data),a.options.onSettled==null||a.options.onSettled(a.currentResult.data,null)):o.onError&&(a.options.onError==null||a.options.onError(a.currentResult.error),a.options.onSettled==null||a.options.onSettled(void 0,a.currentResult.error)),o.listeners&&a.listeners.forEach(function(c){c(a.currentResult)}),o.cache&&a.client.getQueryCache().notify({query:a.currentQuery,type:"observerResultsUpdated"})})},e}(xu);function Hx(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function b_(n,e){return Hx(n,e)||n.state.dataUpdatedAt>0&&$f(n,e,e.refetchOnMount)}function $f(n,e,t){if(e.enabled!==!1){var i=typeof t=="function"?t(n):t;return i==="always"||i!==!1&&jp(n,e)}return!1}function L_(n,e,t,i){return t.enabled!==!1&&(n!==e||i.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&jp(n,t)}function jp(n,e){return n.isStaleByTime(e.staleTime)}var Wx=SS.unstable_batchedUpdates;ot.setBatchNotifyFunction(Wx);var Qx=console;bx(Qx);var V_=Gt.createContext(void 0),Dw=Gt.createContext(!1);function Nw(n){return n&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=V_),window.ReactQueryClientContext):V_}var Kx=function(){var e=Gt.useContext(Nw(Gt.useContext(Dw)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Gx=function(e){var t=e.client,i=e.contextSharing,o=i===void 0?!1:i,a=e.children;Gt.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var c=Nw(o);return Gt.createElement(Dw.Provider,{value:o},Gt.createElement(c.Provider,{value:t},a))};function Yx(){var n=!1;return{clearReset:function(){n=!1},reset:function(){n=!0},isReset:function(){return n}}}var Jx=Gt.createContext(Yx()),Xx=function(){return Gt.useContext(Jx)};function Zx(n,e,t){return typeof e=="function"?e.apply(void 0,t):typeof e=="boolean"?e:!!n}function eO(n,e){var t=Gt.useRef(!1),i=Gt.useState(0),o=i[1],a=Kx(),c=Xx(),d=a.defaultQueryObserverOptions(n);d.optimisticResults=!0,d.onError&&(d.onError=ot.batchCalls(d.onError)),d.onSuccess&&(d.onSuccess=ot.batchCalls(d.onSuccess)),d.onSettled&&(d.onSettled=ot.batchCalls(d.onSettled)),d.suspense&&(typeof d.staleTime!="number"&&(d.staleTime=1e3),d.cacheTime===0&&(d.cacheTime=1)),(d.suspense||d.useErrorBoundary)&&(c.isReset()||(d.retryOnMount=!1));var f=Gt.useState(function(){return new e(a,d)}),y=f[0],v=y.getOptimisticResult(d);if(Gt.useEffect(function(){t.current=!0,c.clearReset();var w=y.subscribe(ot.batchCalls(function(){t.current&&o(function(I){return I+1})}));return y.updateResult(),function(){t.current=!1,w()}},[c,y]),Gt.useEffect(function(){y.setOptions(d,{listeners:!1})},[d,y]),d.suspense&&v.isLoading)throw y.fetchOptimistic(d).then(function(w){var I=w.data;d.onSuccess==null||d.onSuccess(I),d.onSettled==null||d.onSettled(I,null)}).catch(function(w){c.clearReset(),d.onError==null||d.onError(w),d.onSettled==null||d.onSettled(void 0,w)});if(v.isError&&!c.isReset()&&!v.isFetching&&Zx(d.suspense,d.useErrorBoundary,[v.error,y.getCurrentQuery()]))throw v.error;return d.notifyOnChangeProps==="tracked"&&(v=y.trackResult(v,d)),v}function tO(n,e,t){var i=mc(n,e,t);return eO(i,qx)}const nO=F.lazy(()=>pr(()=>import("./PageLogin-jnowuWH_.js"),[])),rO=F.lazy(()=>pr(()=>import("./PageRegister-DpbkHMED.js"),[])),iO=F.lazy(()=>pr(()=>import("./MiLista-C7MgFZXH.js"),__vite__mapDeps([0,1,2,3,4,5]))),sO=F.lazy(()=>pr(()=>import("./Buscar-DiqOQy8C.js"),__vite__mapDeps([6,2,7,1,3,8]))),oO=F.lazy(()=>pr(()=>import("./Home-Bebd1shE.js"),__vite__mapDeps([9,10,7,2,11,12,4,13]))),aO=F.lazy(()=>pr(()=>import("./ManagePerfil-BwqJZu_f.js"),__vite__mapDeps([14,15]))),M_=F.lazy(()=>pr(()=>import("./InfoWindow-zf9uKoTg.js"),__vite__mapDeps([16,17,18]))),uO=F.lazy(()=>pr(()=>import("./MoviesWindow-DVaAnwoj.js"),__vite__mapDeps([19,10,7,2,11,12,4,13,20,21,22,1,3,18]))),lO=F.lazy(()=>pr(()=>import("./SeriesWindow-Bx9I9TGS.js"),__vite__mapDeps([23,10,7,2,11,12,4,13,20,21,22,1,3,18]))),cO=F.lazy(()=>pr(()=>import("./CreateProfile-BwBET4qD.js"),__vite__mapDeps([24,25,26,27,28,29,30])));function hO(){const{isLoggedIn:n,loading:e,currentPerfil:t,currentUser:i}=Sx(),{data:o=[]}=tO(`perfiles-${i==null?void 0:i.id}`,()=>Tx(i==null?void 0:i.id),{staleTime:0,enabled:!!(i!=null&&i.id)});return e?fe.jsx(cy,{}):fe.jsxs(fS,{children:[fe.jsx(p0,{position:"top-right",reverseOrder:!1}),fe.jsx(F.Suspense,{fallback:fe.jsx(cy,{}),children:fe.jsxs(BI,{children:[fe.jsx(Ut,{path:"/",element:fe.jsx(lf,{to:n?t&&o.length?"/home":"/manageProfiles":"/login",replace:!0})}),fe.jsx(Ut,{path:"login",element:fe.jsx(nO,{})}),fe.jsx(Ut,{path:"register",element:fe.jsx(rO,{})}),fe.jsxs(Ut,{element:fe.jsx(hy,{isAllowed:n,redirectTo:"/login"}),children:[fe.jsx(Ut,{path:"manageProfiles",element:fe.jsx(aO,{})}),fe.jsx(Ut,{path:"createProfile",element:fe.jsx(cO,{})}),fe.jsxs(Ut,{element:fe.jsx(hy,{isAllowed:t!=null,redirectTo:"/manageProfiles"}),children:[fe.jsx(Ut,{path:"home",element:fe.jsx(oO,{})}),fe.jsx(Ut,{path:"miLista",element:fe.jsx(iO,{})}),fe.jsx(Ut,{path:"buscar",element:fe.jsx(sO,{})}),fe.jsx(Ut,{path:"movies",element:fe.jsx(uO,{})}),fe.jsx(Ut,{path:"series",element:fe.jsx(lO,{})}),fe.jsx(Ut,{path:"movie/:movieId",element:fe.jsx(M_,{type:"movie"})}),fe.jsx(Ut,{path:"serie/:seriesId",element:fe.jsx(M_,{type:"serie"})})]})]}),fe.jsx(Ut,{path:"*",element:fe.jsx(lf,{to:"/login"})})]})})]})}const bw=F.createContext(void 0);function dO({children:n}){const[e,t]=F.useState(!1);return fe.jsx(bw.Provider,{value:{openMenu:e,setOpenMenu:t},children:n})}function xO(){const n=F.useContext(bw);if(!n)throw new Error("useMenu debe usarse dentro de un MenuProvider");return n}const Lw=F.createContext(void 0),fO=({children:n})=>{const[e,t]=F.useState("en");return fe.jsx(Lw.Provider,{value:{language:e,setLanguage:t},children:n})},OO=()=>{const n=F.useContext(Lw);if(!n)throw new Error("useLanguage debe ser usado dentro de LanguageProvider");return n},Vw=F.createContext(void 0),pO=({children:n})=>{const[e,t]=F.useState(!1);return fe.jsx(Vw.Provider,{value:{emailExists:e,setEmailExists:t},children:n})},DO=()=>{const n=F.useContext(Vw);if(!n)throw new Error("useEmail debe ser usado dentro de EmailProvider");return n},Mw=F.createContext(void 0);function mO({children:n}){const[e,t]=F.useState("");return fe.jsx(Mw.Provider,{value:{searchTerm:e,setSearchTerm:t},children:n})}function NO(){const n=F.useContext(Mw);if(!n)throw new Error("useSearch debe usarse dentro de un SearchProvider");return n}const gO=new Bx;KT.createRoot(document.getElementById("root")).render(fe.jsx(Gx,{client:gO,children:fe.jsx(dO,{children:fe.jsx(fO,{children:fe.jsx(Ix,{children:fe.jsx(pO,{children:fe.jsx(mO,{children:fe.jsx(hO,{})})})})})})}));export{Ts as A,dr as B,mh as C,IO as D,Mf as E,SS as F,yO as G,Z_ as L,Gt as R,cy as S,pr as _,NO as a,xO as b,tO as c,Q_ as d,Kx as e,OO as f,kO as g,AO as h,Tx as i,fe as j,CO as k,Rn as l,ku as m,je as n,RO as o,Mi as p,zf as q,F as r,F_ as s,IS as t,Sx as u,_O as v,PO as w,DO as x,SO as y,Uc as z};
