const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DetalleBaner-FWJ7qzlQ.js","assets/index-DCwkW2sc.js","assets/index-C_6mexaa.css","assets/DetalleBaner-Bo0QwDtA.css","assets/ModalVideo-BSz58qw9.js","assets/index-B1OoCio-.js","assets/DefaultPropsProvider-DYHmmUa2.js","assets/useForkRef-RmfwEAcS.js","assets/Transition-POQAe82F.js","assets/objectWithoutPropertiesLoose-Dsqj8S3w.js","assets/TransitionGroupContext-CG-wP-UT.js"])))=>i.map(i=>d[i]);
import{j as e,r as l,_ as $,d as M,f as U,c as m}from"./index-DCwkW2sc.js";import{f as g}from"./fetchData-DCFA1qTy.js";import{C as S,u as A,m as L,B as b,U as D,f as P,c as F,e as I,h as T,i as V}from"./BarMenu-BoUtmQLd.js";import{u as G}from"./useFavorites-DZlHeNtu.js";const R=(s,o="US")=>{var n,t,i,c,u;return s&&"content_ratings"in s?(n=s.content_ratings.results.filter(r=>r.iso_3166_1===o||"US").filter(r=>(r==null?void 0:r.rating)!="")[0])==null?void 0:n.rating:s&&"release_dates"in s?(u=(c=(i=((t=s==null?void 0:s.release_dates)==null?void 0:t.results.filter(r=>r.iso_3166_1===o))[0])==null?void 0:i.release_dates)==null?void 0:c.filter(r=>r.certification!="")[0])==null?void 0:u.certification:null};function X(s){var o,n;return(n=(o=s==null?void 0:s.results)==null?void 0:o.filter(t=>(t==null?void 0:t.key)!=null)[0])==null?void 0:n.key}function z(s){var n,t,i;const o=((t=(n=s==null?void 0:s.videos)==null?void 0:n.results)==null?void 0:t.find(c=>c.name==="Official Trailer"))||((i=s==null?void 0:s.videos)==null?void 0:i.results[0]);return o==null?void 0:o.key}const Y=s=>{if(!s)return null;if(s<60)return`${s} min`;const o=Math.floor(s/60),n=s%60;return n>0?`${o} h ${n} min`:`${o} h`},Z=(s,o,n,t)=>s.map(i=>e.jsx(S,{item:i,isLarge:n>1e3?o:!1,onAddFavorite:t},i.id)),W=l.lazy(()=>$(()=>import("./DetalleBaner-FWJ7qzlQ.js"),__vite__mapDeps([0,1,2,3]))),K=l.lazy(()=>$(()=>import("./ModalVideo-BSz58qw9.js"),__vite__mapDeps([4,1,2,5,6,7,8,9,10])));function ss({itemId:s,isDetail:o=!1,type:n}){var _,j,v,y,N;const t=M(),{handleAddFavorite:i}=G(),{language:c}=U(),u=A(),[f,d]=l.useState(!1),[r,E]=l.useState(!1),{data:a,isLoading:k}=m(`movie-${s}`,()=>n==="movie"?g(F(s).movieDetails):g(I(s)),{enabled:!!s});console.log(a);const{data:x}=m(`logo-item-${n}-${s}`,()=>n==="movie"?g(T(s)):g(V(s)),{enabled:!!s,staleTime:1e3*60*5}),h=((v=(j=(_=a==null?void 0:a.images)==null?void 0:_.logos)==null?void 0:j.find(p=>p.iso_639_1===c))==null?void 0:v.file_path)||((N=(y=x==null?void 0:x.logos)==null?void 0:y[0])==null?void 0:N.file_path)||null,C=l.useCallback(()=>{t(`/${n}/${a==null?void 0:a.id}`)},[t,a==null?void 0:a.id]),O=()=>a!=null&&a.overview?e.jsxs("p",{className:"overview",children:[u>600?a.overview.slice(0,350):a.overview.slice(0,150),"..."]}):null,w=()=>h?e.jsx("img",{className:"logo-banner",src:`${P}${h}`,alt:"Logo",onLoad:()=>E(!0),style:{opacity:r?1:0,transition:"opacity 0.6s ease-in-out"}}):null;function B(){return e.jsxs("div",{className:"botones",children:[e.jsxs("button",{className:"play",onClick:()=>d(!0),children:[e.jsx("i",{className:"fa-solid fa-play"})," Play"]}),f&&e.jsx(l.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(K,{videoKey:z(a),open:f,onClose:()=>d(!1)})}),location.hash!=="#/info"&&e.jsxs("button",{onClick:C,className:"boton-info-banner",children:[e.jsx("i",{className:"fa-solid fa-circle-info"})," More Information"]}),e.jsx("button",{onClick:()=>i(a),className:"botonMeGustaBanner",children:e.jsx("i",{className:"fa-solid fa-heart"})})]})}return!s||!a||k?e.jsxs(L.div,{className:"header",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeOut"},children:[e.jsx(b,{}),e.jsx("div",{className:"fondoCardItem h-full w-full absolute inset-0 opacity-100 transition-opacity duration-400"})]}):e.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeOut"},className:"header",children:[e.jsx("img",{src:`${D}${a==null?void 0:a.backdrop_path}`,className:"fondo",onLoad:p=>p.currentTarget.style.opacity="1",style:{opacity:0,transition:"opacity 0.2s ease-in-out"}}),e.jsx(b,{}),e.jsx("div",{className:"cuerpoBanner",children:e.jsxs("div",{className:`contenedorLogo ${o?"contenedorDetailN":""}`,children:[e.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[e.jsx(w,{}),R(a)&&u<=600&&e.jsxs("span",{className:"edadParaPublico inline-block max-h-fit",children:[R(a),"+"]})]}),o&&e.jsx(l.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(W,{item:a})}),e.jsx(B,{}),O()]})})]})}export{ss as B,X as a,Y as f,R as g,Z as r};
